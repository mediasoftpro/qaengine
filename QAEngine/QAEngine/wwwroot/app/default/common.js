(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"2uHY":function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var i=s("fXoL"),o=s("nD3/"),n=s("1pjZ");let r=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const s=e.getConfig("host");this.apiOptions={load_roles:s+"api/role/load",load_objects:s+"api/roleobject/load",getinfo:s+"api/role/getinfo",add_role:s+"api/role/proc",add_object:s+"api/roleobject/proc",delete_role:s+"api/role/action",delete_object:s+"api/roleobject/action",update_permission:s+"api/rolepermission/proc"},this.init_search_options()}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[]}}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitRoleObject(){return{id:0,rolename:""}}getInitRoleObjectObject(){return{id:0,objectname:"",description:"",uniqueid:""}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(o.a),i.Yb(n.a))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})()},KJAg:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("JgvU"),o=s("LEd3"),n=s("fXoL"),r=s("l7P3"),c=s("2uHY"),p=s("tk/3");let a=(()=>{class t{constructor(t,e,s){this._store=t,this.settings=e,this.http=s}LoadRoles(){const t=this.settings.getApiOptions().load_roles;this._store.dispatch(new i.k({})),this.http.post(t,{}).subscribe(t=>{this._store.dispatch(new i.l(t))},t=>{this._store.dispatch(new i.g(t))})}LoadObjects(){const t=this.settings.getApiOptions().load_objects;this._store.dispatch(new i.i({})),this.http.post(t,{}).subscribe(t=>{this._store.dispatch(new i.j(t))},t=>{this._store.dispatch(new i.h(t))})}AddRole(t){console.log(this.settings.getApiOptions().add_role),this.http.post(this.settings.getApiOptions().add_role,JSON.stringify(t)).subscribe(t=>{this._store.dispatch(new i.d(t.record))},t=>{this._store.dispatch(new i.h(t))})}AddObject(t){this.http.post(this.settings.getApiOptions().add_object,JSON.stringify(t)).subscribe(e=>{this._store.dispatch(t.id>0?new i.m(e.record):new i.c(e.record))},t=>{this._store.dispatch(new i.h(t))})}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({id:t}))}UpdatePermission(t){const e=this.settings.getApiOptions().update_permission;return this.http.post(e,JSON.stringify(t))}DeleteRecord(t,e,s,i){t.actionstatus="delete";const o=[];o.push(t),this.ProcessActions(o,"delete",s,i)}ProcessActions(t,e,s,n){this._store.dispatch(1===n?new i.f({SelectedItems:t,isenabled:e}):new i.e({SelectedItems:t,isenabled:e})),this.http.post(s,JSON.stringify(t)).subscribe(t=>{let s="Operation Performed";"delete"===e&&(s="Record Removed"),this._store.dispatch(new o.c({title:s,text:"",css:"bg-success"}))},t=>{this._store.dispatch(new o.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(r.h),n.Yb(c.a),n.Yb(p.b))},t.\u0275prov=n.Gb({token:t,factory:t.\u0275fac}),t})()},XLPV:function(t,e,s){"use strict";s.d(e,"d",(function(){return i})),s.d(e,"c",(function(){return o})),s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return r}));const i=t=>t.roles.roles,o=t=>t.roles.objects,n=t=>t.roles.isroleloaded,r=t=>t.roles.isobjectloaded}}]);