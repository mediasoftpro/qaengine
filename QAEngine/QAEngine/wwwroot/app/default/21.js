(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{dEKL:function(t,e,i){"use strict";i.r(e),i.d(e,"QAModule",(function(){return nt}));var s=i("1kSV"),o=i("ofXK"),n=i("3Pt+"),a=i("tyNb"),r=i("fXoL"),c=i("eYWs");let d=(()=>{class t{constructor(){this.isAdmin=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"isAdmin"]],template:function(t,e){1&t&&r.Lb(0,"app-qa-mainlist",0),2&t&&r.kc("isAdmin",e.isAdmin)},directives:[c.a],encapsulation:2}),t})();var l=i("ZHT1"),b=i("jyKJ"),h=i("kwlv"),p=i("o+qO");let u=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[l.a,b.a,h.a],imports:[[o.c,p.a,a.j,n.l]]}),t})();var f=i("l7P3"),m=i("LEd3"),g=i("XDFV"),v=i("pdjO"),I=i("+kG/");let A=(()=>{class t{constructor(t,e,i,s){this._store=t,this.activeModal=e,this.service=i,this.dataService=s,this.showLoader=!1,this.list=[]}ngOnInit(){this.title=this.Info.title,this.controls=this.service.getAnswerControls(this.Info.data)}SubmitForm(t){if(void 0!==this.Info.isActionGranded&&!this.Info.isActionGranded)return void this._store.dispatch(new m.c({title:"Permission Denied",text:"",css:"bg-danger"}));t.id=this.Info.data.id,t.userid=this.Info.data.userid,t.qid=this.Info.data.qid,t.answers=this.Info.answers;let e="Added";this.Info.data.id>0&&(t.id=this.Info.data.id,e="Updated"),this.showLoader=!0,this.dataService.PostAnswer(t).subscribe(t=>{"error"===t.status?this._store.dispatch(new m.c({title:t.message,text:"",css:"bg-error"})):(this._store.dispatch(new m.c({title:"Record "+e+" Successfully",text:"",css:"bg-success"})),this.activeModal.close({data:t.record,isenabled:e})),this.showLoader=!1},t=>{this.showLoader=!1,this._store.dispatch(new m.c({title:"Error Occured",text:"",css:"bg-danger"}))})}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(s.a),r.Kb(h.a),r.Kb(b.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[r.wb([h.a,b.a])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"h4",1),r.Fc(2),r.Pb(),r.Qb(3,"button",2),r.bc("click",(function(){return e.activeModal.dismiss("Cross click")})),r.Qb(4,"span",3),r.Fc(5,"\xd7"),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"dynamic-modal-form",4),r.bc("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),r.Pb()),2&t&&(r.xb(2),r.Gc(e.title),r.xb(4),r.kc("controls",e.controls)("showLoader",e.showLoader))},directives:[I.a],encapsulation:2}),t})();var w=i("nD3/"),Q=i("Hjmt"),P=i("RDfn"),k=i("4HLj");const y=function(t){return[t]};function L(t,e){if(1&t&&(r.Qb(0,"span"),r.Qb(1,"a",24),r.Fc(2),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.xb(1),r.kc("routerLink",r.oc(2,y,"/blogs/category/"+t.category.term)),r.xb(1),r.Gc(t.category.title)}}function x(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",22),r.Fc(2," Categories "),r.Pb(),r.Qb(3,"div",22),r.Dc(4,L,3,4,"span",23),r.Pb(),r.Lb(5,"hr"),r.Pb()),2&t){const t=r.dc();r.xb(4),r.kc("ngForOf",t.Info.category_list)}}function F(t,e){if(1&t&&(r.Qb(0,"span"),r.Qb(1,"a",25),r.Fc(2),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.xb(1),r.kc("routerLink",r.oc(2,y,"/qa/tag/"+t.slug)),r.xb(1),r.Gc(t.title)}}function O(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",22),r.Fc(2," Tags: "),r.Pb(),r.Dc(3,F,3,4,"span",23),r.Pb()),2&t){const t=r.dc();r.xb(3),r.kc("ngForOf",t.Info.tags_arr)}}function _(t,e){1&t&&(r.Qb(0,"span",26),r.Fc(1,"Blocked"),r.Pb())}function D(t,e){1&t&&(r.Qb(0,"span",27),r.Fc(1,"Active"),r.Pb())}function S(t,e){1&t&&(r.Qb(0,"span",5),r.Fc(1,"Approved"),r.Pb())}function T(t,e){1&t&&(r.Qb(0,"span",28),r.Fc(1,"Under Review"),r.Pb())}function C(t,e){1&t&&(r.Qb(0,"span",29),r.Fc(1,"Featured"),r.Pb())}function G(t,e){1&t&&(r.Qb(0,"span",26),r.Fc(1,"Adult"),r.Pb())}function R(t,e){1&t&&(r.Qb(0,"span",26),r.Fc(1,"Resolved"),r.Pb())}function q(t,e){if(1&t&&(r.Qb(0,"a",39),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.kc("routerLink",r.oc(3,y,"/users/profile/"+t.userid)),r.xb(1),r.Ic("",t.author.firstname," ",t.author.lastname,"")}}function K(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",31),r.Lb(3,"div",7),r.Qb(4,"div",32),r.Qb(5,"a",33),r.bc("click",(function(i){r.uc(t);const s=e.$implicit;return r.dc(2).editAnswer(s,i),!1})),r.Lb(6,"i",34),r.Pb(),r.Qb(7,"a",33),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,o=e.index;return r.dc(2).delete(s,o,i),!1})),r.Lb(8,"i",35),r.Pb(),r.Pb(),r.Pb(),r.Lb(9,"div",8),r.Lb(10,"hr"),r.Fc(11," Posted "),r.Qb(12,"a",36),r.Fc(13),r.Pb(),r.Fc(14," by "),r.Dc(15,q,2,5,"a",37),r.Qb(16,"span",38),r.Fc(17),r.ec(18,"number"),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.xb(9),r.kc("innerHTML",t.description,r.vc),r.xb(4),r.Gc(t.customize_date),r.xb(2),r.kc("ngIf",t.author&&""!==t.author.firstname),r.xb(2),r.Hc(" ",r.gc(18,4,t.votes,".2")," votes")}}function M(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,K,19,7,"div",30),r.Pb()),2&t){const t=r.dc();r.xb(1),r.kc("ngForOf",t.Info.qa_answers)}}let H=(()=>{class t{constructor(t,e,i,s){this._store=t,this.modalService=e,this.settingService=i,this.dataService=s,this.auth$=this._store.pipe(Object(f.n)(g.a)),this.Info={},this.Author_FullName="",this.Auth={}}ngOnInit(){this.auth$.subscribe(t=>{this.Auth=t})}PostAnswer(){const t=this.settingService.getAnswerInitObject();t.userid=this.Auth.User.id,t.qid=this.Info.id,this.TriggleModal(t)}editAnswer(t,e){this.TriggleModal(t),e.stopPropagation()}TriggleModal(t){let e="Post Answer";t.id>0&&(e="Update Answer");const i=this.modalService.open(A,{backdrop:!1});i.componentInstance.Info={title:e,data:t,answers:this.Info.qa_answers.length,viewType:0},i.result.then(t=>{if("Added"===t.isenabled)this.Info.qa_answers.push(t.data);else for(const e of this.Info.qa_answers)e.id===t.data.id&&(e.description=t.data.description)},t=>{console.log("dismissed")})}delete(t,e,i){const s=confirm("Are you sure you want to delete selected answer?");t.answers=this.Info.qa_answers.length,!0===s&&(e>-1&&this.Info.qa_answers.splice(e,1),this.dataService.DeleteAnswer([t]).subscribe(t=>{console.log(t)})),i.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(s.b),r.Kb(l.a),r.Kb(b.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-qa-info"]],inputs:{Info:"Info",Author_FullName:"Author_FullName"},decls:56,vars:45,consts:[[1,"card"],[1,"card-body"],[1,"text-muted"],[1,"fa","fa-clock-o"],[1,"light"],[1,"badge","badge-info","m-r-5"],[1,"m-t-10","row"],[1,"col-md-10"],[3,"innerHTML"],[4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],["class","badge badge-danger  m-r-5",4,"ngIf"],["class","badge badge-success  m-r-5",4,"ngIf"],["class","badge badge-info  m-r-5",4,"ngIf"],["class","badge badge-warning  m-r-5",4,"ngIf"],["class","badge badge-primary  m-r-5",4,"ngIf"],[1,"col-md-2","text-center"],[1,"m-b-10",3,"routerLink"],[1,"img-thumbnail",3,"src","alt"],[1,"card-title",3,"routerLink"],[1,"m-b-10","m-t-10"],[1,"btn","btn-primary",3,"click"],[1,"m-b-10"],[4,"ngFor","ngForOf"],[1,"btn","btn-info","m-r-5",3,"routerLink"],[1,"btn","btn-danger","m-r-5",3,"routerLink"],[1,"badge","badge-danger","m-r-5"],[1,"badge","badge-success","m-r-5"],[1,"badge","badge-warning","m-r-5"],[1,"badge","badge-primary","m-r-5"],["class","card",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-2"],["href","#",1,"m-l-5",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],[1,"fa","fa-close","text-danger"],["href","",1,"light"],[3,"routerLink",4,"ngIf"],[1,"badge","badge-info","m-l-5"],[3,"routerLink"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"h3"),r.Fc(3),r.Pb(),r.Qb(4,"p"),r.Fc(5," Asked: "),r.Qb(6,"span",2),r.Lb(7,"i",3),r.Pb(),r.Fc(8),r.ec(9,"date"),r.Pb(),r.Qb(10,"p",4),r.Qb(11,"span",5),r.Fc(12),r.ec(13,"number"),r.Pb(),r.Qb(14,"span",5),r.Fc(15),r.ec(16,"number"),r.Pb(),r.Qb(17,"span",5),r.Fc(18),r.ec(19,"number"),r.Pb(),r.Qb(20,"span",5),r.Fc(21),r.ec(22,"number"),r.Pb(),r.Pb(),r.Qb(23,"div",6),r.Qb(24,"div",7),r.Lb(25,"div",8),r.Lb(26,"hr"),r.Dc(27,x,6,1,"div",9),r.Dc(28,O,4,1,"div",9),r.Lb(29,"hr"),r.Qb(30,"a",10),r.Fc(31,"User Asked Questions"),r.Pb(),r.Lb(32,"hr"),r.Qb(33,"h4"),r.Fc(34,"Status"),r.Pb(),r.Qb(35,"div"),r.Dc(36,_,2,0,"span",11),r.Dc(37,D,2,0,"span",12),r.Dc(38,S,2,0,"span",13),r.Dc(39,T,2,0,"span",14),r.Dc(40,C,2,0,"span",15),r.Dc(41,G,2,0,"span",11),r.Dc(42,R,2,0,"span",11),r.Pb(),r.Pb(),r.Qb(43,"div",16),r.Qb(44,"a",17),r.Lb(45,"img",18),r.Pb(),r.Qb(46,"a",19),r.Fc(47),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(48,"hr"),r.Qb(49,"h2"),r.Fc(50),r.Pb(),r.Dc(51,M,2,1,"div",9),r.Lb(52,"hr"),r.Qb(53,"div",20),r.Qb(54,"button",21),r.bc("click",(function(){return e.PostAnswer()})),r.Fc(55,"Post Answer"),r.Pb(),r.Pb()),2&t&&(r.xb(3),r.Gc(e.Info.title),r.xb(5),r.Hc(" ",r.gc(9,24,e.Info.created_at,"fullDate")," "),r.xb(4),r.Hc("",r.gc(13,27,e.Info.answers,".2")," answers"),r.xb(3),r.Hc("",r.gc(16,30,e.Info.votes,".2")," votes"),r.xb(3),r.Hc("",r.gc(19,33,e.Info.views,".2")," views "),r.xb(3),r.Hc("",r.gc(22,36,e.Info.favorites,".2")," favorites"),r.xb(4),r.kc("innerHTML",e.Info.description,r.vc),r.xb(2),r.kc("ngIf",e.Info.category_list.length>0),r.xb(1),r.kc("ngIf",e.Info.tags_arr.length>0),r.xb(2),r.kc("routerLink",r.oc(39,y,"/qa/user/"+e.Info.userid)),r.xb(6),r.kc("ngIf",0==e.Info.isenabled),r.xb(1),r.kc("ngIf",1==e.Info.isenabled),r.xb(1),r.kc("ngIf",1==e.Info.isapproved),r.xb(1),r.kc("ngIf",0==e.Info.isapproved),r.xb(1),r.kc("ngIf",1==e.Info.isfeatured),r.xb(1),r.kc("ngIf",1==e.Info.isadult),r.xb(1),r.kc("ngIf",1==e.Info.isresolved),r.xb(2),r.kc("routerLink",r.oc(41,y,"/users/profile/"+e.Info.author.id)),r.xb(1),r.lc("src",e.Info.author.img_url,r.wc),r.lc("alt",e.Author_FullName),r.xb(1),r.kc("routerLink",r.oc(43,y,"/users/profile/"+e.Info.author.id)),r.xb(1),r.Gc(e.Author_FullName),r.xb(3),r.Hc("",e.Info.qa_answers.length," Answers"),r.xb(1),r.kc("ngIf",e.Info.qa_answers.length>0))},directives:[o.u,a.i,o.t],pipes:[o.f,o.g],encapsulation:2}),t})();function j(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",1),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function $(t,e){1&t&&r.Lb(0,"app-loader")}function N(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",4),r.Qb(2,"app-toolbar-v2",5),r.bc("Action",(function(e){return r.uc(t),r.dc(2).toolbaraction(e)})),r.Pb(),r.Qb(3,"div",6),r.Lb(4,"app-qa-info",7),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc(2);r.xb(2),r.kc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.xb(2),r.kc("Author_FullName",t.Author_FullName)("Info",t.Info)}}function E(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Dc(3,$,1,0,"app-loader",0),r.Dc(4,N,5,4,"div",0),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc();r.xb(3),r.kc("ngIf",t.showLoader),r.xb(1),r.kc("ngIf",!t.showLoader)}}let U=(()=>{class t{constructor(t,e,i,s,o,n,a,r){this._store=t,this.settingService=e,this.dataService=i,this.coreService=s,this.route=o,this.permission=n,this.modalService=a,this.router=r,this.isItemsSelected=!0,this.RecordID=0,this.FilterOptions={},this.controls=[],this.showLoader=!1,this.formHeading="QA Information",this.submitText="Submit",this.Info={},this.uploadedFiles=[],this.SelectedItems=[],this.Author_FullName="",this.auth$=this._store.pipe(Object(f.n)(g.a)),this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{const e="1521395965196";this.permission.GrandResourceAccess(!1,e,"1521396022188",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.ToolbarOptions=this.settingService.getToolbarOptions(0,!0),this.ToolbarOptions.showtoolbar=!1,this.ToolbarOptions.showcheckAll=!1,this.ToolbarOptions.showsecondarytoolbar=!0,this.ToolbarOptions.ProfileView=!0,this.route.params.subscribe(t=>{this.RecordID=this.coreService.decrypt(t.id),isNaN(this.RecordID)&&(this.RecordID=0),this.RecordID>0&&this.LoadInfo()})}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe(t=>{"error"===t.status?(this._store.dispatch(new m.c({title:t.message,text:"",css:"bg-success"})),this.router.navigate(["/qa"])):(this.Info=t.post,this.Info.tags_arr=null!==this.Info.tags&&""!==this.Info.tags?this.ProcessCategories(this.Info.tags.split(",")):[],this.SelectedItems=[],this.SelectedItems.push(this.Info)),this.showLoader=!1})}ProcessCategories(t){const e=[];for(const i of t)e.push({title:i.trim(),slug:i.trim().replace(/\s+/g,"-").toLowerCase()});return e}toolbaraction(t){switch(t.action){case"m_markas":this.ProcessActions(t.value);break;case"add":return void this.Trigger_Modal({title:"Ask Question",isActionGranded:this.isActionGranded,data:this.settingService.getInitObject(),viewType:1});case"edit":return void this.Trigger_Modal({title:"Edit Question",isActionGranded:this.isActionGranded,data:this.Info,viewType:2})}}Trigger_Modal(t){const e=this.modalService.open(A,{backdrop:!1});e.componentInstance.Info=t,e.result.then(t=>{},t=>{console.log("dismissed")})}ProcessActions(t){if(this.isActionGranded){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t,0)}}else this._store.dispatch(new m.c({title:"Permission Denied",text:"",css:"bg-danger"}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(l.a),r.Kb(b.a),r.Kb(w.a),r.Kb(a.a),r.Kb(Q.a),r.Kb(s.b),r.Kb(a.f))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-12"],[1,"card"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"Author_FullName","Info"]],template:function(t,e){1&t&&(r.Dc(0,j,3,0,"div",0),r.Dc(1,E,5,2,"div",0)),2&t&&(r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[o.u,P.a,k.a,H],encapsulation:2,data:{animation:[v.a]}}),t})();var B=i("AnEY");let V=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[o.c,p.a,a.j,n.l,B.a]]}),t})();var J=i("S0rc");let X=(()=>{class t{constructor(){this.isAdmin=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"isAdmin"]],template:function(t,e){1&t&&r.Lb(0,"app-qa-process",0),2&t&&r.kc("isAdmin",e.isAdmin)},directives:[J.a],encapsulation:2}),t})();var Y=i("omRQ");let W=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[l.a,b.a,h.a],imports:[[o.c,p.a,a.j,n.l,Y.b]]}),t})();var z=i("Wsnd");function Z(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",1),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function tt(t,e){1&t&&r.Lb(0,"app-loader")}function et(t,e){if(1&t&&(r.Qb(0,"div"),r.Lb(1,"google-chart",5),r.Pb()),2&t){const t=r.dc(2);r.xb(1),r.kc("data",t.tooltipChart)}}function it(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",6),r.Qb(2,"h3",7),r.Fc(3),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc(2);r.xb(3),r.Hc(" ",t.message," ")}}function st(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Qb(3,"app-toolbar-v2",4),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)})),r.Pb(),r.Dc(4,tt,1,0,"app-loader",0),r.Dc(5,et,2,1,"div",0),r.Dc(6,it,4,1,"div",0),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc();r.xb(3),r.kc("isAdmin",t.isAdmin)("Options",t.ToolbarOptions),r.xb(1),r.kc("ngIf",t.showLoader),r.xb(1),r.kc("ngIf",!t.showLoader&&t.optionSelected),r.xb(1),r.kc("ngIf",!t.showLoader&&!t.optionSelected)}}const ot=[{path:"",data:{title:"QA Management",urls:[{title:"Dashboard",url:"/"},{title:"QA",url:"/qa"},{title:"Management"}]},component:d},{path:"tag/:tagname",data:{title:"QA Management",urls:[{title:"Dashboard",url:"/"},{title:"QA",url:"/qa"},{title:"Management"}]},component:d},{path:"category/:catname",data:{title:"QA Management",urls:[{title:"Dashboard",url:"/"},{title:"QA",url:"/qa"},{title:"Management"}]},component:d},{path:"user/:uname",data:{title:"QA Management",urls:[{title:"Dashboard",url:"/"},{title:"QA",url:"/qa"},{title:"Management"}]},component:d},{path:"filter/:abuse",data:{title:"QA Management (Reported Questions)",urls:[{title:"Dashboard",url:"/"},{title:"QA",url:"/qa"},{title:"(Reported Questions)"}]},component:d},{path:"profile/:id",data:{title:"QA Information",urls:[{title:"Dashboard",url:"/"},{title:"QA",url:"/qa"},{title:"QA Information"}]},component:U},{path:"reports",data:{title:"Reports Overview",urls:[{title:"Dashboard",url:"/"},{title:"QA",url:"/qa"},{title:"Reports Overview"}]},component:(()=>{class t{constructor(t,e,i,s,o,n,a,r){this._store=t,this.settingService=e,this.dataService=i,this.coreService=s,this.route=o,this.formService=n,this.permission=a,this.router=r,this.FilterOptions={},this.showLoader=!1,this.formHeading="QA Reports",this.isAdmin=!0,this.optionSelected=!1,this.ChartType="ColumnChart",this.message="Please select report type to generate!",this.filteroptions$=this._store.pipe(Object(f.n)(z.b)),this.auth$=this._store.pipe(Object(f.n)(g.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.tooltipChart={chartType:"ColumnChart",dataTable:[],options:{title:"Questions Asked",legend:"none",width:1e3,height:500,is3D:!0}}}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396112858";this.permission.GrandResourceAccess(!1,e,"1521396141248",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.filteroptions$.subscribe(t=>{this.FilterOptions=t}),this.ToolbarOptions=this.settingService.getToolbarOptions(0,!0),this.ToolbarOptions.showtoolbar=!0,this.ToolbarOptions.showcheckAll=!1,this.ToolbarOptions.showsecondarytoolbar=!1,this.ToolbarOptions.left_options=this.prepareLeftOptions(),this.ToolbarOptions.right_options=this.prepareRightOptions(),this.ToolbarOptions.right_options[0].title=this.ChartType}prepareLeftOptions(){return[{title:"Select Type",ismultiple:!0,Options:[{id:1,title:"Yearly",value:0,isclick:!0,clickevent:"reporty_type",tooltip:"Generate yearly report"},{id:2,title:"Monthly (Last 12 Months)",value:1,isclick:!0,clickevent:"reporty_type",tooltip:"Generate monthly report"},{id:3,title:"Daily (Current Month)",value:2,isclick:!0,clickevent:"reporty_type",tooltip:"Generate daily report"}]}]}prepareRightOptions(){return[{title:"Chart Type",ismultiple:!0,Options:[{id:1,title:"ColumnChart",value:"ColumnChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Column Chart"},{id:2,title:"BarChart",value:"BarChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Bar Chart"},{id:3,title:"LineChart",value:"LineChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Line Chart"},{id:3,title:"PieChart",value:"PieChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Pie Chart"}]}]}toolbaraction(t){if(this.isActionGranded){switch(t.action){case"chart_type":this.ChartType=t.value,console.log("chart type is "+this.ChartType),this.showLoader=!0,this.ToolbarOptions.right_options[0].title=this.ChartType,this.FilterOptions.chartType=this.ChartType,this.showLoader=!1;break;case"reporty_type":this.FilterOptions.reporttype=t.value}this.LoadReports()}else this._store.dispatch(new m.c({title:"Permission Denied",text:"",css:"bg-danger"}))}LoadReports(){this.showLoader=!0,this.dataService.LoadReports(this.FilterOptions).subscribe(t=>{this.tooltipChart.chartType=this.ChartType,t.data.dataTable.length>1?(this.tooltipChart.dataTable=t.data.dataTable,this.optionSelected=!0):(this.message="No Data Available!",this.optionSelected=!1),this.showLoader=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(l.a),r.Kb(b.a),r.Kb(w.a),r.Kb(a.a),r.Kb(h.a),r.Kb(Q.a),r.Kb(a.f))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-12"],[3,"isAdmin","Options","Action"],[3,"data"],[2,"padding","80px 0px"],[2,"text-align","center"]],template:function(t,e){1&t&&(r.Dc(0,Z,3,0,"div",0),r.Dc(1,st,7,5,"div",0)),2&t&&(r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[o.u,k.a,P.a,Y.a],encapsulation:2,data:{animation:[v.a]}}),t})()},{path:"process/:id",data:{title:"Add / Update QA",urls:[{title:"Dashboard",url:"/"},{title:"QA",url:"/qa"},{title:"Add / Update QA"}]},component:X}];let nt=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[o.c,n.l,p.a,u,V,B.a,W,s.c,a.j.forChild(ot)]]}),t})()}}]);