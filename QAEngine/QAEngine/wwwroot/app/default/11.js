(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{OgBg:function(t,e,i){"use strict";i.d(e,"g",(function(){return s})),i.d(e,"a",(function(){return o})),i.d(e,"h",(function(){return n})),i.d(e,"e",(function(){return r})),i.d(e,"c",(function(){return c})),i.d(e,"f",(function(){return a})),i.d(e,"b",(function(){return d})),i.d(e,"i",(function(){return h})),i.d(e,"d",(function(){return l}));const s=t=>t.categories.posts,o=t=>t.categories.dropdown_categories,n=t=>t.categories.records,r=t=>t.categories.loading,c=t=>t.categories.isloaded,a=t=>t.categories.pagination,d=t=>t.categories.filteroptions,h=t=>t.categories.selectall,l=t=>t.categories.itemsselected},YaUu:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var s=i("II9H"),o=i("l7P3"),n=i("3nTv"),r=i("fXoL"),c=i("nD3/"),a=i("1pjZ");let d=(()=>{class t{constructor(t,e,i){this._store=t,this.coreService=e,this.config=i,this.configs$=this._store.pipe(Object(o.n)(n.a)),this.Configs={};const s=i.getConfig("host");this.apiOptions={load:s+"api/categories/load",load_dropdown:s+"api/categories/load_dropdown",getinfo:s+"api/categories/getinfo",action:s+"api/categories/action",proc:s+"api/categories/proc"},this.configs$.subscribe(t=>{void 0!==t.general&&(this.Configs=t.general.category,this.init_toolbar_options(),this.init_search_options())})}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:this.initialize_actions()}}initialize_actions(){return[{id:1,title:"Add Category",tooltip:"Add new category",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:s.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Type",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:-1,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0}]});const t=[];for(const e in this.Configs)t.push({id:this.Configs[e],title:e});for(const e of t)this.toolbarOptions.left_options[0].Options.push({id:"0",title:e.title,value:e.id,isclick:!0,clickevent:"f_type",tooltip:"Load "+e.title+" templates"});this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"1",title:"Enable",value:1,actionstatus:"enable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:s.b.SUCCESS_BUTTON,tooltip:"Enable selected records"},{id:"2",title:"Disable",value:0,actionstatus:"disable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:s.b.SUCCESS_BUTTON,tooltip:"Disable selected records"},{id:"2",title:"Delete",value:0,actionstatus:"delete",css:s.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:s.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitObject(){return{id:0,title:"",term:"",description:"",parentid:0,priority:0,mode:0,isenabled:1,type:0,picturename:"",icon:"",files:[],img_url:""}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o.h),r.Yb(c.a),r.Yb(a.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})()},aJIM:function(t,e,i){"use strict";i.r(e),i.d(e,"BlogsModule",(function(){return It}));var s=i("1kSV"),o=i("ofXK"),n=i("3Pt+"),r=i("tyNb"),c=i("fXoL"),a=i("l7P3"),d=i("pVWW"),h=i("QpQk"),l=i("LEd3"),b=i("XDFV"),p=i("3nTv"),u=i("jyVE"),g=i("kCe6"),f=i("nD3/"),m=i("Hjmt"),v=i("/H0e"),I=i("4HLj"),_=i("oTv2");function A(t,e){1&t&&(c.Qb(0,"div"),c.Qb(1,"h2",5),c.Fc(2,"Access Denied"),c.Pb(),c.Pb())}function O(t,e){if(1&t){const t=c.Rb();c.Qb(0,"div"),c.Qb(1,"div",2),c.Qb(2,"div",6),c.Qb(3,"app-navigation-v2",7),c.bc("Action",(function(e){return c.uc(t),c.dc(2).toolbaraction(e)}))("SearchSelection",(function(e){return c.uc(t),c.dc(2).FindRecords(e)})),c.Pb(),c.Pb(),c.Qb(4,"div",8),c.Qb(5,"app-toolbar-v2",9),c.bc("Action",(function(e){return c.uc(t),c.dc(2).toolbaraction(e)}))("SelectAllCard",(function(e){return c.uc(t),c.dc(2).selectAll(e)})),c.Pb(),c.Qb(6,"div",10),c.Qb(7,"app-blog-list",11),c.bc("View",(function(e){return c.uc(t),c.dc(2).toolbaraction(e)}))("SelectedItems",(function(e){return c.uc(t),c.dc(2).getSelectedItems(e)})),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&t){const t=c.dc(2);c.xb(3),c.kc("isAdmin",t.isAdmin)("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),c.xb(2),c.kc("isAdmin",t.isAdmin)("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),c.xb(2),c.kc("route_path",t.route_path)("isAdmin",t.isAdmin)("isActionGranded",t.isActionGranded)}}function w(t,e){if(1&t&&(c.Qb(0,"div",2),c.Qb(1,"div",3),c.Qb(2,"div",4),c.Dc(3,A,3,0,"div",1),c.Dc(4,O,8,9,"div",1),c.Pb(),c.Pb(),c.Pb()),2&t){const t=c.dc();c.xb(3),c.kc("ngIf",!t.isAccessGranted),c.xb(1),c.kc("ngIf",t.isAccessGranted)}}function P(t,e){if(1&t){const t=c.Rb();c.Qb(0,"div"),c.Qb(1,"app-navigation-v2",7),c.bc("Action",(function(e){return c.uc(t),c.dc().toolbaraction(e)}))("SearchSelection",(function(e){return c.uc(t),c.dc().FindRecords(e)})),c.Pb(),c.Qb(2,"div",4),c.Qb(3,"div",10),c.Qb(4,"div",12),c.Qb(5,"app-toolbar-v2",9),c.bc("Action",(function(e){return c.uc(t),c.dc().toolbaraction(e)}))("SelectAllCard",(function(e){return c.uc(t),c.dc().selectAll(e)})),c.Pb(),c.Pb(),c.Qb(6,"app-blog-list",13),c.bc("View",(function(e){return c.uc(t),c.dc().toolbaraction(e)}))("SelectedItems",(function(e){return c.uc(t),c.dc().getSelectedItems(e)})),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&t){const t=c.dc();c.xb(1),c.kc("isAdmin",t.isAdmin)("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),c.xb(4),c.kc("isAdmin",t.isAdmin)("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),c.xb(1),c.kc("route_path",t.route_path)("isAdmin",t.isAdmin)}}let k=(()=>{class t{constructor(t,e,i,s,o,n,r){this._store=t,this.settingService=e,this.dataService=i,this.coreService=s,this.permission=o,this.router=n,this.route=r,this.isAdmin=!0,this.route_path="/blogs/",this.PublicView=!1,this.type=0,this.filteroptions$=this._store.pipe(Object(a.n)(d.b)),this.isloaded$=this._store.pipe(Object(a.n)(d.c)),this.categories$=this._store.pipe(Object(a.n)(d.a)),this.isItemSelected$=this._store.pipe(Object(a.n)(d.d)),this.records$=this._store.pipe(Object(a.n)(d.h)),this.pagination$=this._store.pipe(Object(a.n)(d.f)),this.auth$=this._store.pipe(Object(a.n)(b.a)),this.configs$=this._store.pipe(Object(a.n)(p.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Blogs",this.subheading="Management",this.isItemsSelected=!1,this.IsLoaded=!1,this.Records=0,this.Pagination={},this.showReportLink=!1}ngOnInit(){this.auth$.subscribe(t=>{if(this.isAdmin){const e="1521396112858";this.permission.GrandResourceAccess(!1,e,"1521396141248",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}else this.isAccessGranted=!0,this.isActionGranded=!0}),this.SearchOptions=this.settingService.getSearchOptions(this.isAdmin),this.ToolbarOptions=this.settingService.getToolbarOptions(this.isAdmin),this.filteroptions$.subscribe(t=>{this.FilterOptions=Object.assign({},t),t.track_filter&&(this.loadRecords(this.FilterOptions),this.FilterOptions.track_filter=!1,this._store.dispatch(new h.m(this.FilterOptions)))}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,this.IsLoaded?this.refreshStats():this.loadRecords(this.FilterOptions)}),this.categories$.subscribe(t=>{for(const e of t)this.SearchOptions.categories.push({key:e.id,value:e.title})}),this.route.params.subscribe(t=>{void 0!==t.tagname&&(console.log("tag filter initiated"),this.FilterOptions.tags=t.tagname,this.FilterOptions.track_filter=!0,this._store.dispatch(new h.m(this.FilterOptions))),void 0!==t.catname&&(this.FilterOptions.categoryname=t.catname,this.FilterOptions.track_filter=!0,this._store.dispatch(new h.m(this.FilterOptions))),void 0!==t.uname&&(this.FilterOptions.userid=t.uname,this.FilterOptions.track_filter=!0,this._store.dispatch(new h.m(this.FilterOptions))),void 0!==t.abuse&&("abuse"===t.abuse?(this.FilterOptions.loadabusereports=!0,this.showReportLink=!0):"normallist"===t.abuse&&(this.FilterOptions.loadabusereports=!1,this.showReportLink=!1),this.FilterOptions.track_filter=!0,this._store.dispatch(new h.m(this.FilterOptions)))})}loadRecords(t){this.coreService.renderAbuseReportBtn(this.SearchOptions.actions,t.loadabusereports),this.PublicView&&(t.ispublic=!0),this.dataService.LoadRecords(t)}selectAll(t){this._store.dispatch(new h.j(t))}toolbaraction(t){if(this.isActionGranded)switch(t.action){case"view":return void this.router.navigate([this.route_path+"profile/0"]);case"add":return void this.router.navigate([this.route_path+"process/0"]);case"abuse":return void this.router.navigate([this.route_path+"filter/abuse"]);case"normallist":return void this.router.navigate([this.route_path+"filter/normallist"]);case"reports":return void this.router.navigate([this.route_path+"reports"]);case"m_markas":return void this.ProcessActions(t.value);case"f_type":this._store.dispatch(new h.d({attr:"type",value:t.value}));break;case"f_isapproved":this._store.dispatch(new h.d({attr:"isapproved",value:t.value}));break;case"f_status":this._store.dispatch(new h.d({attr:"isenabled",value:t.value}));break;case"f_adult":this._store.dispatch(new h.d({attr:"isadult",value:t.value}));break;case"pagesize":this._store.dispatch(new h.d({attr:"pagesize",value:t.value}));break;case"m_filter":this._store.dispatch(new h.d({attr:"datefilter",value:t.value}));break;case"sort":this._store.dispatch(new h.d({attr:"direction",value:t.value}))}else this._store.dispatch(new l.c({title:"Permission Denied",text:"",css:"bg-danger"}))}FindRecords(t){const e=t.filters;e.tags="",e.pagenumber=1,e.track_filter=!0,this._store.dispatch(new h.m(e))}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}refreshStats(){this._store.dispatch(new h.h({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize})),this._store.dispatch(new l.d({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage}))}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(a.h),c.Kb(u.a),c.Kb(g.a),c.Kb(f.a),c.Kb(m.a),c.Kb(r.f),c.Kb(r.a))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-blog-mainlist"]],inputs:{isAdmin:"isAdmin",route_path:"route_path",PublicView:"PublicView",type:"type"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"isAdmin","FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"isAdmin","Options","isItemsSelected","Action","SelectAllCard"],[1,"card-body"],[3,"route_path","isAdmin","isActionGranded","View","SelectedItems"],[1,"m-b-20"],[3,"route_path","isAdmin","View","SelectedItems"]],template:function(t,e){1&t&&(c.Dc(0,w,5,2,"div",0),c.Dc(1,P,7,8,"div",1)),2&t&&(c.kc("ngIf",e.isAdmin),c.xb(1),c.kc("ngIf",!e.isAdmin))},directives:[o.u,v.a,I.a,_.a],encapsulation:2}),t})(),S=(()=>{class t{constructor(){this.isAdmin=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"isAdmin"]],template:function(t,e){1&t&&c.Lb(0,"app-blog-mainlist",0),2&t&&c.kc("isAdmin",e.isAdmin)},directives:[k],encapsulation:2}),t})();var y=i("cTdx"),L=i("o+qO");let Q=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},providers:[u.a,g.a,y.a],imports:[[o.c,L.a,r.j,n.l]]}),t})();var F=i("pdjO"),x=i("RDfn");function D(t,e){if(1&t&&(c.Qb(0,"div"),c.Lb(1,"img",20),c.Pb()),2&t){const t=c.dc();c.xb(1),c.lc("src",t.Info.cover_url,c.wc),c.lc("alt",t.Info.title)}}function C(t,e){if(1&t&&(c.Qb(0,"div",22),c.Lb(1,"img",23),c.Pb()),2&t){const t=e.$implicit,i=c.dc(2);c.xb(1),c.lc("src",t.img_url,c.wc),c.lc("alt",i.Info.title)}}function R(t,e){if(1&t&&(c.Qb(0,"div"),c.Qb(1,"div",6),c.Dc(2,C,2,2,"div",21),c.Pb(),c.Pb()),2&t){const t=c.dc();c.xb(2),c.kc("ngForOf",t.Info.files)}}const G=function(t){return[t]};function T(t,e){if(1&t&&(c.Qb(0,"span"),c.Qb(1,"a",25),c.Fc(2),c.Pb(),c.Pb()),2&t){const t=e.$implicit;c.xb(1),c.kc("routerLink",c.oc(2,G,"/blogs/category/"+t.category.term)),c.xb(1),c.Gc(t.category.title)}}function j(t,e){if(1&t&&(c.Qb(0,"div"),c.Qb(1,"div",0),c.Fc(2," Categories "),c.Pb(),c.Qb(3,"div",0),c.Dc(4,T,3,4,"span",24),c.Pb(),c.Lb(5,"hr"),c.Pb()),2&t){const t=c.dc();c.xb(4),c.kc("ngForOf",t.Info.category_list)}}function $(t,e){if(1&t&&(c.Qb(0,"span"),c.Qb(1,"a",26),c.Fc(2),c.Pb(),c.Pb()),2&t){const t=e.$implicit;c.xb(1),c.kc("routerLink",c.oc(2,G,"/blogs/tag/"+t.slug)),c.xb(1),c.Gc(t.title)}}function B(t,e){if(1&t&&(c.Qb(0,"div"),c.Qb(1,"div",0),c.Fc(2," Tags: "),c.Pb(),c.Qb(3,"div",0),c.Dc(4,$,3,4,"span",24),c.Pb(),c.Lb(5,"hr"),c.Pb()),2&t){const t=c.dc();c.xb(4),c.kc("ngForOf",t.Info.tags_arr)}}function K(t,e){1&t&&(c.Qb(0,"span",27),c.Fc(1,"Blocked"),c.Pb())}function N(t,e){1&t&&(c.Qb(0,"span",28),c.Fc(1,"Active"),c.Pb())}function M(t,e){1&t&&(c.Qb(0,"span",29),c.Fc(1,"Approved"),c.Pb())}function E(t,e){1&t&&(c.Qb(0,"span",30),c.Fc(1,"Under Review"),c.Pb())}function H(t,e){1&t&&(c.Qb(0,"span",31),c.Fc(1,"Featured"),c.Pb())}function z(t,e){1&t&&(c.Qb(0,"span",27),c.Fc(1,"Adult"),c.Pb())}let V=(()=>{class t{constructor(){this.Info={},this.Author_FullName=""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Eb({type:t,selectors:[["app-blog-info"]],inputs:{Info:"Info",Author_FullName:"Author_FullName"},decls:39,vars:31,consts:[[1,"m-b-10"],[1,"card-title"],[1,"text-muted"],[1,"fa","fa-clock-o"],[4,"ngIf"],[1,"m-t-10"],[1,"row"],[1,"col-md-10"],[1,"card-text","m-b-5",3,"innerHTML"],[1,"btn","btn-primary","text-white",3,"routerLink"],[1,"card-text"],["class","badge badge-danger  m-r-5",4,"ngIf"],["class","badge badge-success  m-r-5",4,"ngIf"],["class","badge badge-info  m-r-5",4,"ngIf"],["class","badge badge-warning  m-r-5",4,"ngIf"],["class","badge badge-primary  m-r-5",4,"ngIf"],[1,"col-md-2","text-center"],[1,"m-b-10",3,"routerLink"],[1,"img-thumbnail",3,"src","alt"],[1,"card-title",3,"routerLink"],[1,"img-responsive",2,"cursor","pointer",3,"src","alt"],["class","col-md-3 m-t-10",4,"ngFor","ngForOf"],[1,"col-md-3","m-t-10"],[3,"src","alt"],[4,"ngFor","ngForOf"],[1,"btn","btn-info","m-r-5",3,"routerLink"],[1,"btn","btn-danger","m-r-5",3,"routerLink"],[1,"badge","badge-danger","m-r-5"],[1,"badge","badge-success","m-r-5"],[1,"badge","badge-info","m-r-5"],[1,"badge","badge-warning","m-r-5"],[1,"badge","badge-primary","m-r-5"]],template:function(t,e){1&t&&(c.Qb(0,"div"),c.Qb(1,"div",0),c.Qb(2,"h2",1),c.Fc(3),c.Pb(),c.Qb(4,"p"),c.Fc(5," Posted: "),c.Qb(6,"span",2),c.Lb(7,"i",3),c.Pb(),c.Fc(8),c.ec(9,"date"),c.Pb(),c.Pb(),c.Dc(10,D,2,2,"div",4),c.Dc(11,R,3,1,"div",4),c.Qb(12,"div",5),c.Qb(13,"div",6),c.Qb(14,"div",7),c.Lb(15,"div",8),c.Lb(16,"hr"),c.Dc(17,j,6,1,"div",4),c.Dc(18,B,6,1,"div",4),c.Qb(19,"a",9),c.Fc(20),c.Pb(),c.Lb(21,"hr"),c.Qb(22,"p"),c.Fc(23),c.Pb(),c.Qb(24,"p"),c.Fc(25),c.Pb(),c.Lb(26,"hr"),c.Qb(27,"p",10),c.Dc(28,K,2,0,"span",11),c.Dc(29,N,2,0,"span",12),c.Dc(30,M,2,0,"span",13),c.Dc(31,E,2,0,"span",14),c.Dc(32,H,2,0,"span",15),c.Dc(33,z,2,0,"span",11),c.Pb(),c.Pb(),c.Qb(34,"div",16),c.Qb(35,"a",17),c.Lb(36,"img",18),c.Pb(),c.Qb(37,"a",19),c.Fc(38),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.xb(3),c.Gc(e.Info.title),c.xb(5),c.Hc(" ",c.gc(9,22,e.Info.created_at,"fullDate")," "),c.xb(2),c.kc("ngIf",""!==e.Info.cover_url),c.xb(1),c.kc("ngIf",e.Info.files.length>0),c.xb(4),c.kc("innerHTML",e.Info.description,c.vc),c.xb(2),c.kc("ngIf",e.Info.category_list.length>0),c.xb(1),c.kc("ngIf",e.Info.tags_arr.length>0),c.xb(1),c.kc("routerLink",c.oc(25,G,"/blogs/user/"+e.Info.author.id)),c.xb(1),c.Hc("Browse all ",e.Author_FullName," Posts..."),c.xb(3),c.Hc("Views: ",e.Info.views,""),c.xb(2),c.Hc("Liked: ",e.Info.liked,""),c.xb(3),c.kc("ngIf",0==e.Info.isenabled),c.xb(1),c.kc("ngIf",1==e.Info.isenabled),c.xb(1),c.kc("ngIf",1==e.Info.isapproved),c.xb(1),c.kc("ngIf",0==e.Info.isapproved),c.xb(1),c.kc("ngIf",1==e.Info.isfeatured),c.xb(1),c.kc("ngIf",1==e.Info.isadult),c.xb(2),c.kc("routerLink",c.oc(27,G,"/users/profile/"+e.Info.author.id)),c.xb(1),c.lc("src",e.Info.author.img_url,c.wc),c.lc("alt",e.Author_FullName),c.xb(1),c.kc("routerLink",c.oc(29,G,"/users/profile/"+e.Info.author.id)),c.xb(1),c.Gc(e.Author_FullName))},directives:[o.u,r.i,o.t],pipes:[o.f],encapsulation:2}),t})();function U(t,e){1&t&&(c.Qb(0,"div"),c.Qb(1,"h2",1),c.Fc(2,"Access Denied"),c.Pb(),c.Pb())}function Y(t,e){1&t&&c.Lb(0,"app-loader")}function J(t,e){if(1&t){const t=c.Rb();c.Qb(0,"div"),c.Qb(1,"div",4),c.Qb(2,"app-toolbar-v2",5),c.bc("Action",(function(e){return c.uc(t),c.dc(2).toolbaraction(e)})),c.Pb(),c.Pb(),c.Qb(3,"div",6),c.Qb(4,"div",7),c.Lb(5,"app-blog-info",8),c.Pb(),c.Pb(),c.Pb()}if(2&t){const t=c.dc(2);c.xb(2),c.kc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),c.xb(3),c.kc("Author_FullName",t.Author_FullName)("Info",t.Info)}}function X(t,e){if(1&t&&(c.Qb(0,"div"),c.Qb(1,"div",2),c.Qb(2,"div",3),c.Dc(3,Y,1,0,"app-loader",0),c.Dc(4,J,6,4,"div",0),c.Pb(),c.Pb(),c.Pb()),2&t){const t=c.dc();c.xb(3),c.kc("ngIf",t.showLoader),c.xb(1),c.kc("ngIf",!t.showLoader)}}let W=(()=>{class t{constructor(t,e,i,s,o,n,r,c){this._store=t,this.settingService=e,this.dataService=i,this.coreService=s,this.route=o,this.formService=n,this.permission=r,this.router=c,this.isItemsSelected=!0,this.RecordID=0,this.FilterOptions={},this.controls=[],this.showLoader=!1,this.formHeading="Blog Detail",this.submitText="Submit",this.Info={},this.uploadedFiles=[],this.SelectedItems=[],this.Author_FullName="",this.auth$=this._store.pipe(Object(a.n)(b.a)),this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396112858";this.permission.GrandResourceAccess(!1,e,"1521396141248",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.ToolbarOptions=this.settingService.getToolbarOptions(!0),this.ToolbarOptions.showtoolbar=!1,this.ToolbarOptions.showcheckAll=!1,this.ToolbarOptions.showsecondarytoolbar=!0,this.ToolbarOptions.ProfileView=!0,this.route.params.subscribe(t=>{this.RecordID=this.coreService.decrypt(t.id),isNaN(this.RecordID)&&(this.RecordID=0),this.RecordID>0&&this.LoadInfo()})}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe(t=>{"error"===t.status?(this._store.dispatch(new l.c({title:t.message,text:"",css:"bg-success"})),this.router.navigate(["/blogs"])):(this.Info=t.post,this.Author_FullName=null===this.Info.author.firstname||""===this.Info.author.firstname?this.Info.author.username:this.Info.author.firstname+" "+this.Info.author.lastname,this.Info.tags_arr=null!==this.Info.tags&&""!==this.Info.tags?this.ProcessCategories(this.Info.tags.split(",")):[],this.Info.enc_id=this.coreService.encrypt(this.Info.id),this.SelectedItems=[],this.SelectedItems.push(this.Info)),this.showLoader=!1})}ProcessCategories(t){const e=[];for(const i of t)e.push({title:i.trim(),slug:i.trim().replace(/\s+/g,"-").toLowerCase()});return e}toolbaraction(t){switch(t.action){case"m_markas":this.ProcessActions(t.value);break;case"add":return void this.router.navigate(["/blogs/process/0"]);case"edit":return void this.router.navigate(["/blogs/process/"+this.Info.enc_id])}}ProcessActions(t){if(this.isActionGranded){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus,e.isadult=0;this.dataService.ProcessActions(this.SelectedItems,t),"delete"===t.actionstatus&&this.router.navigate(["/blogs/"])}}else this._store.dispatch(new l.c({title:"Permission Denied",text:"",css:"bg-danger"}))}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(a.h),c.Kb(u.a),c.Kb(g.a),c.Kb(f.a),c.Kb(r.a),c.Kb(y.a),c.Kb(m.a),c.Kb(r.f))},t.\u0275cmp=c.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&c.Cc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row","justify-content-md-center"],[1,"col-md-12"],[1,"m-b-10"],[3,"Options","isItemsSelected","Action"],[1,"card"],[1,"card-body"],[3,"Author_FullName","Info"]],template:function(t,e){1&t&&(c.Dc(0,U,3,0,"div",0),c.Dc(1,X,5,2,"div",0)),2&t&&(c.kc("ngIf",!e.isAccessGranted),c.xb(1),c.kc("ngIf",e.isAccessGranted))},directives:[o.u,x.a,I.a,V],encapsulation:2,data:{animation:[F.a]}}),t})();var q=i("r+k1");let Z=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},imports:[[o.c,L.a,r.j,n.l,q.a]]}),t})();var tt=i("zIGt"),et=i("YaUu"),it=i("OgBg"),st=i("+kG/");function ot(t,e){1&t&&(c.Qb(0,"div"),c.Qb(1,"h2",1),c.Fc(2,"Access Denied"),c.Pb(),c.Pb())}function nt(t,e){1&t&&c.Lb(0,"app-loader")}function rt(t,e){if(1&t){const t=c.Rb();c.Qb(0,"dynamic-modal-form",9),c.bc("OnSubmit",(function(e){return c.uc(t),c.dc(2).SubmitForm(e)})),c.Pb()}if(2&t){const t=c.dc(2);c.kc("controls",t.controls)("showLoader",t.showLoader)("showCancel",!1)("showModal",!1)("submitText",t.submitText)}}function ct(t,e){1&t&&(c.Qb(0,"div"),c.Qb(1,"h3"),c.Fc(2,"No Categories Found"),c.Pb(),c.Qb(3,"p"),c.Fc(4,"Please add one or more categories via "),c.Qb(5,"mark"),c.Fc(6,"Settings -> Categories"),c.Pb(),c.Fc(7," Management Section"),c.Pb(),c.Pb())}function at(t,e){if(1&t&&(c.Qb(0,"div"),c.Qb(1,"div",2),c.Qb(2,"div",3),c.Qb(3,"div",4),c.Qb(4,"div",5),c.Qb(5,"h4",6),c.Fc(6),c.Pb(),c.Pb(),c.Qb(7,"div",7),c.Dc(8,nt,1,0,"app-loader",0),c.Dc(9,rt,1,5,"dynamic-modal-form",8),c.Dc(10,ct,8,0,"div",0),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t){const t=c.dc();c.xb(6),c.Gc(t.formHeading),c.xb(2),c.kc("ngIf",t.showLoader),c.xb(1),c.kc("ngIf",!t.showLoader&&t.Categories.length>0),c.xb(1),c.kc("ngIf",0===t.Categories.length)}}let dt=(()=>{class t{constructor(t,e,i,s,o,n,r,c,h){this._store=t,this.settingService=e,this.dataService=i,this.coreService=s,this.route=o,this.permission=n,this.formService=r,this.categoryDataService=c,this.router=h,this.categories$=this._store.pipe(Object(a.n)(d.a)),this.dropdown_categories$=this._store.pipe(Object(a.n)(it.a)),this.settings$=this._store.pipe(Object(a.n)(d.j)),this.isloaded$=this._store.pipe(Object(a.n)(d.c)),this.auth$=this._store.pipe(Object(a.n)(b.a)),this.configs$=this._store.pipe(Object(a.n)(p.a)),this.isAdmin=!0,this.route_path="/blogs/",this.isAccessGranted=!1,this.isActionGranded=!1,this.RecordID=0,this.controls=[],this.showLoader=!1,this.formHeading="Add Post",this.submitText="Create Post",this.IsLoaded=!1,this.Categories=[],this.Auth={},this.Settings={}}ngOnInit(){this.auth$.subscribe(t=>{if(this.Auth=t,this.isAdmin){const e="1521396112858";this.permission.GrandResourceAccess(!1,e,"1521396141248",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}else this.isAccessGranted=!0,this.isActionGranded=!0}),this.settings$.subscribe(t=>{this.Settings=t}),this.route.params.subscribe(t=>{this.RecordID=this.coreService.decrypt(t.id),isNaN(this.RecordID)&&(this.RecordID=0),this.RecordID>0?(this.formHeading="Update Information",this.submitText="Save Changes",this.Initialize()):this.initializeControls(this.settingService.getInitObject())}),this.categories$.subscribe(t=>{t.length>0?(this.Categories=t,this.updateCategories()):(this.showLoader=!0,this.categoryDataService.LoadDropdownCategories(6))}),this.dropdown_categories$.subscribe(t=>{t.length>0&&(this.Categories=t,this.updateCategories()),this.showLoader=!1}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,this.IsLoaded||this.Redirect()})}Initialize(){this.RecordID>0?this.isAdmin?this.LoadInfo():this.dataService.Authorize_Author({id:this.RecordID,userid:this.Auth.User.id}).subscribe(t=>{t.isaccess?this.LoadInfo():this.Redirect()},t=>{this.Redirect()}):this.Redirect()}Redirect(){this.router.navigate([this.route_path])}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe(t=>{"success"===t.status?this.initializeControls(t.post):(this._store.dispatch(new l.c({title:t.message,text:"",css:"bg-danger"})),this.initializeControls(this.settingService.getInitObject())),this.showLoader=!1})}updateCategories(){this.coreService.updateCategories(this.controls,this.Categories)}initializeControls(t){this.controls=this.formService.getControls(t,this.Auth,this.Settings.general),this.updateCategories()}SubmitForm(t){if(!this.isActionGranded)return void this._store.dispatch(new l.c({title:"Permission Denied",text:"",css:"bg-danger"}));this.showLoader=!0;let e="Added";this.RecordID>0&&(t.id=this.RecordID,e="Updated"),t.userid=this.Auth.User.id,t.isadmin=this.isAdmin,t.categories=this.coreService.returnSelectedCategoryArray(t.categories),this.dataService.AddRecord(t).subscribe(t=>{"error"===t.status?this._store.dispatch(new l.c({title:t.message,text:"",css:"bg-danger"})):(this._store.dispatch(new l.c({title:"Record "+e+" Successfully",text:"",css:"bg-success"})),this._store.dispatch(new h.i({})),this.router.navigate(this.isAdmin?[this.route_path+"profile/"+t.record.id]:[this.route_path])),this.showLoader=!1},t=>{this.showLoader=!1,this._store.dispatch(new l.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(a.h),c.Kb(u.a),c.Kb(g.a),c.Kb(f.a),c.Kb(r.a),c.Kb(m.a),c.Kb(y.a),c.Kb(tt.a),c.Kb(r.f))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-blog-process"]],inputs:{isAdmin:"isAdmin",route_path:"route_path"},features:[c.wb([tt.a,et.a])],decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row","justify-content-md-center"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(c.Dc(0,ot,3,0,"div",0),c.Dc(1,at,11,4,"div",0)),2&t&&(c.kc("ngIf",!e.isAccessGranted),c.xb(1),c.kc("ngIf",e.isAccessGranted))},directives:[o.u,x.a,st.a],encapsulation:2,data:{animation:[F.a]}}),t})(),ht=(()=>{class t{constructor(){this.isAdmin=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"isAdmin"]],template:function(t,e){1&t&&c.Lb(0,"app-blog-process",0),2&t&&c.kc("isAdmin",e.isAdmin)},directives:[dt],encapsulation:2,data:{animation:[F.a]}}),t})();var lt=i("omRQ");let bt=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},providers:[u.a,g.a,y.a],imports:[[o.c,L.a,r.j,n.l,lt.b]]}),t})();function pt(t,e){1&t&&(c.Qb(0,"div"),c.Qb(1,"h2",1),c.Fc(2,"Access Denied"),c.Pb(),c.Pb())}function ut(t,e){1&t&&c.Lb(0,"app-loader")}function gt(t,e){if(1&t&&(c.Qb(0,"div"),c.Lb(1,"google-chart",5),c.Pb()),2&t){const t=c.dc(2);c.xb(1),c.kc("data",t.tooltipChart)}}function ft(t,e){if(1&t&&(c.Qb(0,"div"),c.Qb(1,"div",6),c.Qb(2,"h3",7),c.Fc(3),c.Pb(),c.Pb(),c.Pb()),2&t){const t=c.dc(2);c.xb(3),c.Hc(" ",t.message," ")}}function mt(t,e){if(1&t){const t=c.Rb();c.Qb(0,"div"),c.Qb(1,"div",2),c.Qb(2,"div",3),c.Qb(3,"app-toolbar-v2",4),c.bc("Action",(function(e){return c.uc(t),c.dc().toolbaraction(e)})),c.Pb(),c.Dc(4,ut,1,0,"app-loader",0),c.Dc(5,gt,2,1,"div",0),c.Dc(6,ft,4,1,"div",0),c.Pb(),c.Pb(),c.Pb()}if(2&t){const t=c.dc();c.xb(3),c.kc("isAdmin",t.isAdmin)("Options",t.ToolbarOptions),c.xb(1),c.kc("ngIf",t.showLoader),c.xb(1),c.kc("ngIf",!t.showLoader&&t.optionSelected),c.xb(1),c.kc("ngIf",!t.showLoader&&!t.optionSelected)}}const vt=[{path:"",data:{title:"Blogs Management",urls:[{title:"Dashboard",url:"/"},{title:"Blogs",url:"/blogs"},{title:"Management"}]},component:S},{path:"tag/:tagname",data:{title:"Blogs Management",urls:[{title:"Dashboard",url:"/"},{title:"Blogs",url:"/blogs"},{title:"Management"}]},component:S},{path:"category/:catname",data:{title:"Blogs Management",urls:[{title:"Dashboard",url:"/"},{title:"Blogs",url:"/blogs"},{title:"Management"}]},component:S},{path:"user/:uname",data:{title:"Blogs Management",urls:[{title:"Dashboard",url:"/"},{title:"Blogs",url:"/blogs"},{title:"Management"}]},component:S},{path:"filter/:abuse",data:{title:"Blogs Management (Reported)",urls:[{title:"Dashboard",url:"/"},{title:"Blogs",url:"/blogs"},{title:"Reported Posts"}]},component:S},{path:"profile/:id",data:{title:"Blog Information",urls:[{title:"Dashboard",url:"/"},{title:"Blogs",url:"/blogs"},{title:"Blog Information"}]},component:W},{path:"reports",data:{title:"Report Builder",urls:[{title:"Dashboard",url:"/"},{title:"Blogs",url:"/blogs"},{title:"Report Builder"}]},component:(()=>{class t{constructor(t,e,i,s,o,n,r,c){this._store=t,this.settingService=e,this.dataService=i,this.coreService=s,this.route=o,this.formService=n,this.permission=r,this.router=c,this.FilterOptions={},this.showLoader=!1,this.formHeading="Blog Reports",this.isAdmin=!0,this.optionSelected=!1,this.ChartType="ColumnChart",this.message="Please select report type to generate!",this.filteroptions$=this._store.pipe(Object(a.n)(d.b)),this.auth$=this._store.pipe(Object(a.n)(b.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.tooltipChart={chartType:"ColumnChart",dataTable:[],options:{title:"Articles Posted",legend:"none",width:1e3,height:500,is3D:!0}}}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396112858";this.permission.GrandResourceAccess(!1,e,"1521396141248",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.filteroptions$.subscribe(t=>{this.FilterOptions=Object.assign({},t)}),this.ToolbarOptions=this.settingService.getToolbarOptions(!0),this.ToolbarOptions.showtoolbar=!0,this.ToolbarOptions.showcheckAll=!1,this.ToolbarOptions.showsecondarytoolbar=!1,this.ToolbarOptions.left_options=this.prepareLeftOptions(),this.ToolbarOptions.right_options=this.prepareRightOptions(),this.ToolbarOptions.right_options[0].title=this.ChartType}prepareLeftOptions(){return[{title:"Select Type",ismultiple:!0,Options:[{id:1,title:"Yearly",value:0,isclick:!0,clickevent:"reporty_type",tooltip:"Generate yearly report"},{id:2,title:"Monthly (Last 12 Months)",value:1,isclick:!0,clickevent:"reporty_type",tooltip:"Generate monthly report"},{id:3,title:"Daily (Current Month)",value:2,isclick:!0,clickevent:"reporty_type",tooltip:"Generate daily report"}]}]}prepareRightOptions(){return[{title:"Chart Type",ismultiple:!0,Options:[{id:1,title:"ColumnChart",value:"ColumnChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Column Chart"},{id:2,title:"BarChart",value:"BarChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Bar Chart"},{id:3,title:"LineChart",value:"LineChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Line Chart"},{id:3,title:"PieChart",value:"PieChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Pie Chart"}]}]}toolbaraction(t){if(this.isActionGranded){switch(t.action){case"chart_type":this.ChartType=t.value,console.log("chart type is "+this.ChartType),this.showLoader=!0,this.ToolbarOptions.right_options[0].title=this.ChartType,this.FilterOptions.chartType=this.ChartType,this.showLoader=!1;break;case"reporty_type":this.FilterOptions.reporttype=t.value}this.LoadReports()}else this._store.dispatch(new l.c({title:"Permission Denied",text:"",css:"bg-danger"}))}LoadReports(){this.showLoader=!0,this.dataService.LoadReports(this.FilterOptions).subscribe(t=>{this.tooltipChart.chartType=this.ChartType,t.data.dataTable.length>1?(this.tooltipChart.dataTable=t.data.dataTable,this.optionSelected=!0):(this.message="No Data Available!",this.optionSelected=!1),this.showLoader=!1})}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(a.h),c.Kb(u.a),c.Kb(g.a),c.Kb(f.a),c.Kb(r.a),c.Kb(y.a),c.Kb(m.a),c.Kb(r.f))},t.\u0275cmp=c.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&c.Cc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-12"],[3,"isAdmin","Options","Action"],[3,"data"],[2,"padding","80px 0px"],[2,"text-align","center"]],template:function(t,e){1&t&&(c.Dc(0,pt,3,0,"div",0),c.Dc(1,mt,7,5,"div",0)),2&t&&(c.kc("ngIf",!e.isAccessGranted),c.xb(1),c.kc("ngIf",e.isAccessGranted))},directives:[o.u,I.a,x.a,lt.a],encapsulation:2,data:{animation:[F.a]}}),t})()},{path:"process/:id",data:{title:"Process Post",urls:[{title:"Dashboard",url:"/"},{title:"Blogs",url:"/blogs"},{title:"Process Post"}]},component:ht}];let It=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},imports:[[o.c,n.l,L.a,Q,Z,s.c,q.a,bt,r.j.forChild(vt)]]}),t})()},pdjO:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var s=i("R0Ic");const o=Object(s.k)("fadeInAnimation",[Object(s.j)(":enter",[Object(s.i)({opacity:0,background:"#ff0000"}),Object(s.e)(".8s",Object(s.i)({opacity:1}))])])},zIGt:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var s=i("t+rW"),o=i("LEd3"),n=i("fXoL"),r=i("l7P3"),c=i("YaUu"),a=i("tk/3");let d=(()=>{class t{constructor(t,e,i){this._store=t,this.settings=e,this.http=i}LoadRecords(t){const e=this.settings.getApiOptions().load;this._store.dispatch(new s.f({})),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this._store.dispatch(new s.g(e)),this._store.dispatch(new o.d({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber}))},t=>{this._store.dispatch(new s.e(t))})}LoadDropdownCategories(t){const e=this.settings.getApiOptions().load_dropdown;this.http.post(e,{type:t}).subscribe(t=>{this._store.dispatch(new s.h(t))},t=>{this._store.dispatch(new s.e(t))})}AddRecord(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify([{id:t}]))}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this._store.dispatch(new s.c({SelectedItems:t,isenabled:e})),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this._store.dispatch(new o.c({title:i,text:"",css:"bg-success"}))},t=>{this._store.dispatch(new o.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(r.h),n.Yb(c.a),n.Yb(a.b))},t.\u0275prov=n.Gb({token:t,factory:t.\u0275fac}),t})()}}]);