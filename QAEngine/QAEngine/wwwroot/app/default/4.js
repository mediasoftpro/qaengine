(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{OgBg:function(t,e,i){"use strict";i.d(e,"g",(function(){return s})),i.d(e,"a",(function(){return o})),i.d(e,"h",(function(){return c})),i.d(e,"e",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"f",(function(){return a})),i.d(e,"b",(function(){return d})),i.d(e,"i",(function(){return h})),i.d(e,"d",(function(){return l}));const s=t=>t.categories.posts,o=t=>t.categories.dropdown_categories,c=t=>t.categories.records,n=t=>t.categories.loading,r=t=>t.categories.isloaded,a=t=>t.categories.pagination,d=t=>t.categories.filteroptions,h=t=>t.categories.selectall,l=t=>t.categories.itemsselected},S0rc:function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var s=i("l7P3"),o=i("zIGt"),c=i("YaUu"),n=i("Wsnd"),r=i("mbCC"),a=i("LEd3"),d=i("XDFV"),h=i("OgBg"),l=i("3nTv"),u=i("pdjO"),p=i("fXoL"),b=i("ZHT1"),f=i("jyKJ"),g=i("nD3/"),m=i("tyNb"),v=i("Hjmt"),_=i("kwlv"),w=i("ofXK"),A=i("RDfn"),O=i("+kG/");function k(t,e){1&t&&(p.Qb(0,"div"),p.Qb(1,"h2",1),p.Fc(2,"Access Denied"),p.Pb(),p.Pb())}function S(t,e){1&t&&p.Lb(0,"app-loader")}function I(t,e){if(1&t){const t=p.Rb();p.Qb(0,"dynamic-modal-form",9),p.bc("OnSubmit",(function(e){return p.uc(t),p.dc(2).SubmitForm(e)})),p.Pb()}if(2&t){const t=p.dc(2);p.kc("controls",t.controls)("showLoader",t.showLoader)("showCancel",!1)("showModal",!1)("submitText",t.submitText)}}function P(t,e){if(1&t&&(p.Qb(0,"div"),p.Qb(1,"div",2),p.Qb(2,"div",3),p.Qb(3,"div",4),p.Qb(4,"div",5),p.Qb(5,"h4",6),p.Fc(6),p.Pb(),p.Pb(),p.Qb(7,"div",7),p.Dc(8,S,1,0,"app-loader",0),p.Dc(9,I,1,5,"dynamic-modal-form",8),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb()),2&t){const t=p.dc();p.xb(6),p.Gc(t.formHeading),p.xb(2),p.kc("ngIf",t.showLoader),p.xb(1),p.kc("ngIf",!t.showLoader)}}let y=(()=>{class t{constructor(t,e,i,o,c,r,a,u,p){this._store=t,this.settingService=e,this.dataService=i,this.coreService=o,this.route=c,this.permission=r,this.formService=a,this.router=u,this.categoryDataService=p,this.isAdmin=!0,this.route_path="/qa/",this.RecordID=0,this.controls=[],this.showLoader=!1,this.formHeading="Ask Question",this.submitText="Submit",this.IsLoaded=!1,this.Categories=[],this.Auth={},this.categories$=this._store.pipe(Object(s.n)(n.a)),this.dropdown_categories$=this._store.pipe(Object(s.n)(h.a)),this.settings$=this._store.pipe(Object(s.n)(n.j)),this.isloaded$=this._store.pipe(Object(s.n)(n.c)),this.auth$=this._store.pipe(Object(s.n)(d.a)),this.configs$=this._store.pipe(Object(s.n)(l.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.Settings={}}ngOnInit(){this.settings$.subscribe(t=>{this.Settings=t}),this.auth$.subscribe(t=>{if(this.Auth=t,this.isAdmin){const e="1521395965196";this.permission.GrandResourceAccess(!1,e,"1521396022188",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}else this.isAccessGranted=!0,this.isActionGranded=!0}),this.route.params.subscribe(t=>{this.RecordID=this.coreService.decrypt(t.id),isNaN(this.RecordID)&&(this.RecordID=0),this.RecordID>0?(this.formHeading="Update Information",this.submitText="Save Changes",this.Initialize()):this.initializeControls(this.settingService.getInitObject())}),this.categories$.subscribe(t=>{t.length>0?(this.Categories=t,this.updateCategories()):(this.showLoader=!0,this.categoryDataService.LoadDropdownCategories(11))}),this.dropdown_categories$.subscribe(t=>{t.length>0&&(this.Categories=t,this.updateCategories()),this.showLoader=!1}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,this.IsLoaded||this.Redirect()})}Initialize(){this.RecordID>0?this.isAdmin?this.LoadInfo():this.dataService.Authorize_Author({id:this.RecordID,userid:this.Auth.User.id}).subscribe(t=>{t.isaccess?this.LoadInfo():this.Redirect()},t=>{this.Redirect()}):this.Redirect()}Redirect(){this.router.navigate([this.route_path])}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe(t=>{"success"===t.status?this.initializeControls(t.post):(this._store.dispatch(new a.c({title:t.message,text:"",css:"bg-danger"})),this.initializeControls(this.settingService.getInitObject())),this.showLoader=!1})}updateCategories(){this.coreService.updateCategories(this.controls,this.Categories)}initializeControls(t){this.controls=this.formService.getControls(t,this.Settings,this.isAdmin),this.updateCategories()}SubmitForm(t){if(!this.isActionGranded)return void this._store.dispatch(new a.c({title:"Permission Denied",text:"",css:"bg-danger"}));this.showLoader=!0;let e="Added";this.RecordID>0&&(t.id=this.RecordID,e="Updated"),t.userid=this.Auth.User.id,t.categories=this.coreService.returnSelectedCategoryArray(t.categories),t.isadmin=this.isAdmin,this.dataService.AddRecord(t).subscribe(t=>{"error"===t.status?this._store.dispatch(new a.c({title:t.message,text:"",css:"bg-danger"})):(this._store.dispatch(new a.c({title:"Record "+e+" Successfully",text:"",css:"bg-success"})),this._store.dispatch(new r.i({})),this.router.navigate(this.isAdmin?[this.route_path]:[this.route_path+"profile/"+this.coreService.encrypt(t.record.id)])),this.showLoader=!1},t=>{this.showLoader=!1,this._store.dispatch(new a.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(p.Kb(s.h),p.Kb(b.a),p.Kb(f.a),p.Kb(g.a),p.Kb(m.a),p.Kb(v.a),p.Kb(_.a),p.Kb(m.f),p.Kb(o.a))},t.\u0275cmp=p.Eb({type:t,selectors:[["app-qa-process"]],inputs:{isAdmin:"isAdmin",route_path:"route_path"},features:[p.wb([o.a,c.a])],decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-9"],[1,"card"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(p.Dc(0,k,3,0,"div",0),p.Dc(1,P,10,3,"div",0)),2&t&&(p.kc("ngIf",!e.isAccessGranted),p.xb(1),p.kc("ngIf",e.isAccessGranted))},directives:[w.u,A.a,O.a],encapsulation:2,data:{animation:[u.a]}}),t})()},Wsnd:function(t,e,i){"use strict";i.d(e,"g",(function(){return s})),i.d(e,"j",(function(){return o})),i.d(e,"h",(function(){return c})),i.d(e,"e",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"f",(function(){return a})),i.d(e,"b",(function(){return d})),i.d(e,"a",(function(){return h})),i.d(e,"i",(function(){return l})),i.d(e,"d",(function(){return u}));const s=t=>t.qa.posts,o=t=>t.qa.settings,c=t=>t.qa.records,n=t=>t.qa.loading,r=t=>t.qa.isloaded,a=t=>t.qa.pagination,d=t=>t.qa.filteroptions,h=t=>t.qa.categories,l=t=>t.qa.selectall,u=t=>t.qa.itemsselected},YaUu:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var s=i("II9H"),o=i("l7P3"),c=i("3nTv"),n=i("fXoL"),r=i("nD3/"),a=i("1pjZ");let d=(()=>{class t{constructor(t,e,i){this._store=t,this.coreService=e,this.config=i,this.configs$=this._store.pipe(Object(o.n)(c.a)),this.Configs={};const s=i.getConfig("host");this.apiOptions={load:s+"api/categories/load",load_dropdown:s+"api/categories/load_dropdown",getinfo:s+"api/categories/getinfo",action:s+"api/categories/action",proc:s+"api/categories/proc"},this.configs$.subscribe(t=>{void 0!==t.general&&(this.Configs=t.general.category,this.init_toolbar_options(),this.init_search_options())})}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:this.initialize_actions()}}initialize_actions(){return[{id:1,title:"Add Category",tooltip:"Add new category",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:s.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Type",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:-1,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0}]});const t=[];for(const e in this.Configs)t.push({id:this.Configs[e],title:e});for(const e of t)this.toolbarOptions.left_options[0].Options.push({id:"0",title:e.title,value:e.id,isclick:!0,clickevent:"f_type",tooltip:"Load "+e.title+" templates"});this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"1",title:"Enable",value:1,actionstatus:"enable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:s.b.SUCCESS_BUTTON,tooltip:"Enable selected records"},{id:"2",title:"Disable",value:0,actionstatus:"disable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:s.b.SUCCESS_BUTTON,tooltip:"Disable selected records"},{id:"2",title:"Delete",value:0,actionstatus:"delete",css:s.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:s.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitObject(){return{id:0,title:"",term:"",description:"",parentid:0,priority:0,mode:0,isenabled:1,type:0,picturename:"",icon:"",files:[],img_url:""}}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(o.h),n.Yb(r.a),n.Yb(a.a))},t.\u0275prov=n.Gb({token:t,factory:t.\u0275fac}),t})()},eYWs:function(t,e,i){"use strict";i.d(e,"a",(function(){return U}));var s=i("l7P3"),o=i("Wsnd"),c=i("mbCC"),n=i("LEd3"),r=i("XDFV"),a=i("3nTv"),d=i("pdjO"),h=i("fXoL"),l=i("ZHT1"),u=i("jyKJ"),p=i("nD3/"),b=i("Hjmt"),f=i("tyNb"),g=i("ofXK"),m=i("/H0e"),v=i("4HLj"),_=i("R0Ic"),w=i("cScK"),A=i("RDfn"),O=i("3Pt+"),k=i("aIzJ");function S(t,e){1&t&&h.Lb(0,"app-loader")}function I(t,e){if(1&t){const t=h.Rb();h.Qb(0,"div",16),h.Qb(1,"input",17),h.bc("ngModelChange",(function(e){return h.uc(t),h.dc().$implicit.Selected=e}))("ngModelChange",(function(){return h.uc(t),h.dc(4).checkChange()})),h.Pb(),h.Lb(2,"label",18),h.Pb()}if(2&t){const t=h.dc().$implicit;h.xb(1),h.lc("id",t.id),h.kc("ngModel",t.Selected),h.xb(1),h.lc("for",t.id)}}function P(t,e){if(1&t&&(h.Qb(0,"a",19),h.Fc(1),h.Pb()),2&t){const t=h.dc().$implicit;h.lc("href",t.url,h.wc),h.xb(1),h.Gc(t.title)}}const y=function(t){return[t]};function R(t,e){if(1&t&&(h.Qb(0,"a",20),h.Fc(1),h.Pb()),2&t){const t=h.dc().$implicit,e=h.dc(3);h.kc("routerLink",h.oc(2,y,e.route_path+"profile/"+t.enc_id)),h.xb(1),h.Gc(t.title)}}function x(t,e){if(1&t&&(h.Qb(0,"a",23),h.Fc(1),h.Pb()),2&t){const t=h.dc(2).$implicit,e=h.dc(3);h.kc("routerLink",h.oc(3,y,e.route_path+"user/"+t.userid)),h.xb(1),h.Ic("",t.author.firstname," ",t.author.firstname,"")}}function D(t,e){if(1&t&&(h.Qb(0,"a",24),h.Fc(1),h.Pb()),2&t){const t=h.dc(2).$implicit;h.lc("href",t.author_url,h.wc),h.xb(1),h.Ic("",t.author.firstname," ",t.author.firstname,"")}}function L(t,e){if(1&t&&(h.Qb(0,"span"),h.Fc(1," by "),h.Dc(2,x,2,5,"a",21),h.Dc(3,D,2,3,"a",22),h.Fc(4,", "),h.Pb()),2&t){const t=h.dc(4);h.xb(2),h.kc("ngIf",t.isAdmin&&!t.PublicView),h.xb(1),h.kc("ngIf",!t.isAdmin||t.PublicView)}}function j(t,e){if(1&t&&(h.Qb(0,"a",25),h.Lb(1,"i",26),h.Pb()),2&t){const t=h.dc().$implicit,e=h.dc(3);h.kc("routerLink",h.oc(1,y,"/reports/abuse/"+e.AbuseContentType+"/"+t.enc_id))}}function C(t,e){if(1&t){const t=h.Rb();h.Qb(0,"a",27),h.bc("click",(function(e){h.uc(t);const i=h.dc().$implicit;return h.dc(3).editRecord(i,e),!1})),h.Lb(1,"i",28),h.Pb()}}function F(t,e){if(1&t){const t=h.Rb();h.Qb(0,"a",27),h.bc("click",(function(e){h.uc(t);const i=h.dc(),s=i.$implicit,o=i.index;return h.dc(3).delete(s,o,e),!1})),h.Lb(1,"i",29),h.Pb()}}function Q(t,e){if(1&t&&(h.Qb(0,"div",5),h.Qb(1,"div",6),h.Dc(2,I,3,3,"div",7),h.Dc(3,P,2,2,"a",8),h.Dc(4,R,2,4,"a",9),h.Pb(),h.Lb(5,"div",10),h.Qb(6,"p",11),h.Fc(7," Asked "),h.Qb(8,"span",12),h.Fc(9),h.Pb(),h.Dc(10,L,5,2,"span",0),h.Qb(11,"a",13),h.Fc(12),h.ec(13,"number"),h.Pb(),h.Fc(14,", "),h.Qb(15,"a",13),h.Fc(16),h.ec(17,"number"),h.Pb(),h.Dc(18,j,2,3,"a",14),h.Dc(19,C,2,0,"a",15),h.Dc(20,F,2,0,"a",15),h.Pb(),h.Pb()),2&t){const t=e.$implicit,i=h.dc(3);h.xb(2),h.kc("ngIf",!i.PublicView),h.xb(1),h.kc("ngIf",!i.isAdmin||i.PublicView),h.xb(1),h.kc("ngIf",!i.PublicView&&i.isAdmin),h.xb(5),h.Gc(t.customize_date),h.xb(1),h.kc("ngIf",""!==t.author.firstname),h.xb(2),h.Hc(" ",h.gc(13,10,t.answers,".2")," answers"),h.xb(4),h.Hc(" ",h.gc(17,13,t.votes,".2")," votes"),h.xb(2),h.kc("ngIf",i.showReportLink&&!i.PublicView),h.xb(1),h.kc("ngIf",0===i.type&&!i.PublicView),h.xb(1),h.kc("ngIf",!i.PublicView)}}function $(t,e){if(1&t&&(h.Qb(0,"div"),h.Qb(1,"div",3),h.Dc(2,Q,21,16,"div",4),h.Pb(),h.Pb()),2&t){const t=h.dc(2);h.xb(2),h.kc("ngForOf",t.Data)("ngForTrackBy",t.getKey)}}function G(t,e){1&t&&h.Lb(0,"app-norecord")}function V(t,e){if(1&t&&(h.Qb(0,"div"),h.Dc(1,$,3,2,"div",0),h.Dc(2,G,1,0,"app-norecord",0),h.Pb()),2&t){const t=h.dc();h.xb(1),h.kc("ngIf",t.Data.length>0),h.xb(1),h.kc("ngIf",0===t.Data.length)}}let T=(()=>{class t{constructor(t,e,i){this._store=t,this.dataService=e,this.router=i,this.PublicView=!1,this.isActionGranded=!1,this.isAdmin=!0,this.type=0,this.NoRecordText="Not Questions Asked Yet!",this.route_path="/qa/",this.showReportLink=!1,this.AbuseContentType=11,this.Data$=this._store.pipe(Object(s.n)(o.g)),this.loading$=this._store.pipe(Object(s.n)(o.e)),this.pagination$=this._store.pipe(Object(s.n)(o.f)),this.selectAll$=this._store.pipe(Object(s.n)(o.i)),this.View=new h.n,this.SelectedItems=new h.n,this.selectall=!1,this.Data=[]}ngOnInit(){this.Data$.subscribe(t=>{this.Data=t.map(t=>Object.assign({},t))}),this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}viewRecord(t,e){this.router.navigate([this.route_path+"profile/"+t.enc_id]),e.stopPropagation()}editRecord(t,e){this.isActionGranded?(this.router.navigate([this.route_path+"process/"+t.enc_id]),e.stopPropagation()):this._store.dispatch(new n.c({title:"Permission Denied",text:"",css:"bg-danger"}))}getKey(t,e){return e.id}PaginationChange(t){this._store.dispatch(new c.d({attr:"pagenumber",value:t})),this._store.dispatch(new c.n({currentpage:t}))}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e,this.type):this._store.dispatch(new n.c({title:"Permission Denied",text:"",css:"bg-danger"}))}processChange(){this._store.dispatch(new c.j(this.selectall))}checkChange(){const t=[];for(const e of this.Data)e.Selected&&t.push(e);this.SelectedItems.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(h.Kb(s.h),h.Kb(u.a),h.Kb(f.f))},t.\u0275cmp=h.Eb({type:t,selectors:[["app-qa-list"]],inputs:{PublicView:"PublicView",isActionGranded:"isActionGranded",isAdmin:"isAdmin",type:"type",NoRecordText:"NoRecordText",route_path:"route_path",showReportLink:"showReportLink"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:9,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"videolist"],["class","m-b-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"m-b-20"],[1,"m-b-5"],["class","checkbox m-r-10 float-left",4,"ngIf"],["class","lg-title float-left",3,"href",4,"ngIf"],["class","lg-title float-left",3,"routerLink",4,"ngIf"],[1,"clearfix"],[1,"light-item"],["href","",1,"light"],["href","",1,"bold"],["class","m-l-5",3,"routerLink",4,"ngIf"],["class","m-l-5","href","#",3,"click",4,"ngIf"],[1,"checkbox","m-r-10","float-left"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[1,"lg-title","float-left",3,"href"],[1,"lg-title","float-left",3,"routerLink"],["class","text-muted",3,"routerLink",4,"ngIf"],["class","text-muted",3,"href",4,"ngIf"],[1,"text-muted",3,"routerLink"],[1,"text-muted",3,"href"],[1,"m-l-5",3,"routerLink"],["aria-hidden","true",1,"fa","fa-flag"],["href","#",1,"m-l-5",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],[1,"fa","fa-close","text-danger"]],template:function(t,e){1&t&&(h.Dc(0,S,1,0,"app-loader",0),h.ec(1,"async"),h.Dc(2,V,3,2,"div",0),h.ec(3,"async"),h.Qb(4,"div",1),h.Qb(5,"pagination",2),h.bc("OnSelection",(function(t){return e.PaginationChange(t)})),h.ec(6,"async"),h.ec(7,"async"),h.ec(8,"async"),h.Pb(),h.Pb()),2&t&&(h.kc("ngIf",h.fc(1,5,e.loading$)),h.xb(2),h.kc("ngIf",!h.fc(3,7,e.loading$)),h.xb(3),h.kc("currentPage",h.fc(6,9,e.pagination$).currentPage)("totalRecords",h.fc(7,11,e.pagination$).totalRecords)("pageSize",h.fc(8,13,e.pagination$).pageSize))},directives:[g.u,w.a,A.a,g.t,O.a,O.q,O.t,f.i,k.a],pipes:[g.b,g.g],encapsulation:2,data:{animation:[Object(_.k)("fadeIn",[Object(_.j)(":enter",[Object(_.i)({opacity:"0",background:"#f5fb98"}),Object(_.e)("300ms ease-out",Object(_.f)([Object(_.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(_.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(_.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),t})();function K(t,e){1&t&&(h.Qb(0,"div"),h.Qb(1,"h2",3),h.Fc(2,"Access Denied"),h.Pb(),h.Pb())}function z(t,e){if(1&t){const t=h.Rb();h.Qb(0,"div"),h.Qb(1,"div",4),h.Qb(2,"div",5),h.Qb(3,"app-navigation-v2",6),h.bc("Action",(function(e){return h.uc(t),h.dc(2).toolbaraction(e)}))("SearchSelection",(function(e){return h.uc(t),h.dc(2).FindRecords(e)})),h.Pb(),h.Pb(),h.Qb(4,"div",7),h.Qb(5,"app-toolbar-v2",8),h.bc("Action",(function(e){return h.uc(t),h.dc(2).toolbaraction(e)}))("SelectAllCard",(function(e){return h.uc(t),h.dc(2).selectAll(e)})),h.Pb(),h.Qb(6,"div",9),h.Qb(7,"app-qa-list",10),h.bc("View",(function(e){return h.uc(t),h.dc(2).toolbaraction(e)}))("SelectedItems",(function(e){return h.uc(t),h.dc(2).getSelectedItems(e)})),h.Pb(),h.Pb(),h.Pb(),h.Pb(),h.Pb()}if(2&t){const t=h.dc(2);h.xb(3),h.kc("isAdmin",t.isAdmin)("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),h.xb(2),h.kc("isAdmin",t.isAdmin)("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),h.xb(2),h.kc("route_path",t.route_path)("PublicView",t.PublicView)("type",t.type)("isAdmin",t.isAdmin)("isActionGranded",t.isActionGranded)}}function q(t,e){if(1&t&&(h.Qb(0,"div",2),h.Dc(1,K,3,0,"div",1),h.Dc(2,z,8,11,"div",1),h.Pb()),2&t){const t=h.dc();h.xb(1),h.kc("ngIf",!t.isAccessGranted),h.xb(1),h.kc("ngIf",t.isAccessGranted)}}function N(t,e){if(1&t){const t=h.Rb();h.Qb(0,"div"),h.Qb(1,"app-navigation-v2",6),h.bc("Action",(function(e){return h.uc(t),h.dc().toolbaraction(e)}))("SearchSelection",(function(e){return h.uc(t),h.dc().FindRecords(e)})),h.Pb(),h.Qb(2,"div",2),h.Qb(3,"div",9),h.Qb(4,"div",11),h.Qb(5,"app-toolbar-v2",8),h.bc("Action",(function(e){return h.uc(t),h.dc().toolbaraction(e)}))("SelectAllCard",(function(e){return h.uc(t),h.dc().selectAll(e)})),h.Pb(),h.Pb(),h.Qb(6,"app-qa-list",12),h.bc("View",(function(e){return h.uc(t),h.dc().toolbaraction(e)}))("SelectedItems",(function(e){return h.uc(t),h.dc().getSelectedItems(e)})),h.Pb(),h.Pb(),h.Pb(),h.Pb()}if(2&t){const t=h.dc();h.xb(1),h.kc("isAdmin",t.isAdmin)("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),h.xb(4),h.kc("isAdmin",t.isAdmin)("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),h.xb(1),h.kc("route_path",t.route_path)("PublicView",t.PublicView)("type",t.type)("isAdmin",t.isAdmin)}}let U=(()=>{class t{constructor(t,e,i,c,n,d,h){this._store=t,this.settingService=e,this.dataService=i,this.coreService=c,this.permission=n,this.router=d,this.route=h,this.isAdmin=!0,this.reload=!1,this.type=0,this.PublicView=!1,this.route_path="/qa/",this.filteroptions$=this._store.pipe(Object(s.n)(o.b)),this.isloaded$=this._store.pipe(Object(s.n)(o.c)),this.categories$=this._store.pipe(Object(s.n)(o.a)),this.isItemSelected$=this._store.pipe(Object(s.n)(o.d)),this.records$=this._store.pipe(Object(s.n)(o.h)),this.pagination$=this._store.pipe(Object(s.n)(o.f)),this.auth$=this._store.pipe(Object(s.n)(r.a)),this.configs$=this._store.pipe(Object(s.n)(a.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="QA",this.subheading="Management",this.IsLoaded=!1,this.User={},this.isItemsSelected=!1,this.Records=0,this.Pagination={},this.showReportLink=!1}ngOnInit(){this.auth$.subscribe(t=>{if(this.User=t.User,this.isAdmin){const e="1521395965196";this.permission.GrandResourceAccess(!1,e,"1521396022188",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}else this.isAccessGranted=!0,this.isActionGranded=!0}),this.SearchOptions=this.settingService.getSearchOptions(this.isAdmin),this.ToolbarOptions=this.settingService.getToolbarOptions(this.type,this.isAdmin),this.filteroptions$.subscribe(t=>{this.FilterOptions=Object.assign({},t),this.reload?this.loadRecords(t):t.track_filter&&(this.loadRecords(t),t.track_filter=!1,this._store.dispatch(new c.m(this.FilterOptions)))}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.categories$.subscribe(t=>{for(const e of t)this.SearchOptions.categories.push({key:e.id,value:e.title})}),this.route.params.subscribe(t=>{void 0!==t.tagname&&(this.FilterOptions.tags=t.tagname,this.FilterOptions.track_filter=!0,this._store.dispatch(new c.m(this.FilterOptions))),void 0!==t.catname&&(this.FilterOptions.categoryname=t.catname,this.FilterOptions.track_filter=!0,this._store.dispatch(new c.m(this.FilterOptions))),void 0!==t.uname&&(this.FilterOptions.userid=t.uname,this.FilterOptions.track_filter=!0,this._store.dispatch(new c.m(this.FilterOptions))),void 0!==t.abuse&&("abuse"===t.abuse?(this.FilterOptions.loadabusereports=!0,this.showReportLink=!0):"normallist"===t.abuse&&(this.FilterOptions.loadabusereports=!1,this.showReportLink=!1),this.FilterOptions.track_filter=!0,this._store.dispatch(new c.m(this.FilterOptions)))}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,!t||this.reload?this.loadRecords(this.FilterOptions):this.refreshStats()})}loadRecords(t){switch(this.type){case 0:t.loadliked=!1,t.loadfavorites=!1,t.loadanswers=!1;break;case 1:void 0!==t.userid&&""!==t.userid&&(t.loadfavorites=!0,t.loadliked=!1,t.loadanswers=!1);break;case 2:void 0!==t.userid&&""!==t.userid&&(t.loadliked=!0,t.loadfavorites=!1,t.loadanswers=!1);break;case 2:void 0!==t.userid&&""!==t.userid&&(t.loadanswers=!0,t.loadliked=!1,t.loadfavorites=!1)}this.coreService.renderAbuseReportBtn(this.SearchOptions.actions,t.loadabusereports),this.PublicView&&(t.ispublic=!0),this.dataService.LoadRecords(t)}selectAll(t){this._store.dispatch(new c.j({type:this.type,checked:t}))}toolbaraction(t){switch(t.action){case"add":return void this.router.navigate([this.route_path+"process/0"]);case"abuse":return void this.router.navigate([this.route_path+"filter/abuse"]);case"normallist":return void this.router.navigate([this.route_path+"filter/normallist"]);case"reports":return void this.router.navigate([this.route_path+"reports"]);case"m_markas":return void this.ProcessActions(t.value);case"f_type":this._store.dispatch(new c.d({attr:"type",value:t.value}));break;case"f_isapproved":this._store.dispatch(new c.d({attr:"isapproved",value:t.value}));break;case"f_status":this._store.dispatch(new c.d({attr:"isenabled",value:t.value}));break;case"f_adult":this._store.dispatch(new c.d({attr:"isadult",value:t.value}));break;case"pagesize":this._store.dispatch(new c.d({attr:"pagesize",value:t.value}));break;case"m_filter":this._store.dispatch(new c.d({attr:"datefilter",value:t.value}));break;case"sort":this._store.dispatch(new c.d({attr:"direction",value:t.value}))}}FindRecords(t){const e=t.filters;e.tags="",e.userid="",e.pagenumber=1,e.track_filter=!0,this._store.dispatch(new c.m(e))}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.isActionGranded){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus,this.type>0&&(e.userid=this.User.id);this.dataService.ProcessActions(this.SelectedItems,t,0)}}else this._store.dispatch(new c.m({title:"Permission Denied",text:"",css:"bg-danger"}))}refreshStats(){this._store.dispatch(new c.h({type:this.type,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize})),this._store.dispatch(new n.d({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage}))}}return t.\u0275fac=function(e){return new(e||t)(h.Kb(s.h),h.Kb(l.a),h.Kb(u.a),h.Kb(p.a),h.Kb(b.a),h.Kb(f.f),h.Kb(f.a))},t.\u0275cmp=h.Eb({type:t,selectors:[["app-qa-mainlist"]],hostVars:1,hostBindings:function(t,e){2&t&&h.Cc("@fadeInAnimation",void 0)},inputs:{isAdmin:"isAdmin",reload:"reload",type:"type",PublicView:"PublicView",route_path:"route_path"},decls:2,vars:2,consts:[["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[3,"isAdmin","FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"isAdmin","Options","isItemsSelected","Action","SelectAllCard"],[1,"card-body"],[3,"route_path","PublicView","type","isAdmin","isActionGranded","View","SelectedItems"],[1,"m-b-20"],[3,"route_path","PublicView","type","isAdmin","View","SelectedItems"]],template:function(t,e){1&t&&(h.Dc(0,q,3,2,"div",0),h.Dc(1,N,7,10,"div",1)),2&t&&(h.kc("ngIf",e.isAdmin),h.xb(1),h.kc("ngIf",!e.isAdmin))},directives:[g.u,m.a,v.a,T],encapsulation:2,data:{animation:[d.a]}}),t})()},pdjO:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var s=i("R0Ic");const o=Object(s.k)("fadeInAnimation",[Object(s.j)(":enter",[Object(s.i)({opacity:0,background:"#ff0000"}),Object(s.e)(".8s",Object(s.i)({opacity:1}))])])},zIGt:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var s=i("t+rW"),o=i("LEd3"),c=i("fXoL"),n=i("l7P3"),r=i("YaUu"),a=i("tk/3");let d=(()=>{class t{constructor(t,e,i){this._store=t,this.settings=e,this.http=i}LoadRecords(t){const e=this.settings.getApiOptions().load;this._store.dispatch(new s.f({})),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this._store.dispatch(new s.g(e)),this._store.dispatch(new o.d({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber}))},t=>{this._store.dispatch(new s.e(t))})}LoadDropdownCategories(t){const e=this.settings.getApiOptions().load_dropdown;this.http.post(e,{type:t}).subscribe(t=>{this._store.dispatch(new s.h(t))},t=>{this._store.dispatch(new s.e(t))})}AddRecord(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify([{id:t}]))}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this._store.dispatch(new s.c({SelectedItems:t,isenabled:e})),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this._store.dispatch(new o.c({title:i,text:"",css:"bg-success"}))},t=>{this._store.dispatch(new o.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(n.h),c.Yb(r.a),c.Yb(a.b))},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac}),t})()}}]);