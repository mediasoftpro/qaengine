(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{OgBg:function(t,e,i){"use strict";i.d(e,"g",(function(){return s})),i.d(e,"a",(function(){return n})),i.d(e,"h",(function(){return o})),i.d(e,"e",(function(){return c})),i.d(e,"c",(function(){return a})),i.d(e,"f",(function(){return r})),i.d(e,"b",(function(){return d})),i.d(e,"i",(function(){return l})),i.d(e,"d",(function(){return b}));const s=t=>t.categories.posts,n=t=>t.categories.dropdown_categories,o=t=>t.categories.records,c=t=>t.categories.loading,a=t=>t.categories.isloaded,r=t=>t.categories.pagination,d=t=>t.categories.filteroptions,l=t=>t.categories.selectall,b=t=>t.categories.itemsselected},YaUu:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var s=i("II9H"),n=i("l7P3"),o=i("3nTv"),c=i("fXoL"),a=i("nD3/"),r=i("1pjZ");let d=(()=>{class t{constructor(t,e,i){this._store=t,this.coreService=e,this.config=i,this.configs$=this._store.pipe(Object(n.n)(o.a)),this.Configs={};const s=i.getConfig("host");this.apiOptions={load:s+"api/categories/load",load_dropdown:s+"api/categories/load_dropdown",getinfo:s+"api/categories/getinfo",action:s+"api/categories/action",proc:s+"api/categories/proc"},this.configs$.subscribe(t=>{void 0!==t.general&&(this.Configs=t.general.category,this.init_toolbar_options(),this.init_search_options())})}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:this.initialize_actions()}}initialize_actions(){return[{id:1,title:"Add Category",tooltip:"Add new category",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:s.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Type",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:-1,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0}]});const t=[];for(const e in this.Configs)t.push({id:this.Configs[e],title:e});for(const e of t)this.toolbarOptions.left_options[0].Options.push({id:"0",title:e.title,value:e.id,isclick:!0,clickevent:"f_type",tooltip:"Load "+e.title+" templates"});this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"1",title:"Enable",value:1,actionstatus:"enable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:s.b.SUCCESS_BUTTON,tooltip:"Enable selected records"},{id:"2",title:"Disable",value:0,actionstatus:"disable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:s.b.SUCCESS_BUTTON,tooltip:"Disable selected records"},{id:"2",title:"Delete",value:0,actionstatus:"delete",css:s.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:s.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitObject(){return{id:0,title:"",term:"",description:"",parentid:0,priority:0,mode:0,isenabled:1,type:0,picturename:"",icon:"",files:[],img_url:""}}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(n.h),c.Yb(a.a),c.Yb(r.a))},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac}),t})()},pdjO:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i("R0Ic");const n=Object(s.k)("fadeInAnimation",[Object(s.j)(":enter",[Object(s.i)({opacity:0,background:"#ff0000"}),Object(s.e)(".8s",Object(s.i)({opacity:1}))])])},zIGt:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var s=i("t+rW"),n=i("LEd3"),o=i("fXoL"),c=i("l7P3"),a=i("YaUu"),r=i("tk/3");let d=(()=>{class t{constructor(t,e,i){this._store=t,this.settings=e,this.http=i}LoadRecords(t){const e=this.settings.getApiOptions().load;this._store.dispatch(new s.f({})),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this._store.dispatch(new s.g(e)),this._store.dispatch(new n.d({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber}))},t=>{this._store.dispatch(new s.e(t))})}LoadDropdownCategories(t){const e=this.settings.getApiOptions().load_dropdown;this.http.post(e,{type:t}).subscribe(t=>{this._store.dispatch(new s.h(t))},t=>{this._store.dispatch(new s.e(t))})}AddRecord(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify([{id:t}]))}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this._store.dispatch(new s.c({SelectedItems:t,isenabled:e})),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this._store.dispatch(new n.c({title:i,text:"",css:"bg-success"}))},t=>{this._store.dispatch(new n.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(c.h),o.Yb(a.a),o.Yb(r.b))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac}),t})()},zwdw:function(t,e,i){"use strict";i.r(e),i.d(e,"SettingsModule",(function(){return Ao}));var s=i("ofXK"),n=i("1kSV"),o=i("3Pt+"),c=i("tyNb"),a=i("o+qO"),r=i("fXoL");let d=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[s.c,a.a,o.l,c.j]]}),t})();var l=i("II9H"),b=i("nD3/"),h=i("1pjZ");let p=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load:i+"api/ads/load",getinfo:i+"api/ads/getinfo",action:i+"api/ads/action",proc:i+"api/ads/proc"},this.init_toolbar_options(),this.init_search_options()}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!1,showcheckAll:!0,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Adult",ismultiple:!1,icon:"",value:1,clickevent:"f_type",tooltip:"Load Adult Ads",isclick:!0},{title:"Non Adult",ismultiple:!1,icon:"",value:0,clickevent:"f_type",tooltip:"Load Adult Ads",isclick:!0}),this.toolbarOptions.right_options.push({title:"Order",ismultiple:!0,position:"right",icon:"icon-sort-by-order-alt position-left",Options:[{id:"0",title:"ID",value:"id",isclick:!0,clickevent:"orderby",tooltip:"Order by id"},{id:"1",title:"Type",value:"type",isclick:!0,clickevent:"orderby",tooltip:"Order by type"}]})}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!1,navList:this.coreService.getSettingsNavList(),actions:[]}}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(b.a),r.Yb(h.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();var g=i("DoUi"),u=i("LEd3"),f=i("l7P3"),m=i("tk/3");let v=(()=>{class t{constructor(t,e,i){this._store=t,this.settings=e,this.http=i}LoadRecords(t){const e=this.settings.getApiOptions().load;this._store.dispatch(new g.e({})),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this._store.dispatch(new g.f(e)),this._store.dispatch(new u.d({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber}))},t=>{this._store.dispatch(new g.d(t))})}UpdateRecord(t){this._store.dispatch(new g.i(t)),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe(t=>{this._store.dispatch(new u.c({title:"Record Updated Successfully",text:"",css:"bg-danger"}))},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(f.h),r.Yb(p),r.Yb(m.b))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[p,v],imports:[[s.c,a.a,o.l]]}),t})(),P=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load:i+"api/ip/load",getinfo:i+"api/ip/getinfo",action:i+"api/ip/action",proc:i+"api/ip/proc"},this.init_toolbar_options(),this.init_search_options()}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[{id:1,title:"Add",tooltip:"Block new ip adress",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:l.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:l.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitObject(){return{id:0,ipaddress:""}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(b.a),r.Yb(h.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();var w=i("OMwW");let y=(()=>{class t{constructor(t,e,i){this._store=t,this.settings=e,this.http=i}LoadRecords(t){const e=this.settings.getApiOptions().load;this._store.dispatch(new w.g({})),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this._store.dispatch(new w.h(e)),this._store.dispatch(new u.d({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber}))},t=>{this._store.dispatch(new w.f(t))})}AddRecord(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}UpdateRecord(t){this._store.dispatch(new w.n(t)),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe(t=>{this._store.dispatch(new u.c({title:"Record updated",text:"",css:"bg-success"}))},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this._store.dispatch(new w.d({SelectedItems:t,isenabled:e})),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this._store.dispatch(new u.c({title:i,text:"",css:"bg-success"}))},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(f.h),r.Yb(P),r.Yb(m.b))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[P,y],imports:[[s.c,a.a,o.l]]}),t})();var k=i("YaUu"),_=i("zIGt");let I=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[k.a,_.a],imports:[[s.c,a.a,o.l,c.j]]}),t})();var Q=i("dNLF");let x=(()=>{class t{constructor(t,e){this.config=t,this.coreService=e}getControls(t,e,i){const s=[];s.push(new Q.i({key:"title",label:"Title",value:t.title,required:!0,minLength:3,maxLength:150,order:1})),s.push(new Q.i({key:"term",label:"Term",value:t.term,minLength:3,maxLength:150,order:2}));const n=[];for(const c in i)n.push({key:i[c].toString(),value:c});s.push(new Q.b({key:"type",label:"Select Type",required:!0,value:t.type.toString(),options:n,order:3})),s.push(new Q.b({key:"parentid",label:"Select Parent",required:!0,value:t.parentid.toString(),options:[],order:4})),s.push(new Q.i({key:"priority",label:"Priority",value:t.priority.toString(),minLength:3,maxLength:150,order:5})),s.push(new Q.j({key:"description",label:"Description",value:t.description,tinymiceOptions:this.coreService.prepareInitEditorSettings(),required:!1,order:6})),s.push(new Q.b({key:"isenabled",label:"Select Status",required:!0,value:t.isenabled.toString(),options:[{key:"1",value:"Public"},{key:"0",value:"Private"}],order:7})),s.push(new Q.i({key:"icon",label:"Icon",value:t.icon,minLength:1,maxLength:100,order:8,helpblock:"Place font-awsome icon to display with selected category"}));const o={cropped_picture:t.picturename,croptype:1,upload_id:"cover_upload",colcss:"col-md-8",settings:{width:e.category_thumbnail_width,height:e.category_thumbnail_height},uploadbtntext:"Upload Image",btncss:"btn btn-success"};return s.push(new Q.c({key:"picturename",label:"",value:t.picturename,required:!1,cropperOptions:o,helpblock:"Cropsize: "+o.settings.width+"x"+o.settings.height,order:9})),s.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(h.a),r.Yb(b.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),A=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[k.a,_.a,x],imports:[[s.c,a.a,o.l]]}),t})();var D=i("noRM"),C=i("aRip"),L=i("Pfcf");let F=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[D.a,C.a,L.a],imports:[[s.c,a.a,o.l]]}),t})(),R=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load:i+"api/dictionary/load",getinfo:i+"api/dictionary/getinfo",action:i+"api/dictionary/action",proc:i+"api/dictionary/proc"},this.init_toolbar_options(),this.init_search_options()}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[{id:1,value:2,group:"type",caption:"Type",attr:"type",options:[{id:4,title:"Screening Word",value:0},{id:5,title:"Restricted Usernams",value:1}]}],categories:[],selectedcategory:"",singleaction:!0,actions:this.init_actions()}}init_actions(){return[{id:1,title:"Add Value",tooltip:"Add new value in dictionary",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:l.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:l.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitObject(){return{id:0,value:"",type:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(b.a),r.Yb(h.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();var $=i("6Trk");let j=(()=>{class t{constructor(t,e,i){this._store=t,this.settings=e,this.http=i}LoadRecords(t){const e=this.settings.getApiOptions().load;this._store.dispatch(new $.g({})),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this._store.dispatch(new $.h(e)),this._store.dispatch(new u.d({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber}))},t=>{this._store.dispatch(new $.f(t))})}AddRecord(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}UpdateRecord(t){this._store.dispatch(new $.m(t)),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe(t=>{this._store.dispatch(new u.c({title:"Record Updated Successfully",text:"",css:"bg-success"}))},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this._store.dispatch(new $.d({SelectedItems:t,isenabled:e})),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this._store.dispatch(new u.c({title:i,text:"",css:"bg-success"}))},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(f.h),r.Yb(R),r.Yb(m.b))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),G=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[R,j],imports:[[s.c,a.a,o.l]]}),t})();var T=i("2uHY"),M=i("KJAg");let K=(()=>{class t{getRoleControls(t){const e=[];return e.push(new Q.i({key:"rolename",label:"Role Name",value:t.rolename,required:!0,order:0,maxLength:100,placeholder:"Enter Role Name"})),e.sort((t,e)=>t.order-e.order)}getObjectControls(t){const e=[];return e.push(new Q.i({key:"objectname",label:"Object Name",value:t.objectname,required:!0,order:0,maxLength:100,placeholder:"Enter Object Name"})),e.push(new Q.h({key:"description",label:"Description",value:t.description,order:1,maxLength:1e3,placeholder:"Enter Short Description (Optional)"})),e.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),N=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[T.a,M.a,K],imports:[[s.c,a.a,o.l,c.j]]}),t})(),E=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load:i+"api/languages/load",getinfo:i+"api/languages/getinfo",action:i+"api/languages/action",proc:i+"api/languages/proc"},this.init_toolbar_options(),this.init_search_options()}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[]}}init_toolbar_options(){this.toolbarOptions={showtoolbar:!1,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]}}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(b.a),r.Yb(h.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();var z=i("dmcs");let B=(()=>{class t{constructor(t,e,i){this._store=t,this.settings=e,this.http=i}LoadRecords(t){const e=this.settings.getApiOptions().load;this._store.dispatch(new z.f({})),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this._store.dispatch(new z.g(e)),this._store.dispatch(new u.d({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber}))},t=>{this._store.dispatch(new z.e(t))})}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({userid:t}))}ProcessActions(t,e){this._store.dispatch(new z.c({SelectedItems:t,isenabled:e})),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{this._store.dispatch(new u.c({title:"Operation Performed",text:"",css:"bg-success"}))},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(f.h),r.Yb(E),r.Yb(m.b))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),V=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[E,B],imports:[[s.c,a.a,o.l]]}),t})(),Y=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load:i+"api/log/load",getinfo:i+"api/log/getinfo",action:i+"api/log/action",proc:i+"api/log/proc"},this.init_toolbar_options(),this.init_search_options()}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[{id:1,title:"Delete All",tooltip:"Delete all logs",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-danger",event:"deleteall"}]}}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:l.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:l.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(b.a),r.Yb(h.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();var H=i("TgGP");let U=(()=>{class t{constructor(t,e,i){this._store=t,this.settings=e,this.http=i}LoadRecords(t){const e=this.settings.getApiOptions().load;this._store.dispatch(new H.f({})),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this._store.dispatch(new H.g(e)),this._store.dispatch(new u.d({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber}))},t=>{this._store.dispatch(new H.e(t))})}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({userid:t}))}DeleteAllRecords(){this._store.dispatch(new H.i({})),this._store.dispatch(new u.d({totalrecords:0,pagesize:20,pagenumber:1})),this.http.post(this.settings.getApiOptions().action,JSON.stringify([{id:1,actionstatus:"deleteall"}])).subscribe(t=>{this._store.dispatch(new u.c({title:"Logs cleared out successfully",text:"",css:"bg-success"}))},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this._store.dispatch(new H.c({SelectedItems:t,isenabled:e})),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this._store.dispatch(new u.c({title:i,text:"",css:"bg-success"}))},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(f.h),r.Yb(Y),r.Yb(m.b))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),q=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Y,U],imports:[[s.c,a.a,o.l]]}),t})();var J=i("3nTv");let X=(()=>{class t{constructor(t,e,i){this._store=t,this.coreService=e,this.config=i,this.configs$=this._store.pipe(Object(f.n)(J.a)),this.Configs={};const s=i.getConfig("host");this.apiOptions={load:s+"api/mailtemplates/load",getinfo:s+"api/mailtemplates/getinfo",action:s+"api/mailtemplates/action",proc:s+"api/mailtemplates/proc"},this.configs$.subscribe(t=>{void 0!==t.general&&(console.log("configs defined"),this.Configs=t.general.mailtemplates,this.init_toolbar_options(),this.init_search_options())})}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:this.initialize_actions()}}initialize_actions(){return[{id:1,title:"Add Template",tooltip:"Add new mail template",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Type",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:-1,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0}]});const t=[];for(const e in this.Configs)t.push({value:this.Configs[e],title:e});for(const e of t)this.toolbarOptions.left_options[0].Options.push({id:"0",title:e.title,value:e.value,isclick:!0,clickevent:"f_type",tooltip:"Load "+e.title+" templates"});this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:l.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:l.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitObject(){return{id:0,templatekey:"",description:"",subjecttags:"",subject:"",tags:"",contents:"",type:"0"}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(f.h),r.Yb(b.a),r.Yb(h.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();var W=i("GrDw");let Z=(()=>{class t{constructor(t,e,i){this._store=t,this.settings=e,this.http=i}LoadRecords(t){const e=this.settings.getApiOptions().load;this._store.dispatch(new W.f({})),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this._store.dispatch(new W.g(e)),this._store.dispatch(new u.d({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber}))},t=>{this._store.dispatch(new W.e(t))})}AddRecord(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify([{id:t}]))}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this._store.dispatch(new W.c({SelectedItems:t,isenabled:e})),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this._store.dispatch(new u.c({title:i,text:"",css:"bg-success"}))},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(f.h),r.Yb(X),r.Yb(m.b))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),tt=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[X,Z],imports:[[s.c,a.a,o.l,c.j]]}),t})(),et=(()=>{class t{constructor(t){this.coreService=t}getControls(t,e){const i=[];let s=!1;t.id>0&&(s=!0),i.push(new Q.i({key:"templatekey",label:"Template Key",value:t.templatekey,required:!0,minLength:3,maxLength:25,order:1,disabled:s,helpblock:"Unique key used to fetch mail template within site events. e.g REGUSER for user regiration"})),i.push(new Q.h({key:"description",label:"Description",value:t.description,required:!0,helpblock:"A block of help text that breaks onto a new line and may extend beyond one line.",order:2})),i.push(new Q.i({key:"subjecttags",label:"Subject Tags",value:t.subjecttags,required:!0,order:3,maxLength:100,helpblock:"Enter subject tags for informative purpose e.g [username], [email], that may be used in template subject for dynamic text processing"})),i.push(new Q.i({key:"subject",label:"Subject",value:t.subject,required:!0,maxLength:150,order:4})),i.push(new Q.i({key:"tags",label:"Content Tags",value:t.tags,required:!0,order:5,maxLength:100,helpblock:"Enter tags for informative purpose e.g [username], [email], that may be used in template body for dynamic text processing"})),i.push(new Q.j({key:"contents",label:"Contents",value:t.contents,tinymiceOptions:this.coreService.prepareInitAdvacneEditorSettings(),required:!0,order:6}));const n=[];for(const o in e)n.push({key:e[o].toString(),value:o});return i.push(new Q.b({key:"type",label:"Type",value:t.type,options:n,order:7})),i.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(b.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),it=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[X,Z,et],imports:[[s.c,a.a,o.l]]}),t})(),st=(()=>{class t{constructor(t,e,i){this._store=t,this.coreService=e,this.config=i,this.configs$=this._store.pipe(Object(f.n)(J.a)),this.Configs={};const s=i.getConfig("host");this.apiOptions={load:s+"api/tags/load",getinfo:s+"api/tags/getinfo",action:s+"api/tags/action",proc:s+"api/tags/proc"},this.configs$.subscribe(t=>{void 0!==t.general&&(this.Configs=t.general.tag,this.init_toolbar_options(),this.init_search_options())})}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[{id:1,title:"Inactive Tags",value:0,default_value:2,selected:!1,attr:"isenabled"}],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!1,actions:[]}}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Status",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:0,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0},{id:"5",title:"Active",value:1,isclick:!0,clickevent:"f_status",tooltip:"Load active tags"},{id:"6",title:"Inactive",value:0,isclick:!0,clickevent:"f_status",tooltip:"Load inactive tags"}]}),this.toolbarOptions.left_options.push({title:"Type",ismultiple:!0,icon:"",Options:[]});const t=[];for(const e in this.Configs)t.push({value:this.Configs[e],title:e});for(const e of t)this.toolbarOptions.left_options[1].Options.push({id:"0",title:e.title,value:e.value,isclick:!0,clickevent:"f_type",tooltip:"Load "+e.title+" tags"});this.toolbarOptions.left_options.push({title:"Tag Types",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:0,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0},{id:"5",title:"Normal Tags",value:0,isclick:!0,clickevent:"f_ttype",tooltip:"Load normal tags"},{id:"6",title:"User Searches",value:1,isclick:!0,clickevent:"f_ttype",tooltip:"Load user searches"}]}),this.toolbarOptions.left_options.push({title:"Tag Level",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:0,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0},{id:"5",title:"High",value:0,isclick:!0,clickevent:"f_tlevel",tooltip:"Load high priority tags"},{id:"6",title:"Medium",value:1,isclick:!0,clickevent:"f_tlevel",tooltip:"Load medium priority tags"},{id:"6",title:"Low",value:2,isclick:!0,clickevent:"f_tlevel",tooltip:"Load low priority tags"}]}),this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"1",title:"Activate",value:1,actionstatus:"enable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:l.b.DARK_BUTTON,tooltip:"Enable selected records"},{id:"2",title:"Deactivate",value:0,actionstatus:"disable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:l.b.DANGER_BUTTON,tooltip:"Disable selected records"},{id:"0",title:"Top Priority",value:0,actionstatus:"high",attr:"tag_level",isclick:!0,clickevent:"m_markas",icon:"",css:l.b.DARK_BUTTON,tooltip:"Mark as top priority"},{id:"1",title:"Medium",value:1,actionstatus:"medium",attr:"tag_level",isclick:!0,clickevent:"m_markas",icon:"",css:l.b.DARK_BUTTON,tooltip:"Mark as medium"},{id:"3",title:"Low Priority",value:1,actionstatus:"low",isclick:!0,attr:"tag_level",clickevent:"m_markas",icon:"",css:l.b.DARK_BUTTON,tooltip:"Mark as low priority"},{id:"2",title:"Delete",value:0,actionstatus:"delete",css:l.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:l.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(f.h),r.Yb(b.a),r.Yb(h.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();var nt=i("Ydb0");let ot=(()=>{class t{constructor(t,e,i){this._store=t,this.settings=e,this.http=i}LoadRecords(t){const e=this.settings.getApiOptions().load;this._store.dispatch(new nt.f({})),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this._store.dispatch(new nt.g(e)),this._store.dispatch(new u.d({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber}))},t=>{this._store.dispatch(new nt.e(t))})}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({userid:t}))}UpdateRecord(t){this._store.dispatch(new nt.l(t)),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe(t=>{this._store.dispatch(new u.c({title:"Record Updated Successfully",text:"",css:"bg-success"}))},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this._store.dispatch(new nt.c({SelectedItems:t,isenabled:e})),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this._store.dispatch(new u.c({title:i,text:"",css:"bg-success"}))},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(f.h),r.Yb(st),r.Yb(m.b))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),ct=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[st,ot],imports:[[s.c,a.a,o.l]]}),t})(),at=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:[c.k],encapsulation:2}),t})();var rt=i("XDFV"),dt=i("Hjmt");function lt(t,e){if(1&t&&r.Lb(0,"i"),2&t){const t=r.dc().$implicit;r.zb(t.css)}}function bt(t,e){if(1&t&&(r.Qb(0,"li",8),r.Qb(1,"a",9),r.Dc(2,lt,1,3,"i",10),r.Fc(3),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.xb(1),r.lc("routerLink",t.url),r.lc("title",t.title),r.xb(1),r.kc("ngIf",""!=t.css),r.xb(1),r.Hc(" ",t.title," ")}}let ht=(()=>{class t{constructor(t,e,i){this._store=t,this.coreService=e,this.permission=i,this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396255768";this.permission.GrandResourceAccess(!1,e,"1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.NavList=this.coreService.getSettingsNavList()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(b.a),r.Kb(dt.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:9,vars:1,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"col-xlg-4","col-lg-6","col-md-6"],[1,"card-body","inbox-panel"],[1,"list-group","list-group-full"],["class","list-group-item","routerLinkActive","active",4,"ngFor","ngForOf"],[1,"col-xlg-8","col-lg-6","col-md-6"],["routerLinkActive","active",1,"list-group-item"],[3,"routerLink","title"],[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",0),r.Qb(4,"div",3),r.Qb(5,"div",4),r.Qb(6,"ul",5),r.Dc(7,bt,4,4,"li",6),r.Pb(),r.Pb(),r.Pb(),r.Lb(8,"div",7),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.xb(7),r.kc("ngForOf",e.NavList))},directives:[s.t,c.h,c.i,s.u],encapsulation:2}),t})();const pt=t=>t.advertisement.posts,gt=t=>t.advertisement.loading,ut=t=>t.advertisement.isloaded,ft=t=>t.advertisement.pagination,mt=t=>t.advertisement.filteroptions;var vt=i("/H0e"),Ot=i("4HLj"),Pt=i("cScK"),wt=i("RDfn");function yt(t,e){1&t&&r.Lb(0,"app-loader")}function St(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",13),r.Qb(2,"div",14),r.Qb(3,"div"),r.Qb(4,"strong",15),r.Fc(5),r.Pb(),r.Lb(6,"br"),r.Qb(7,"textarea",16),r.bc("ngModelChange",(function(e){return r.uc(t),r.dc().$implicit.adscript=e})),r.Pb(),r.Pb(),r.Qb(8,"div",17),r.Qb(9,"button",18),r.bc("click",(function(){r.uc(t);const e=r.dc().$implicit;return r.dc(3)._UpdateRecord(e)})),r.Fc(10," Save "),r.Pb(),r.Qb(11,"button",19),r.bc("click",(function(e){r.uc(t);const i=r.dc().$implicit;return r.dc(3).toggleEditView(i,e)})),r.Fc(12," Cancel "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc().$implicit;r.xb(5),r.Gc(t.name),r.xb(2),r.kc("ngModel",t.adscript)}}function kt(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"a",20),r.bc("click",(function(e){r.uc(t);const i=r.dc().$implicit;return r.dc(3).toggleEditView(i,e),!1})),r.Fc(2),r.Pb(),r.Pb()}if(2&t){const t=r.dc().$implicit;r.xb(2),r.Gc(t.name)}}function _t(t,e){1&t&&(r.Qb(0,"span",21),r.Fc(1,"Adult"),r.Pb())}function It(t,e){1&t&&(r.Qb(0,"span",22),r.Fc(1,"Non Adult"),r.Pb())}function Qt(t,e){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td",9),r.Dc(2,St,13,2,"div",0),r.Dc(3,kt,3,1,"div",0),r.Pb(),r.Qb(4,"td",10),r.Dc(5,_t,2,0,"span",11),r.Dc(6,It,2,0,"span",12),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.xb(2),r.kc("ngIf",t.editview),r.xb(1),r.kc("ngIf",!t.editview),r.xb(2),r.kc("ngIf",1==t.type),r.xb(1),r.kc("ngIf",0==t.type)}}function xt(t,e){if(1&t&&(r.Qb(0,"div",6),r.Qb(1,"table",7),r.Qb(2,"thead"),r.Qb(3,"tr"),r.Qb(4,"th"),r.Fc(5,"Title"),r.Pb(),r.Qb(6,"th"),r.Fc(7,"Type"),r.Pb(),r.Pb(),r.Pb(),r.Qb(8,"tbody"),r.Dc(9,Qt,7,4,"tr",8),r.ec(10,"async"),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc(2);r.xb(9),r.kc("ngForOf",r.fc(10,2,t.Data$))("ngForTrackBy",t.getKey)}}function At(t,e){1&t&&(r.Qb(0,"div",23),r.Qb(1,"div",24),r.Qb(2,"div",25),r.Qb(3,"h3",26),r.Fc(4,"No Records Found!"),r.Pb(),r.Pb(),r.Pb(),r.Pb())}function Dt(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,xt,11,4,"div",4),r.ec(2,"async"),r.Dc(3,At,5,0,"div",5),r.ec(4,"async"),r.Pb()),2&t){const t=r.dc();r.xb(1),r.kc("ngIf",r.fc(2,2,t.Data$).length>0),r.xb(2),r.kc("ngIf",0==r.fc(4,4,t.Data$).length)}}let Ct=(()=>{class t{constructor(t,e){this._store=t,this.dataService=e,this.isActionGranded=!1,this.Data$=this._store.pipe(Object(f.n)(pt)),this.loading$=this._store.pipe(Object(f.n)(gt)),this.pagination$=this._store.pipe(Object(f.n)(ft))}ngOnInit(){}toggleEditView(t,e){t.editview=!t.editview,e.stopPropagation()}_UpdateRecord(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}getKey(t,e){return e.id}PaginationChange(t){this._store.dispatch(new g.c({attr:"pagenumber",value:t})),this._store.dispatch(new g.h({currentpage:t}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(v))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},decls:10,vars:15,consts:[[4,"ngIf"],[2,"padding","15px 10px"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],["class","row row-wrap",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","row-wrap"],[1,"table","table-bordered"],[4,"ngFor","ngForOf","ngForTrackBy"],[2,"width","80%"],[2,"width","20%"],["class","badge badge-danger m-r-5 m-b-5",4,"ngIf"],["class","badge badge-success m-r-5 m-b-5",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"m-b-3"],["rows","4","placeholder","enter script here",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],["href","",3,"click"],[1,"badge","badge-danger","m-r-5","m-b-5"],[1,"badge","badge-success","m-r-5","m-b-5"],[1,"row"],[1,"col-md-12"],[2,"padding","80px 0px"],[2,"text-align","center"]],template:function(t,e){1&t&&(r.Dc(0,yt,1,0,"app-loader",0),r.ec(1,"async"),r.Qb(2,"div",1),r.Dc(3,Dt,5,6,"div",0),r.ec(4,"async"),r.Pb(),r.Qb(5,"div",2),r.Qb(6,"pagination",3),r.bc("OnSelection",(function(t){return e.PaginationChange(t)})),r.ec(7,"async"),r.ec(8,"async"),r.ec(9,"async"),r.Pb(),r.Pb()),2&t&&(r.kc("ngIf",r.fc(1,5,e.loading$)),r.xb(3),r.kc("ngIf",!r.fc(4,7,e.loading$)),r.xb(3),r.kc("currentPage",r.fc(7,9,e.pagination$).currentPage)("totalRecords",r.fc(8,11,e.pagination$).totalRecords)("pageSize",r.fc(9,13,e.pagination$).pageSize))},directives:[s.u,Pt.a,wt.a,s.t,o.c,o.q,o.t],pipes:[s.b],encapsulation:2}),t})();function Lt(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",4),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function Ft(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",0),r.Qb(2,"div",5),r.Qb(3,"app-navigation-v2",6),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)}))("SearchSelection",(function(e){return r.uc(t),r.dc().FindRecords(e)})),r.Pb(),r.Pb(),r.Qb(4,"div",7),r.Qb(5,"app-toolbar-v2",8),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)})),r.Pb(),r.Qb(6,"div",9),r.Qb(7,"app-list",10),r.bc("View",(function(e){return r.uc(t),r.dc().toolbaraction(e)})),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc();r.xb(3),r.kc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.xb(2),r.kc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.xb(2),r.kc("isActionGranded",t.isActionGranded)}}let Rt=(()=>{class t{constructor(t,e,i,s){this._store=t,this.settingService=e,this.dataService=i,this.permission=s,this.filteroptions$=this._store.pipe(Object(f.n)(mt)),this.isloaded$=this._store.pipe(Object(f.n)(ut)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396255768";this.permission.GrandResourceAccess(!1,e,"1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{this.FilterOptions=Object.assign({},t),t.track_filter&&(this.dataService.LoadRecords(t),this.FilterOptions.track_filter=!1,this._store.dispatch(new g.g(this.FilterOptions)))}),this.isloaded$.subscribe(t=>{t||this.dataService.LoadRecords(this.FilterOptions)})}toolbaraction(t){switch(t.action){case"f_type":this._store.dispatch(new g.c({attr:"type",value:t.value}))}}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this._store.dispatch(new g.g(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(p),r.Kb(v),r.Kb(dt.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Dc(3,Lt,3,0,"div",3),r.Dc(4,Ft,8,5,"div",3),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.xb(3),r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,Ot.a,Ct],encapsulation:2}),t})(),$t=(()=>{class t{getControls(t){const e=[];return e.push(new Q.i({key:"ipaddress",label:"IP Address",value:t.ipaddress,required:!0,minLength:5,maxLength:40,order:1})),e.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();var jt=i("+kG/");let Gt=(()=>{class t{constructor(t,e,i,s){this._store=t,this.activeModal=e,this.service=i,this.dataService=s,this.showLoader=!1,this.list=[]}ngOnInit(){this.title=this.Info.title,this.controls=this.service.getControls(this.Info.data)}SubmitForm(t){void 0===this.Info.isActionGranded||this.Info.isActionGranded?(t.id=this.Info.data.id,t.uniqueid=0===t.id?(new Date).valueOf():"",this.showLoader=!0,this.dataService.AddRecord(t).subscribe(e=>{this.showLoader=!1,this._store.dispatch(new u.c({title:"Record added successfully",text:"",css:"bg-success"})),this.activeModal.close({data:t})},t=>{this.showLoader=!1,this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(n.a),r.Kb($t),r.Kb(y))},t.\u0275cmp=r.Eb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[r.wb([$t,y])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"h4",1),r.Fc(2),r.Pb(),r.Qb(3,"button",2),r.bc("click",(function(){return e.activeModal.dismiss("Cross click")})),r.Qb(4,"span",3),r.Fc(5,"\xd7"),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"dynamic-modal-form",4),r.bc("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),r.Pb()),2&t&&(r.xb(2),r.Gc(e.title),r.xb(4),r.kc("controls",e.controls)("showLoader",e.showLoader))},directives:[jt.a],encapsulation:2}),t})();const Tt=t=>t.blockip.posts,Mt=t=>t.blockip.records,Kt=t=>t.blockip.loading,Nt=t=>t.blockip.isloaded,Et=t=>t.blockip.pagination,zt=t=>t.blockip.filteroptions,Bt=t=>t.blockip.selectall,Vt=t=>t.blockip.itemsselected;var Yt=i("pdjO"),Ht=i("R0Ic"),Ut=i("aIzJ");function qt(t,e){1&t&&r.Lb(0,"app-loader")}function Jt(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",21),r.Qb(2,"div",22),r.Qb(3,"div"),r.Qb(4,"input",23),r.bc("ngModelChange",(function(e){return r.uc(t),r.dc().$implicit.ipaddress=e})),r.Pb(),r.Pb(),r.Qb(5,"div",24),r.Qb(6,"button",25),r.bc("click",(function(){r.uc(t);const e=r.dc().$implicit;return r.dc(3)._UpdateRecord(e)})),r.Fc(7," Save "),r.Pb(),r.Qb(8,"button",26),r.bc("click",(function(e){r.uc(t);const i=r.dc().$implicit;return r.dc(3).toggleEditView(i,e)})),r.Fc(9," Cancel "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc().$implicit;r.xb(4),r.kc("ngModel",t.ipaddress)}}function Xt(t,e){if(1&t&&(r.Qb(0,"div"),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.Hc(" ",t.ipaddress," ")}}function Wt(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr",11),r.Qb(1,"td",12),r.Qb(2,"div",5),r.Qb(3,"input",13),r.bc("ngModelChange",(function(i){return r.uc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return r.uc(t),r.dc(3).checkChange()})),r.Pb(),r.Lb(4,"label",14),r.Pb(),r.Pb(),r.Qb(5,"td"),r.Dc(6,Jt,10,1,"div",0),r.Dc(7,Xt,2,1,"div",0),r.Pb(),r.Qb(8,"td"),r.Qb(9,"span",15),r.Lb(10,"i",16),r.Pb(),r.Fc(11),r.ec(12,"date"),r.Pb(),r.Qb(13,"td",9),r.Qb(14,"a",17),r.bc("click",(function(i){r.uc(t);const s=e.$implicit;return r.dc(3).toggleEditView(s,i),!1})),r.Lb(15,"i",18),r.Pb(),r.Qb(16,"a",19),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,n=e.index;return r.dc(3).delete(s,n,i),!1})),r.Lb(17,"i",20),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.kc("@fadeIn",void 0)("hidden",t.isdeleted),r.xb(3),r.lc("id",t.id),r.kc("ngModel",t.Selected),r.xb(1),r.lc("for",t.id),r.xb(2),r.kc("ngIf",t.editview),r.xb(1),r.kc("ngIf",!t.editview),r.xb(4),r.Hc(" ",r.gc(12,8,t.created_at,"fullDate")," ")}}function Zt(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",3),r.Qb(2,"table",4),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th"),r.Qb(6,"div",5),r.Qb(7,"input",6),r.bc("ngModelChange",(function(e){return r.uc(t),r.dc(2).selectall=e}))("ngModelChange",(function(){return r.uc(t),r.dc(2).processChange()})),r.Pb(),r.Lb(8,"label",7),r.Pb(),r.Pb(),r.Qb(9,"th"),r.Qb(10,"span",8),r.Fc(11,"IP Address"),r.Pb(),r.Pb(),r.Qb(12,"th"),r.Qb(13,"span",8),r.Fc(14,"Date"),r.Pb(),r.Pb(),r.Qb(15,"th",9),r.Fc(16," Action "),r.Pb(),r.Pb(),r.Pb(),r.Qb(17,"tbody"),r.Dc(18,Wt,18,11,"tr",10),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc(2);r.xb(7),r.kc("ngModel",t.selectall),r.xb(11),r.kc("ngForOf",t.Data)("ngForTrackBy",t.getKey)}}function te(t,e){1&t&&r.Lb(0,"app-norecord")}function ee(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,Zt,19,3,"div",0),r.Dc(2,te,1,0,"app-norecord",0),r.Pb()),2&t){const t=r.dc();r.xb(1),r.kc("ngIf",t.Data.length>0),r.xb(1),r.kc("ngIf",0===t.Data.length)}}let ie=(()=>{class t{constructor(t,e){this._store=t,this.dataService=e,this.isActionGranded=!1,this.selectall=!1,this.SelectedItems=new r.n,this.Data$=this._store.pipe(Object(f.n)(Tt)),this.loading$=this._store.pipe(Object(f.n)(Kt)),this.pagination$=this._store.pipe(Object(f.n)(Et)),this.selectAll$=this._store.pipe(Object(f.n)(Bt)),this.View=new r.n,this.Data=[]}ngOnInit(){this.Data$.subscribe(t=>{this.Data=t.map(t=>Object.assign({},t))}),this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}toggleEditView(t,e){t.editview=!t.editview,e.stopPropagation()}_UpdateRecord(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}getKey(t,e){return e.id}processChange(){this._store.dispatch(new w.j(this.selectall))}checkChange(){const t=[];for(const e of this.Data)e.Selected&&t.push(e);this.SelectedItems.emit(t)}PaginationChange(t){this._store.dispatch(new w.e({attr:"pagenumber",value:t})),this._store.dispatch(new w.m({currentpage:t}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(y))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{SelectedItems:"SelectedItems",View:"View"},decls:9,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"m-r-5"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[1,"text-muted"],[1,"fa","fa-clock-o"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"card"],[1,"card-body"],["type","text","placeholder","Update IP Address",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,e){1&t&&(r.Dc(0,qt,1,0,"app-loader",0),r.ec(1,"async"),r.Dc(2,ee,3,2,"div",0),r.ec(3,"async"),r.Qb(4,"div",1),r.Qb(5,"pagination",2),r.bc("OnSelection",(function(t){return e.PaginationChange(t)})),r.ec(6,"async"),r.ec(7,"async"),r.ec(8,"async"),r.Pb(),r.Pb()),2&t&&(r.kc("ngIf",r.fc(1,5,e.loading$)),r.xb(2),r.kc("ngIf",!r.fc(3,7,e.loading$)),r.xb(3),r.kc("currentPage",r.fc(6,9,e.pagination$).currentPage)("totalRecords",r.fc(7,11,e.pagination$).totalRecords)("pageSize",r.fc(8,13,e.pagination$).pageSize))},directives:[s.u,Pt.a,wt.a,o.a,o.q,o.t,s.t,o.c,Ut.a],pipes:[s.b,s.f],encapsulation:2,data:{animation:[Object(Ht.k)("fadeIn",[Object(Ht.j)(":enter",[Object(Ht.i)({opacity:"0",background:"#f5fb98"}),Object(Ht.e)("300ms ease-out",Object(Ht.f)([Object(Ht.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Ht.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Ht.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),t})();function se(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",4),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function ne(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",0),r.Qb(2,"div",5),r.Qb(3,"app-navigation-v2",6),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)}))("SearchSelection",(function(e){return r.uc(t),r.dc().FindRecords(e)})),r.Pb(),r.Pb(),r.Qb(4,"div",7),r.Qb(5,"app-toolbar-v2",8),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)})),r.Pb(),r.Qb(6,"div",9),r.Qb(7,"app-list",10),r.bc("View",(function(e){return r.uc(t),r.dc().toolbaraction(e)}))("SelectedItems",(function(e){return r.uc(t),r.dc().getSelectedItems(e)})),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc();r.xb(3),r.kc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.xb(2),r.kc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.xb(2),r.kc("isActionGranded",t.isActionGranded)}}let oe=(()=>{class t{constructor(t,e,i,s,n){this._store=t,this.settingService=e,this.dataService=i,this.modalService=s,this.permission=n,this.filteroptions$=this._store.pipe(Object(f.n)(zt)),this.isloaded$=this._store.pipe(Object(f.n)(Nt)),this.isItemSelected$=this._store.pipe(Object(f.n)(Vt)),this.records$=this._store.pipe(Object(f.n)(Mt)),this.pagination$=this._store.pipe(Object(f.n)(Et)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Block IP",this.subheading="Management",this.isItemsSelected=!1,this.Records=0,this.Pagination={}}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396255768";this.permission.GrandResourceAccess(!1,e,"1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{this.FilterOptions=Object.assign({},t),t.track_filter&&(this.dataService.LoadRecords(t),this.FilterOptions.track_filter=!1,this._store.dispatch(new w.k(this.FilterOptions)))}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t})}toolbaraction(t){if(this.isActionGranded)switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value)}else this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this._store.dispatch(new w.k(e))}AddRecord(){const t=this.modalService.open(Gt,{backdrop:!1});t.componentInstance.Info={title:"Block IP Address",data:this.settingService.getInitObject()},t.result.then(t=>{this._store.dispatch(new w.c({id:0,ipaddress:t.data.ipaddress,created_at:new Date}))},t=>{console.log("dismissed")})}getSelectedItems(t){this.SelectedItems=t;let e=!1;this.SelectedItems.length>0&&(e=!0),this._store.dispatch(new w.l(e))}ProcessActions(t){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}refreshStats(){this._store.dispatch(new w.i({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize})),this._store.dispatch(new u.d({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(P),r.Kb(y),r.Kb(n.b),r.Kb(dt.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Dc(3,se,3,0,"div",3),r.Dc(4,ne,8,5,"div",3),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.xb(3),r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,Ot.a,ie],encapsulation:2,data:{animation:[Yt.a]}}),t})();var ce=i("OgBg"),ae=i("t+rW");function re(t,e){1&t&&r.Lb(0,"app-loader")}function de(t,e){if(1&t&&r.Lb(0,"i"),2&t){const t=r.dc().$implicit;r.zb(t.icon)}}function le(t,e){if(1&t&&(r.Qb(0,"span"),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.Gc(t.title)}}function be(t,e){if(1&t&&(r.Qb(0,"span"),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.Gc(t.term)}}function he(t,e){if(1&t&&(r.Qb(0,"span",25),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.Gc(t.title)}}function pe(t,e){if(1&t&&(r.Qb(0,"span"),r.Dc(1,he,2,1,"span",17),r.Pb()),2&t){const t=e.$implicit,i=r.dc().$implicit;r.xb(1),r.kc("ngIf",i.type===t.id)}}function ge(t,e){1&t&&(r.Qb(0,"span",26),r.Fc(1,"Normal"),r.Pb())}function ue(t,e){1&t&&(r.Qb(0,"span",26),r.Fc(1,"Active"),r.Pb())}function fe(t,e){1&t&&(r.Qb(0,"span",25),r.Fc(1,"Inactive"),r.Pb())}const me=function(t){return[t]};function ve(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr",9),r.Qb(1,"td",10),r.Qb(2,"div",5),r.Qb(3,"input",11),r.bc("ngModelChange",(function(i){return r.uc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return r.uc(t),r.dc(3).checkChange()})),r.Pb(),r.Lb(4,"label",12),r.Pb(),r.Pb(),r.Qb(5,"td"),r.Fc(6),r.Pb(),r.Qb(7,"td"),r.Dc(8,de,1,3,"i",13),r.Fc(9),r.Qb(10,"a",14),r.Fc(11),r.Pb(),r.Pb(),r.Qb(12,"td"),r.Dc(13,le,2,1,"span",0),r.Dc(14,be,2,1,"span",0),r.Pb(),r.Qb(15,"td"),r.Dc(16,pe,2,1,"span",15),r.Pb(),r.Qb(17,"td"),r.Dc(18,ge,2,0,"span",16),r.Pb(),r.Qb(19,"td"),r.Dc(20,ue,2,0,"span",16),r.Dc(21,fe,2,0,"span",17),r.Pb(),r.Qb(22,"td",18),r.Qb(23,"a",19),r.Lb(24,"i",20),r.Pb(),r.Qb(25,"a",21),r.Lb(26,"i",22),r.Pb(),r.Qb(27,"a",23),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,n=e.index;return r.dc(3).delete(s,n,i),!1})),r.Lb(28,"i",24),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,i=r.dc(3);r.kc("@fadeIn",void 0)("hidden",t.isdeleted),r.xb(3),r.lc("id",t.id),r.kc("ngModel",t.Selected),r.xb(1),r.lc("for",t.id),r.xb(2),r.Hc(" ",t.id," "),r.xb(2),r.kc("ngIf",""!=t.icon),r.xb(1),r.Hc(" ",t.clevel," "),r.xb(1),r.kc("routerLink",r.oc(18,me,"/settings/categories/process/"+t.id)),r.xb(1),r.Gc(t.title),r.xb(2),r.kc("ngIf",""==t.term),r.xb(1),r.kc("ngIf",""!=t.term),r.xb(2),r.kc("ngForOf",i.category_types),r.xb(2),r.kc("ngIf",0==t.mode),r.xb(2),r.kc("ngIf",1==t.isenabled),r.xb(1),r.kc("ngIf",0==t.isenabled),r.xb(2),r.kc("routerLink",r.oc(20,me,"/settings/categories/process/add/"+t.id)),r.xb(2),r.kc("routerLink",r.oc(22,me,"/settings/categories/process/"+t.id))}}function Oe(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",3),r.Qb(2,"table",4),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th"),r.Qb(6,"div",5),r.Qb(7,"input",6),r.bc("ngModelChange",(function(e){return r.uc(t),r.dc(2).selectall=e}))("ngModelChange",(function(){return r.uc(t),r.dc(2).processChange()})),r.Pb(),r.Lb(8,"label",7),r.Pb(),r.Pb(),r.Qb(9,"th"),r.Fc(10,"ID"),r.Pb(),r.Qb(11,"th"),r.Fc(12,"Name"),r.Pb(),r.Qb(13,"th"),r.Fc(14,"Term"),r.Pb(),r.Qb(15,"th"),r.Fc(16,"Type"),r.Pb(),r.Qb(17,"th"),r.Fc(18,"Mode"),r.Pb(),r.Qb(19,"th"),r.Fc(20,"Status"),r.Pb(),r.Qb(21,"th"),r.Fc(22,"Action"),r.Pb(),r.Pb(),r.Pb(),r.Qb(23,"tbody"),r.Dc(24,ve,29,24,"tr",8),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc(2);r.xb(7),r.kc("ngModel",t.selectall),r.xb(17),r.kc("ngForOf",t.Data)("ngForTrackBy",t.getKey)}}function Pe(t,e){1&t&&r.Lb(0,"app-norecord")}function we(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,Oe,25,3,"div",0),r.Dc(2,Pe,1,0,"app-norecord",0),r.Pb()),2&t){const t=r.dc();r.xb(1),r.kc("ngIf",t.Data.length>0),r.xb(1),r.kc("ngIf",0===t.Data.length)}}let ye=(()=>{class t{constructor(t,e){this._store=t,this.dataService=e,this.isActionGranded=!1,this.category_types=[],this.Data$=this._store.pipe(Object(f.n)(ce.g)),this.loading$=this._store.pipe(Object(f.n)(ce.e)),this.pagination$=this._store.pipe(Object(f.n)(ce.f)),this.selectAll$=this._store.pipe(Object(f.n)(ce.i)),this.View=new r.n,this.SelectedItems=new r.n,this.selectall=!1,this.Data=[]}ngOnInit(){this.Data$.subscribe(t=>{this.Data=t.map(t=>Object.assign({},t))}),this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}viewRecord(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}getKey(t,e){return e.id}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}PaginationChange(t){this._store.dispatch(new ae.d({attr:"pagenumber",value:t})),this._store.dispatch(new ae.m({currentpage:t}))}processChange(){this._store.dispatch(new ae.k(this.selectall))}checkChange(){const t=[];for(const e of this.Data)e.Selected&&t.push(e);this.SelectedItems.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(_.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded",category_types:"category_types"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:9,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[3,"class",4,"ngIf"],[3,"routerLink"],[4,"ngFor","ngForOf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"text-nowrap"],["data-toggle","tooltip","title","Add child category","data-original-title","Add",3,"routerLink"],[1,"fa","fa-plus","text-inverse","m-r-10"],["data-toggle","tooltip","title","Edit category","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"badge","badge-danger"],[1,"badge","badge-success"]],template:function(t,e){1&t&&(r.Dc(0,re,1,0,"app-loader",0),r.ec(1,"async"),r.Dc(2,we,3,2,"div",0),r.ec(3,"async"),r.Qb(4,"div",1),r.Qb(5,"pagination",2),r.bc("OnSelection",(function(t){return e.PaginationChange(t)})),r.ec(6,"async"),r.ec(7,"async"),r.ec(8,"async"),r.Pb(),r.Pb()),2&t&&(r.kc("ngIf",r.fc(1,5,e.loading$)),r.xb(2),r.kc("ngIf",!r.fc(3,7,e.loading$)),r.xb(3),r.kc("currentPage",r.fc(6,9,e.pagination$).currentPage)("totalRecords",r.fc(7,11,e.pagination$).totalRecords)("pageSize",r.fc(8,13,e.pagination$).pageSize))},directives:[s.u,Pt.a,wt.a,o.a,o.q,o.t,s.t,c.i,Ut.a],pipes:[s.b],encapsulation:2,data:{animation:[Object(Ht.k)("fadeIn",[Object(Ht.j)(":enter",[Object(Ht.i)({opacity:"0",background:"#f5fb98"}),Object(Ht.e)("300ms ease-out",Object(Ht.f)([Object(Ht.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Ht.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Ht.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),t})();function Se(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",2),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function ke(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",3),r.Qb(2,"div",4),r.Qb(3,"app-navigation-v2",5),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)}))("SearchSelection",(function(e){return r.uc(t),r.dc().FindRecords(e)})),r.Pb(),r.Pb(),r.Qb(4,"div",6),r.Qb(5,"app-toolbar-v2",7),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)})),r.Pb(),r.Qb(6,"div",8),r.Qb(7,"app-list",9),r.bc("View",(function(e){return r.uc(t),r.dc().toolbaraction(e)}))("SelectedItems",(function(e){return r.uc(t),r.dc().getSelectedItems(e)})),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc();r.xb(3),r.kc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.xb(2),r.kc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.xb(2),r.kc("category_types",t.CategoryTypes)("isActionGranded",t.isActionGranded)}}let _e=(()=>{class t{constructor(t,e,i,s,n,o){this._store=t,this.settingService=e,this.dataService=i,this.router=s,this.permission=n,this.coreService=o,this.filteroptions$=this._store.pipe(Object(f.n)(ce.b)),this.isloaded$=this._store.pipe(Object(f.n)(ce.c)),this.isItemSelected$=this._store.pipe(Object(f.n)(ce.d)),this.records$=this._store.pipe(Object(f.n)(ce.h)),this.pagination$=this._store.pipe(Object(f.n)(ce.f)),this.configs$=this._store.pipe(Object(f.n)(J.a)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Categories",this.subheading="Management",this.isItemsSelected=!1,this.CategoryCaption="",this.Records=0,this.Pagination={},this.Configs={},this.CategoryTypes=[]}ngOnInit(){this.configs$.subscribe(t=>{if(this.Configs=t,void 0!==t.general)for(const e in t.general.category)this.CategoryTypes.push({id:t.general.category[e],title:e})}),this.auth$.subscribe(t=>{const e="1521396255768";this.permission.GrandResourceAccess(!1,e,"1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!0,this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{if(this.FilterOptions=Object.assign({},t),t.track_filter&&(this.dataService.LoadRecords(t),this.FilterOptions.track_filter=!1,this._store.dispatch(new ae.l(this.FilterOptions))),void 0!==this.Configs.general)for(const e in this.Configs.general.category)this.Configs.general.category[e]===t.type&&(this.CategoryCaption=e,this.ToolbarOptions.left_options[0].title="["+e+"]")}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t})}toolbaraction(t){switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value);case"f_type":this._store.dispatch(new ae.d({attr:"type",value:t.value}));break;case"f_status":this._store.dispatch(new ae.d({attr:"isenabled",value:t.value}));break;case"pagesize":this._store.dispatch(new ae.d({attr:"pagesize",value:t.value}))}}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this._store.dispatch(new ae.l(e))}AddRecord(){this.router.navigate(["/settings/categories/process/"])}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.isActionGranded){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}else this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}refreshStats(){this._store.dispatch(new ae.i({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize})),this._store.dispatch(new u.d({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(k.a),r.Kb(_.a),r.Kb(c.f),r.Kb(dt.a),r.Kb(b.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:3,vars:2,consts:[[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"category_types","isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Dc(1,Se,3,0,"div",1),r.Dc(2,ke,8,6,"div",1),r.Pb()),2&t&&(r.xb(1),r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,Ot.a,ye],encapsulation:2,data:{animation:[Yt.a]}}),t})();function Ie(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",1),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function Qe(t,e){1&t&&r.Lb(0,"app-loader")}function xe(t,e){if(1&t){const t=r.Rb();r.Qb(0,"dynamic-modal-form",11),r.bc("OnSubmit",(function(e){return r.uc(t),r.dc(2).SubmitForm(e)}))("OnDropdownSelection",(function(e){return r.uc(t),r.dc(2).OnDropdownSelection(e)}))("FileRemoved",(function(e){return r.uc(t),r.dc(2).FileRemoved(e)})),r.Pb()}if(2&t){const t=r.dc(2);r.kc("controls",t.controls)("showLoader",t.showLoader)("showCancel",!1)("showModal",!1)("submitText",t.submitText)}}function Ae(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Qb(3,"div",4),r.Lb(4,"app-navigation-v2",5),r.Pb(),r.Pb(),r.Qb(5,"div",6),r.Qb(6,"div",4),r.Qb(7,"div",7),r.Qb(8,"h4",8),r.Fc(9),r.Pb(),r.Pb(),r.Qb(10,"div",9),r.Dc(11,Qe,1,0,"app-loader",0),r.Dc(12,xe,1,5,"dynamic-modal-form",10),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc();r.xb(4),r.kc("Options",t.SearchOptions),r.xb(5),r.Gc(t.formHeading),r.xb(2),r.kc("ngIf",t.showLoader),r.xb(1),r.kc("ngIf",!t.showLoader)}}let De=(()=>{class t{constructor(t,e,i,s,n,o,c,a){this._store=t,this.settingService=e,this.dataService=i,this.coreService=s,this.route=n,this.formService=o,this.permission=c,this.router=a,this.CategoryID=0,this.CategoryType=0,this.CategoryList=[],this.controls=[],this.showLoader=!1,this.formHeading="Add Category",this.submitText="Add Category",this.ParentAdd=!1,this.ParentID=0,this.IsLoaded=!1,this.dropdownCategories$=this._store.pipe(Object(f.n)(ce.a)),this.isloaded$=this._store.pipe(Object(f.n)(ce.c)),this.pagination$=this._store.pipe(Object(f.n)(ce.f)),this.configs$=this._store.pipe(Object(f.n)(J.a)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.isloaded$.subscribe(t=>{this.IsLoaded=t,console.log("isload called"),this.IsLoaded||this.router.navigate(["/settings/categories/"])}),this.configs$.subscribe(t=>{this.Configs=t}),this.auth$.subscribe(t=>{const e="1539515099045";this.permission.GrandResourceAccess(!1,e,"1539515144335",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.route.params.subscribe(t=>{this.ParentID=Number.parseInt(t.parentid,10),isNaN(this.ParentID)&&(this.ParentID=0),this.CategoryID=Number.parseInt(t.id,10),isNaN(this.CategoryID)&&(this.CategoryID=0),this.CategoryID>0?(this.formHeading="Update Category",this.submitText="Update",this.LoadInfo(this.CategoryID,!1)):this.ParentID>0?this.LoadInfo(this.ParentID,!0):(this.initializeControls(this.settingService.getInitObject()),this.LoadDropdownCategories(this.CategoryType))}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.dropdownCategories$.subscribe(t=>{this.CategoryList=t,this.CategoryList.length>0?this.LoadDropdownCategories(this.CategoryType):this.dataService.LoadDropdownCategories(this.CategoryType)})}LoadDropdownCategories(t){const e=[];for(const i of this.CategoryList)console.log(i.type),i.type==t&&e.push({value:i.title,key:i.id.toString()});e.unshift({value:"No Parent",key:"0"}),this.PoupulateParentCategories(e)}OnDropdownSelection(t){"type"===t.key&&this.LoadDropdownCategories(t.value)}PoupulateParentCategories(t){for(const e of this.controls)"parentid"===e.key&&(e.options=t,this.ParentID>0&&(e.value=this.ParentID.toString()))}FileRemoved(t){console.log(t)}LoadInfo(t,e){this.showLoader=!0,this.dataService.GetInfo(t).subscribe(t=>{if("success"===t.status){if(e){const e=this.settingService.getInitObject();e.type=t.post.type,e.parentid=t.post.parentid,e.priority=t.post.priority+1,e.isenabled=t.post.isenabled,this.initializeControls(e),this.LoadDropdownCategories(e.type)}else this.initializeControls(t.post),this.ParentID=t.post.parentid,this.LoadDropdownCategories(t.post.type);this.showLoader=!1}else this._store.dispatch(new u.c({title:t.message,text:"",css:"bg-danger"})),this.initializeControls(this.settingService.getInitObject())})}initializeControls(t){this.controls=this.formService.getControls(t,this.Configs.general.media,this.Configs.general.category)}SubmitForm(t){if(null===t.priority&&(t.priority=0),!this.isActionGranded)return void this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}));this.showLoader=!0;let e="Added";this.CategoryID>0&&(t.id=this.CategoryID,e="Updated"),this.dataService.AddRecord(t).subscribe(t=>{"error"===t.status?this._store.dispatch(new u.c({title:t.message,text:"",css:"bg-success"})):(this._store.dispatch(new u.c({title:"Record "+e+" Successfully",text:"",css:"bg-success"})),this._store.dispatch(new ae.j({})),this.router.navigate(["/settings/categories/"])),this.showLoader=!1},t=>{this.showLoader=!1,this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(k.a),r.Kb(_.a),r.Kb(b.a),r.Kb(c.a),r.Kb(x),r.Kb(dt.a),r.Kb(c.f))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit","OnDropdownSelection","FileRemoved",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit","OnDropdownSelection","FileRemoved"]],template:function(t,e){1&t&&(r.Dc(0,Ie,3,0,"div",0),r.Dc(1,Ae,13,4,"div",0)),2&t&&(r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,wt.a,jt.a],encapsulation:2,data:{animation:[Yt.a]}}),t})();var Ce=i("rahX");function Le(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",4),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function Fe(t,e){1&t&&r.Lb(0,"app-loader")}function Re(t,e){if(1&t){const t=r.Rb();r.Qb(0,"a",20),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,n=r.dc(2).$implicit;return r.dc(2).renderNav(n,s,i),!1})),r.Fc(1),r.Pb()}if(2&t){const t=e.$implicit;r.xb(1),r.Gc(t.title)}}function $e(t,e){if(1&t&&(r.Qb(0,"div",18),r.Dc(1,Re,2,1,"a",19),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.kc("ngForOf",t.child_nav)}}function je(t,e){if(1&t&&(r.Qb(0,"li",14),r.Qb(1,"a",15),r.Fc(2),r.Lb(3,"span",16),r.Pb(),r.Dc(4,$e,2,1,"div",17),r.Pb()),2&t){const t=e.$implicit,i=r.dc(2);r.kc("ngClass",i.ConfigType===t.id?"nav-item dropdown active":"nav-item dropdown"),r.xb(2),r.Hc(" ",t.title," "),r.xb(2),r.kc("ngIf",t.child_nav.length>0)}}function Ge(t,e){1&t&&r.Lb(0,"app-loader")}function Te(t,e){if(1&t){const t=r.Rb();r.Qb(0,"dynamic-modal-form",27),r.bc("OnSubmit",(function(e){return r.uc(t),r.dc(3).SubmitForm(e)})),r.Pb()}if(2&t){const t=r.dc(3);r.kc("controls",t.controls)("showCancel",!1)("showModal",!1)("submitText",t.submitText)}}function Me(t,e){if(1&t&&(r.Qb(0,"div",21),r.Qb(1,"div",22),r.Qb(2,"div",23),r.Qb(3,"div",24),r.Qb(4,"h4",25),r.Fc(5),r.Pb(),r.Pb(),r.Dc(6,Ge,1,0,"app-loader",3),r.Dc(7,Te,1,4,"dynamic-modal-form",26),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc(2);r.xb(5),r.Gc(t.formHeading),r.xb(1),r.kc("ngIf",t.showProcessing),r.xb(1),r.kc("ngIf",!t.showProcessing&&t.controls.length>0)}}function Ke(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,Fe,1,0,"app-loader",3),r.ec(2,"async"),r.Qb(3,"div",5),r.Qb(4,"div",6),r.Qb(5,"nav",7),r.Qb(6,"button",8),r.Lb(7,"span",9),r.Pb(),r.Qb(8,"div",10),r.Qb(9,"ul",11),r.Dc(10,je,5,3,"li",12),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Dc(11,Me,8,3,"div",13),r.ec(12,"async"),r.Pb()),2&t){const t=r.dc();r.xb(1),r.kc("ngIf",r.fc(2,3,t.loading$)),r.xb(9),r.kc("ngForOf",t.SearchOptions.navList),r.xb(1),r.kc("ngIf",!r.fc(12,5,t.loading$))}}let Ne=(()=>{class t{constructor(t,e,i,s,n,o,c){this._store=t,this.settingService=e,this.dataService=i,this.coreService=s,this.permission=n,this.route=o,this.formService=c,this.Configurations$=this._store.pipe(Object(f.n)(Ce.a)),this.isloaded$=this._store.pipe(Object(f.n)(Ce.b)),this.loading$=this._store.pipe(Object(f.n)(Ce.c)),this.configs$=this._store.pipe(Object(f.n)(J.a)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.navTabs=[],this.IsLoaded=!1,this.Configs=[],this.Configurations={},this.ConfigType=0,this.ChildConfigType=0,this.controls=[],this.showProcessing=!1,this.formHeading="",this.submitText="Save Changes",this.primay_prop="",this.child_prop="",this.GlobalConfigs={}}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396255768";this.permission.GrandResourceAccess(!1,e,"1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.route.params.subscribe(t=>{this.ConfigType=Number.parseInt(t.type,10),isNaN(this.ConfigType)&&(this.ConfigType=0)}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,this.IsLoaded||this.loadRecords()}),this.Configurations$.subscribe(t=>{this.Configurations=Object.assign({},t),this.InitializeMainNavigation()}),this.configs$.subscribe(t=>{this.GlobalConfigs=t})}loadRecords(){this.dataService.LoadRecords()}InitializeMainNavigation(){let t=[],e=0;for(const i in this.Configurations)t.push({id:e,title:i[0].toUpperCase()+i.slice(1),child_nav:[]}),e++;this.SearchOptions=this.settingService.getSearchOptions(t),this.attachSubNavItems()}attachSubNavItems(){for(const t of this.SearchOptions.navList)for(const e in this.Configurations)if(e===t.title.toLowerCase()){let i=0;for(const s in this.Configurations[e])t.child_nav.push({id:i,title:s[0].toUpperCase()+s.slice(1),parent_attr:e,child_attr:s}),i++}this.Initialize()}Initialize(){if(this.SearchOptions.navList.length>0){const t=this.SearchOptions.navList[0];t.child_nav.length>0&&this.renderForm(t.child_nav[0].parent_attr,t.child_nav[0].child_attr)}}renderNav(t,e,i){this.ConfigType=t.id,this.ChildConfigType=e.id,this.renderForm(e.parent_attr,e.child_attr),i.stopPropagation()}renderForm(t,e){this.formHeading=e[0].toUpperCase()+e.slice(1)+" Settings",this.primay_prop=t,this.child_prop=e;const i=Object.assign({},this.Configurations[t][e]);this.controls=this.formService.getControls(i,t,e,!1)}SubmitForm(t){if(!this.isActionGranded)return void this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}));let e=Object.assign({},this.Configurations[this.primay_prop][this.child_prop]);for(const i in e)for(const s in t)s===i&&(e[i]=t[s]);this.showProcessing=!0,this.dataService.UpdateConfigurations(e,this.primay_prop,this.child_prop).subscribe(t=>{this._store.dispatch(new u.c("error"===t.status?{title:t.message,text:"",css:"bg-danger"}:{title:"Settings updated successfully",text:"",css:"bg-success"})),this.showProcessing=!1},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"})),this.showProcessing=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(D.a),r.Kb(C.a),r.Kb(b.a),r.Kb(dt.a),r.Kb(c.a),r.Kb(L.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row","m-b-10"],[1,"col-md-12"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["type","button","data-toggle","collapse","data-target","#configurationSettings","aria-controls","configurationSettings","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","configurationSettings",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[3,"ngClass",4,"ngFor","ngForOf"],["class","row justify-content-md-center",4,"ngIf"],[3,"ngClass"],["data-toggle","dropdown","href","#",1,"nav-link","dropdown-toggle"],[1,"caret"],["class","dropdown-menu",4,"ngIf"],[1,"dropdown-menu"],["class","dropdown-item","href","#",3,"click",4,"ngFor","ngForOf"],["href","#",1,"dropdown-item",3,"click"],[1,"row","justify-content-md-center"],[1,"col-md-8","col-sm-10","col-xs-12"],[1,"card-body","card-outline-inverse"],[1,"card-header"],[1,"m-b-0"],[3,"controls","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Dc(3,Le,3,0,"div",3),r.Dc(4,Ke,13,7,"div",3),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.xb(3),r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,s.t,wt.a,s.r,jt.a],pipes:[s.b],encapsulation:2}),t})();var Ee=i("XLPV"),ze=i("/4iV");let Be=(()=>{class t{constructor(t,e,i,s){this._store=t,this.activeModal=e,this.service=i,this.dataService=s,this.ViewType=1,this.showLoader=!1,this.list=[]}ngOnInit(){this.title=this.Info.title,this.ViewType=this.Info.viewtype,this.controls=1===this.Info.viewtype?this.service.getRoleControls(this.Info.data):this.service.getObjectControls(this.Info.data),console.log(this.controls)}SubmitForm(t){void 0===this.Info.isActionGranded||this.Info.isActionGranded?(t.id=this.Info.data.id,t.uniqueid=0===t.id?(new Date).valueOf():"",this.activeModal.close({data:t,viewtype:this.Info.viewtype})):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(n.a),r.Kb(K),r.Kb(M.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[r.wb([K,M.a])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"h4",1),r.Fc(2),r.Pb(),r.Qb(3,"button",2),r.bc("click",(function(){return e.activeModal.dismiss("Cross click")})),r.Qb(4,"span",3),r.Fc(5,"\xd7"),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"dynamic-modal-form",4),r.bc("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),r.Pb()),2&t&&(r.xb(2),r.Gc(e.title),r.xb(4),r.kc("controls",e.controls)("showLoader",e.showLoader))},directives:[jt.a],encapsulation:2}),t})();function Ve(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",1),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}const Ye=function(t){return{active:t}};function He(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",11),r.Qb(1,"a",12),r.bc("click",(function(i){r.uc(t);const s=e.$implicit;return r.dc(2).filterCategories(s,i),!1})),r.Fc(2),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,i=r.dc(2);r.kc("ngClass",r.oc(3,Ye,i.RoleType==t.value)),r.xb(1),r.lc("title",t.title),r.xb(1),r.Hc(" ",t.title," ")}}function Ue(t,e){1&t&&r.Lb(0,"app-loader")}function qe(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr",24),r.Qb(1,"td"),r.Qb(2,"h4"),r.Fc(3),r.Pb(),r.Pb(),r.Qb(4,"td",25),r.Qb(5,"a",26),r.bc("click",(function(i){r.uc(t);const s=e.$implicit;return r.dc(5).editRole(s,i),!1})),r.Lb(6,"i",27),r.Pb(),r.Qb(7,"a",28),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,n=e.index;return r.dc(5).delete(s,n,i),!1})),r.Lb(8,"i",29),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.kc("hidden",t.isdeleted),r.xb(3),r.Gc(t.rolename)}}function Je(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",19),r.Qb(2,"table",20),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th",21),r.Fc(6," Name "),r.Pb(),r.Qb(7,"th",22),r.Fc(8," Action "),r.Pb(),r.Pb(),r.Pb(),r.Qb(9,"tbody"),r.Dc(10,qe,9,2,"tr",23),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc(4);r.xb(10),r.kc("ngForOf",t.RoleList)}}function Xe(t,e){1&t&&r.Lb(0,"app-norecord")}function We(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",16),r.Qb(2,"button",17),r.bc("click",(function(){return r.uc(t),r.dc(3).addRole()})),r.Lb(3,"i",18),r.Fc(4," Add Role "),r.Pb(),r.Pb(),r.Dc(5,Je,11,1,"div",0),r.Dc(6,Xe,1,0,"app-norecord",0),r.Pb()}if(2&t){const t=r.dc(3);r.xb(5),r.kc("ngIf",t.RoleList.length>0),r.xb(1),r.kc("ngIf",0===t.RoleList.length)}}function Ze(t,e){if(1&t&&(r.Qb(0,"div",4),r.Qb(1,"div",13),r.Qb(2,"h4",14),r.Fc(3),r.Pb(),r.Pb(),r.Qb(4,"div",15),r.Dc(5,Ue,1,0,"app-loader",0),r.Dc(6,We,7,2,"div",0),r.Pb(),r.Pb()),2&t){const t=r.dc(2);r.xb(3),r.Gc(t.formHeading),r.xb(2),r.kc("ngIf",t.showLoader),r.xb(1),r.kc("ngIf",!t.showLoader)}}function ti(t,e){1&t&&r.Lb(0,"app-loader")}function ei(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr",24),r.Qb(1,"td"),r.Qb(2,"h4"),r.Fc(3),r.Pb(),r.Lb(4,"div",30),r.Pb(),r.Qb(5,"td"),r.Fc(6),r.Pb(),r.Qb(7,"td",25),r.Qb(8,"a",26),r.bc("click",(function(i){r.uc(t);const s=e.$implicit;return r.dc(5).editObject(s,i),!1})),r.Lb(9,"i",27),r.Pb(),r.Qb(10,"a",28),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,n=e.index;return r.dc(5).deleteObject(s,n,i),!1})),r.Lb(11,"i",29),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.kc("hidden",t.isdeleted),r.xb(3),r.Gc(t.objectname),r.xb(1),r.kc("innerHTML",t.description,r.vc),r.xb(2),r.Hc(" ",t.uniqueid," ")}}function ii(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",19),r.Qb(2,"table",20),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th",25),r.Fc(6," Name "),r.Pb(),r.Qb(7,"th",25),r.Fc(8," Key "),r.Pb(),r.Qb(9,"th",25),r.Fc(10," Action "),r.Pb(),r.Pb(),r.Pb(),r.Qb(11,"tbody"),r.Dc(12,ei,12,4,"tr",23),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc(4);r.xb(12),r.kc("ngForOf",t.ObjectList)}}function si(t,e){1&t&&r.Lb(0,"app-norecord")}function ni(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",16),r.Qb(2,"button",17),r.bc("click",(function(){return r.uc(t),r.dc(3).addObject()})),r.Lb(3,"i",18),r.Fc(4," Add Object "),r.Pb(),r.Pb(),r.Dc(5,ii,13,1,"div",0),r.Dc(6,si,1,0,"app-norecord",0),r.Pb()}if(2&t){const t=r.dc(3);r.xb(5),r.kc("ngIf",t.ObjectList.length>0),r.xb(1),r.kc("ngIf",0===t.ObjectList.length)}}function oi(t,e){if(1&t&&(r.Qb(0,"div",4),r.Qb(1,"div",13),r.Qb(2,"h4",14),r.Fc(3),r.Pb(),r.Pb(),r.Qb(4,"div",15),r.Dc(5,ti,1,0,"app-loader",0),r.Dc(6,ni,7,2,"div",0),r.Pb(),r.Pb()),2&t){const t=r.dc(2);r.xb(3),r.Gc(t.formHeading),r.xb(2),r.kc("ngIf",t.showLoader),r.xb(1),r.kc("ngIf",!t.showLoader)}}function ci(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Qb(3,"div",4),r.Qb(4,"div",5),r.Qb(5,"ul",6),r.Dc(6,He,3,5,"li",7),r.Pb(),r.Pb(),r.Pb(),r.Qb(7,"div",4),r.Lb(8,"app-navigation-v2",8),r.Pb(),r.Pb(),r.Qb(9,"div",9),r.Dc(10,Ze,7,3,"div",10),r.Dc(11,oi,7,3,"div",10),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc();r.xb(6),r.kc("ngForOf",t.RoleTypes),r.xb(2),r.kc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.xb(2),r.kc("ngIf",1==t.RoleType),r.xb(1),r.kc("ngIf",2==t.RoleType)}}let ai=(()=>{class t{constructor(t,e,i,s,n,o,c,a,r){this._store=t,this.settingService=e,this.dataService=i,this.coreService=s,this.route=n,this.formService=o,this.permission=c,this.router=a,this.modalService=r,this.controls=[],this.showLoader=!1,this.formHeading="Manage Roles",this.RoleTypes=ze.b.ROLE_TYPES,this.RoleList=[],this.ObjectList=[],this.RoleType=1,this.IsRoleLoaded=!1,this.isObjectLoaded=!1,this.roles$=this._store.pipe(Object(f.n)(Ee.d)),this.objects$=this._store.pipe(Object(f.n)(Ee.c)),this.isroleloaded$=this._store.pipe(Object(f.n)(Ee.b)),this.isobjectloaded$=this._store.pipe(Object(f.n)(Ee.a)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396255768";this.permission.GrandResourceAccess(!1,e,"1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[],this.roles$.subscribe(t=>{this.RoleList=t.map(t=>Object.assign({},t))}),this.objects$.subscribe(t=>{this.ObjectList=t.map(t=>Object.assign({},t))}),this.isroleloaded$.subscribe(t=>{this.IsRoleLoaded=t,this.IsRoleLoaded||this.dataService.LoadRoles()}),this.isobjectloaded$.subscribe(t=>{this.isObjectLoaded=t,this.isObjectLoaded||this.dataService.LoadObjects()})}filterCategories(t,e){this.RoleType=t.value,console.log("obj value "+t.value),this.formHeading=1===this.RoleType?"Manage Roles":"Manage Role Objects",e.stopPropagation()}editObject(t,e){this.isActionGranded?(this._triggleModal(t,2,"Update Role Object"),e.stopPropagation()):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}editRole(t,e){this.router.navigate(["/settings/roles/process/"+t.id]),e.stopPropagation()}addRole(){this.isActionGranded?this._triggleModal(this.settingService.getInitRoleObject(),1,"Add Role"):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}addObject(){this.isActionGranded?this._triggleModal(this.settingService.getInitRoleObjectObject(),2,"Add Role Object"):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}_triggleModal(t,e,i){const s=this.modalService.open(Be,{backdrop:!1});s.componentInstance.Info={title:i,viewtype:e,data:t},s.result.then(t=>{if(console.log(t),1===t.viewtype)this.dataService.AddRole(t.data);else if(this.dataService.AddObject(t.data),t.data.id>0)for(const e of this.ObjectList)e.id===t.data.id&&(e.objectname=t.data.objectname,e.description=t.data.description)},t=>{console.log("dismissed")})}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e,this.settingService.getApiOptions().delete_role,1):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}deleteObject(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e,this.settingService.getApiOptions().delete_object,2):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(T.a),r.Kb(M.a),r.Kb(b.a),r.Kb(c.a),r.Kb(K),r.Kb(dt.a),r.Kb(c.f),r.Kb(n.b))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[1,"card-body","inbox-panel"],[1,"list-group","list-group-full"],["class","list-group-item",3,"ngClass",4,"ngFor","ngForOf"],[3,"FilterOptions","Options"],[1,"col-md-9"],["class","card",4,"ngIf"],[1,"list-group-item",3,"ngClass"],["href","#",3,"title","click"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[1,"m-b-10","m-t-10"],["type","button",1,"btn","btn-dark","m-r-5",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"text-nowrap",2,"width","90%"],[1,"text-nowrap",2,"width","10%"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"],[1,"text-nowrap"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.Dc(0,Ve,3,0,"div",0),r.Dc(1,ci,12,5,"div",0)),2&t&&(r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,s.t,vt.a,s.r,wt.a,Ut.a],encapsulation:2,data:{animation:[Yt.a]}}),t})();function ri(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",1),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function di(t,e){1&t&&r.Lb(0,"app-loader")}function li(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr"),r.Qb(1,"td",12),r.Qb(2,"div",13),r.Qb(3,"input",21),r.bc("ngModelChange",(function(i){return r.uc(t),e.$implicit.Selected=i})),r.Pb(),r.Lb(4,"label",22),r.Pb(),r.Pb(),r.Qb(5,"td"),r.Fc(6),r.Pb(),r.Qb(7,"td",23),r.Fc(8),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,i=e.index;r.xb(3),r.lc("id",i),r.kc("ngModel",t.Selected),r.xb(1),r.lc("for",i),r.xb(2),r.Hc(" ",t.objectname," "),r.xb(2),r.Hc(" ",t.description," ")}}function bi(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",10),r.Qb(2,"table",11),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th",12),r.Qb(6,"div",13),r.Qb(7,"input",14),r.bc("ngModelChange",(function(e){return r.uc(t),r.dc(3).selectall=e}))("ngModelChange",(function(){return r.uc(t),r.dc(3).processChange()})),r.Pb(),r.Lb(8,"label",15),r.Pb(),r.Pb(),r.Qb(9,"th",16),r.Fc(10," Permission "),r.Pb(),r.Qb(11,"th",17),r.Fc(12," Detail "),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"tbody"),r.Dc(14,li,9,5,"tr",18),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"div",19),r.Qb(16,"button",20),r.bc("click",(function(){return r.uc(t),r.dc(3).updatePermission()})),r.Fc(17," Update Permission "),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc(3);r.xb(7),r.kc("ngModel",t.selectall),r.xb(7),r.kc("ngForOf",t.ObjectList)}}function hi(t,e){1&t&&r.Lb(0,"app-norecord")}function pi(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"h2"),r.Fc(2),r.Pb(),r.Lb(3,"hr"),r.Qb(4,"h3"),r.Fc(5,"Permission List"),r.Pb(),r.Dc(6,bi,18,2,"div",0),r.Dc(7,hi,1,0,"app-norecord",0),r.Pb()),2&t){const t=r.dc(2);r.xb(2),r.Hc("Role: ",t.Info.rolename,""),r.xb(4),r.kc("ngIf",t.ObjectList.length>0),r.xb(1),r.kc("ngIf",0===t.ObjectList.length)}}function gi(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Qb(3,"div",4),r.Lb(4,"app-navigation-v2",5),r.Pb(),r.Pb(),r.Qb(5,"div",6),r.Qb(6,"div",4),r.Qb(7,"div",7),r.Qb(8,"h4",8),r.Fc(9),r.Pb(),r.Pb(),r.Qb(10,"div",9),r.Dc(11,di,1,0,"app-loader",0),r.Dc(12,pi,8,3,"div",0),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc();r.xb(4),r.kc("Options",t.SearchOptions),r.xb(5),r.Gc(t.formHeading),r.xb(2),r.kc("ngIf",t.showLoader),r.xb(1),r.kc("ngIf",!t.showLoader&&t.Info)}}let ui=(()=>{class t{constructor(t,e,i,s,n,o,c,a){this._store=t,this.settingService=e,this.dataService=i,this.coreService=s,this.route=n,this.permission=o,this.formService=c,this.router=a,this.RecordID=0,this.showLoader=!1,this.formHeading="Add Role",this.submitText="Add Role",this.ObjectList=[],this.selectall=!1,this.objects$=this._store.pipe(Object(f.n)(Ee.c)),this.isroleloaded$=this._store.pipe(Object(f.n)(Ee.b)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{const e="1539516299310";this.permission.GrandResourceAccess(!1,e,"1539516260338",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.isroleloaded$.subscribe(t=>{t||this.router.navigate(["/settings/roles/"])}),this.objects$.subscribe(t=>{this.ObjectList=t}),this.route.params.subscribe(t=>{this.RecordID=Number.parseInt(t.id,10),this.RecordID>0?(this.formHeading="Update Role Permissions",this.submitText="Update Role",this.LoadInfo()):this.router.navigate(["/settings/roles/"])}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[]}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe(t=>{this.Info=t.posts,this.showLoader=!1;for(const e of this.ObjectList)e.Selected=!1;for(const e of this.ObjectList)for(const t of this.Info.permissions)t.objectid===e.id&&(e.Selected=!0)})}processChange(){for(const t of this.ObjectList)t.Selected=this.selectall}checkChange(){for(const t of this.ObjectList);}updatePermission(){if(!this.isActionGranded)return void this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}));const t=[];for(const e of this.ObjectList)e.Selected&&t.push({roleid:this.Info.id,objectid:e.id});console.log(t),this.showLoader=!0,this.dataService.UpdatePermission(t).subscribe(t=>{"error"===t.status?this._store.dispatch(new u.c({title:t.message,text:"",css:"bg-danger"})):(this._store.dispatch(new u.c({title:"Permission Updated Successfully",text:"",css:"bg-success"})),this.router.navigate(["/settings/roles/"])),this.showLoader=!1},t=>{this.showLoader=!1,this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(T.a),r.Kb(M.a),r.Kb(b.a),r.Kb(c.a),r.Kb(dt.a),r.Kb(K),r.Kb(c.f))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[2,"width","5%"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"text-nowrap",2,"width","45%"],[1,"text-nowrap",2,"width","50%"],[4,"ngFor","ngForOf"],[1,"m-b-5","m-t-5"],[1,"btn","btn-primary",3,"click"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[1,"text-nowrap"]],template:function(t,e){1&t&&(r.Dc(0,ri,3,0,"div",0),r.Dc(1,gi,13,4,"div",0)),2&t&&(r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,wt.a,o.a,o.q,o.t,s.t,Ut.a],encapsulation:2}),t})(),fi=(()=>{class t{getControls(t){const e=[];return e.push(new Q.i({key:"value",label:"Value",value:t.value,required:!0,minLength:5,maxLength:40,order:1})),e.push(new Q.b({key:"type",label:"Type",value:t.type.toString(),required:!0,options:[{key:"0",value:"Screening Worlds"},{key:"1",value:"Restricted Usernams"}],order:2})),e.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),mi=(()=>{class t{constructor(t,e,i,s){this._store=t,this.activeModal=e,this.service=i,this.dataService=s,this.showLoader=!1,this.list=[]}ngOnInit(){this.title=this.Info.title,this.controls=this.service.getControls(this.Info.data),console.log(this.controls)}SubmitForm(t){void 0===this.Info.isActionGranded||this.Info.isActionGranded?(this.showLoader=!0,this.dataService.AddRecord(t).subscribe(t=>{this.showLoader=!1,"success"===t.status?(this._store.dispatch(new u.c({title:"Record added successfully",text:"",css:"bg-success"})),this.activeModal.close({data:t.record})):this._store.dispatch(new u.c({title:t.message,text:"",css:"bg-danger"}))},t=>{this.showLoader=!1,this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(n.a),r.Kb(fi),r.Kb(j))},t.\u0275cmp=r.Eb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[r.wb([fi,j])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"h4",1),r.Fc(2),r.Pb(),r.Qb(3,"button",2),r.bc("click",(function(){return e.activeModal.dismiss("Cross click")})),r.Qb(4,"span",3),r.Fc(5,"\xd7"),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"dynamic-modal-form",4),r.bc("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),r.Pb()),2&t&&(r.xb(2),r.Gc(e.title),r.xb(4),r.kc("controls",e.controls)("showLoader",e.showLoader))},directives:[jt.a],encapsulation:2}),t})();const vi=t=>t.dictionary.posts,Oi=t=>t.dictionary.records,Pi=t=>t.dictionary.loading,wi=t=>t.dictionary.isloaded,yi=t=>t.dictionary.pagination,Si=t=>t.dictionary.filteroptions,ki=t=>t.dictionary.selectall,_i=t=>t.dictionary.itemsselected;function Ii(t,e){1&t&&r.Lb(0,"app-loader")}function Qi(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",20),r.Qb(2,"div",21),r.Qb(3,"div"),r.Qb(4,"input",22),r.bc("ngModelChange",(function(e){return r.uc(t),r.dc().$implicit.value=e})),r.Pb(),r.Pb(),r.Qb(5,"div",23),r.Qb(6,"button",24),r.bc("click",(function(){r.uc(t);const e=r.dc().$implicit;return r.dc(3)._UpdateRecord(e)})),r.Fc(7," Save "),r.Pb(),r.Qb(8,"button",25),r.bc("click",(function(e){r.uc(t);const i=r.dc().$implicit;return r.dc(3).toggleEditView(i,e)})),r.Fc(9," Cancel "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc().$implicit;r.xb(4),r.kc("ngModel",t.value)}}function xi(t,e){if(1&t&&(r.Qb(0,"div"),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.Hc(" ",t.value," ")}}function Ai(t,e){1&t&&(r.Qb(0,"span",26),r.Fc(1,"Screening Word"),r.Pb())}function Di(t,e){1&t&&(r.Qb(0,"span",27),r.Fc(1,"Restricted UserName"),r.Pb())}function Ci(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr",10),r.Qb(1,"td",11),r.Qb(2,"div",5),r.Qb(3,"input",12),r.bc("ngModelChange",(function(i){return r.uc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return r.uc(t),r.dc(3).checkChange()})),r.Pb(),r.Lb(4,"label",13),r.Pb(),r.Pb(),r.Qb(5,"td"),r.Dc(6,Qi,10,1,"div",0),r.Dc(7,xi,2,1,"div",0),r.Pb(),r.Qb(8,"td"),r.Dc(9,Ai,2,0,"span",14),r.Dc(10,Di,2,0,"span",15),r.Pb(),r.Qb(11,"td",8),r.Qb(12,"a",16),r.bc("click",(function(i){r.uc(t);const s=e.$implicit;return r.dc(3).toggleEditView(s,i),!1})),r.Lb(13,"i",17),r.Pb(),r.Qb(14,"a",18),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,n=e.index;return r.dc(3).delete(s,n,i),!1})),r.Lb(15,"i",19),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.kc("@fadeIn",void 0)("hidden",t.isdeleted),r.xb(3),r.lc("id",t.id),r.kc("ngModel",t.Selected),r.xb(1),r.lc("for",t.id),r.xb(2),r.kc("ngIf",t.editview),r.xb(1),r.kc("ngIf",!t.editview),r.xb(2),r.kc("ngIf",0==t.type),r.xb(1),r.kc("ngIf",1==t.type)}}function Li(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",3),r.Qb(2,"table",4),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th"),r.Qb(6,"div",5),r.Qb(7,"input",6),r.bc("ngModelChange",(function(e){return r.uc(t),r.dc(2).selectall=e}))("ngModelChange",(function(){return r.uc(t),r.dc(2).processChange()})),r.Pb(),r.Lb(8,"label",7),r.Pb(),r.Pb(),r.Qb(9,"th"),r.Fc(10," Value "),r.Pb(),r.Qb(11,"th"),r.Fc(12," Type "),r.Pb(),r.Qb(13,"th",8),r.Fc(14," Action "),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"tbody"),r.Dc(16,Ci,16,9,"tr",9),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc(2);r.xb(7),r.kc("ngModel",t.selectall),r.xb(9),r.kc("ngForOf",t.Data)("ngForTrackBy",t.getKey)}}function Fi(t,e){1&t&&r.Lb(0,"app-norecord")}function Ri(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,Li,17,3,"div",0),r.Dc(2,Fi,1,0,"app-norecord",0),r.Pb()),2&t){const t=r.dc();r.xb(1),r.kc("ngIf",t.Data.length>0),r.xb(1),r.kc("ngIf",0===t.Data.length)}}let $i=(()=>{class t{constructor(t,e){this._store=t,this.dataService=e,this.Data$=this._store.pipe(Object(f.n)(vi)),this.loading$=this._store.pipe(Object(f.n)(Pi)),this.pagination$=this._store.pipe(Object(f.n)(yi)),this.selectAll$=this._store.pipe(Object(f.n)(ki)),this.isActionGranded=!1,this.View=new r.n,this.SelectedItems=new r.n,this.selectall=!1,this.Data=[]}ngOnInit(){this.Data$.subscribe(t=>{this.Data=t.map(t=>Object.assign({},t))}),this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}viewRecord(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}getKey(t,e){return e.id}PaginationChange(t){this._store.dispatch(new $.e({attr:"pagenumber",value:t})),this._store.dispatch(new $.l({currentpage:t}))}toggleEditView(t,e){t.editview=!t.editview,e.stopPropagation()}_UpdateRecord(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}processChange(){this._store.dispatch(new $.j(this.selectall))}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}checkChange(){const t=[];for(const e of this.Data)e.Selected&&t.push(e);this.SelectedItems.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(j))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:9,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"card"],[1,"card-body"],["type","text","placeholder","Update Value",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"badge","badge-danger"],[1,"badge","badge-warning"]],template:function(t,e){1&t&&(r.Dc(0,Ii,1,0,"app-loader",0),r.ec(1,"async"),r.Dc(2,Ri,3,2,"div",0),r.ec(3,"async"),r.Qb(4,"div",1),r.Qb(5,"pagination",2),r.bc("OnSelection",(function(t){return e.PaginationChange(t)})),r.ec(6,"async"),r.ec(7,"async"),r.ec(8,"async"),r.Pb(),r.Pb()),2&t&&(r.kc("ngIf",r.fc(1,5,e.loading$)),r.xb(2),r.kc("ngIf",!r.fc(3,7,e.loading$)),r.xb(3),r.kc("currentPage",r.fc(6,9,e.pagination$).currentPage)("totalRecords",r.fc(7,11,e.pagination$).totalRecords)("pageSize",r.fc(8,13,e.pagination$).pageSize))},directives:[s.u,Pt.a,wt.a,o.a,o.q,o.t,s.t,o.c,Ut.a],pipes:[s.b],encapsulation:2,data:{animation:[Object(Ht.k)("fadeIn",[Object(Ht.j)(":enter",[Object(Ht.i)({opacity:"0",background:"#f5fb98"}),Object(Ht.e)("300ms ease-out",Object(Ht.f)([Object(Ht.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Ht.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Ht.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),t})();function ji(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",4),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function Gi(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",0),r.Qb(2,"div",5),r.Qb(3,"app-navigation-v2",6),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)}))("SearchSelection",(function(e){return r.uc(t),r.dc().FindRecords(e)})),r.Pb(),r.Pb(),r.Qb(4,"div",7),r.Qb(5,"app-toolbar-v2",8),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)})),r.Pb(),r.Qb(6,"div",9),r.Qb(7,"app-list",10),r.bc("View",(function(e){return r.uc(t),r.dc().toolbaraction(e)}))("SelectedItems",(function(e){return r.uc(t),r.dc().getSelectedItems(e)})),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc();r.xb(3),r.kc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.xb(2),r.kc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.xb(2),r.kc("isActionGranded",t.isActionGranded)}}let Ti=(()=>{class t{constructor(t,e,i,s,n,o){this._store=t,this.settingService=e,this.dataService=i,this.modalService=s,this.coreService=n,this.permission=o,this.filteroptions$=this._store.pipe(Object(f.n)(Si)),this.isloaded$=this._store.pipe(Object(f.n)(wi)),this.isItemSelected$=this._store.pipe(Object(f.n)(_i)),this.records$=this._store.pipe(Object(f.n)(Oi)),this.pagination$=this._store.pipe(Object(f.n)(yi)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Dictionary",this.subheading="Management",this.isItemsSelected=!1,this.Records=0,this.Pagination={}}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396255768";this.permission.GrandResourceAccess(!1,e,"1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{this.FilterOptions=Object.assign({},t),t.track_filter&&(this.dataService.LoadRecords(t),this.FilterOptions.track_filter=!1,this._store.dispatch(new $.k(this.FilterOptions)))}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t})}toolbaraction(t){if(this.isActionGranded)switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value)}else this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this._store.dispatch(new $.k(e))}AddRecord(){const t=this.modalService.open(mi,{backdrop:!1});t.componentInstance.Info={title:"Add new Value",data:this.settingService.getInitObject()},t.result.then(t=>{this._store.dispatch(new $.c(t.data))},t=>{console.log("dismissed")})}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}refreshStats(){this._store.dispatch(new $.i({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize})),this._store.dispatch(new u.d({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(R),r.Kb(j),r.Kb(n.b),r.Kb(b.a),r.Kb(dt.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Dc(3,ji,3,0,"div",3),r.Dc(4,Gi,8,5,"div",3),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.xb(3),r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,Ot.a,$i],encapsulation:2,data:{animation:[Yt.a]}}),t})();const Mi=t=>t.language.posts,Ki=t=>t.language.records,Ni=t=>t.language.loading,Ei=t=>t.language.isloaded,zi=t=>t.language.pagination,Bi=t=>t.language.filteroptions,Vi=t=>t.language.selectall,Yi=t=>t.language.itemsselected;function Hi(t,e){1&t&&r.Lb(0,"app-loader")}function Ui(t,e){1&t&&(r.Qb(0,"span"),r.Fc(1,"On"),r.Pb())}function qi(t,e){1&t&&(r.Qb(0,"span"),r.Fc(1,"Off"),r.Pb())}function Ji(t,e){1&t&&(r.Qb(0,"span"),r.Fc(1,"On"),r.Pb())}function Xi(t,e){1&t&&(r.Qb(0,"span"),r.Fc(1,"Off"),r.Pb())}function Wi(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr",7),r.Qb(1,"td"),r.Fc(2),r.Pb(),r.Qb(3,"td"),r.Fc(4),r.Pb(),r.Qb(5,"td"),r.Qb(6,"button",8),r.bc("click",(function(){r.uc(t);const i=e.$implicit;return r.dc(3).triggleAction(i,"default")})),r.Dc(7,Ui,2,0,"span",0),r.Dc(8,qi,2,0,"span",0),r.Pb(),r.Pb(),r.Qb(9,"td"),r.Qb(10,"button",8),r.bc("click",(function(){r.uc(t);const i=e.$implicit;return r.dc(3).triggleAction(i,"selected")})),r.Dc(11,Ji,2,0,"span",0),r.Dc(12,Xi,2,0,"span",0),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.kc("@fadeIn",void 0)("hidden",t.isdeleted),r.xb(2),r.Hc(" ",t.culturename," "),r.xb(2),r.Hc(" ",t.region," "),r.xb(2),r.kc("ngClass",1===t.isdefault?"btn-success":"btn-danger"),r.xb(1),r.kc("ngIf",1===t.isdefault),r.xb(1),r.kc("ngIf",0===t.isdefault),r.xb(2),r.kc("ngClass",1===t.isselected?"btn-success":"btn-danger"),r.xb(1),r.kc("ngIf",1===t.isselected),r.xb(1),r.kc("ngIf",0===t.isselected)}}function Zi(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",3),r.Qb(2,"table",4),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th"),r.Fc(6," Culture "),r.Pb(),r.Qb(7,"th"),r.Fc(8," Region "),r.Pb(),r.Qb(9,"th",5),r.Fc(10," Default "),r.Pb(),r.Qb(11,"th",5),r.Fc(12," Selected "),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"tbody"),r.Dc(14,Wi,13,10,"tr",6),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc(2);r.xb(14),r.kc("ngForOf",t.Data)("ngForTrackBy",t.getKey)}}function ts(t,e){1&t&&r.Lb(0,"app-norecord")}function es(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,Zi,15,2,"div",0),r.Dc(2,ts,1,0,"app-norecord",0),r.Pb()),2&t){const t=r.dc();r.xb(1),r.kc("ngIf",t.Data.length>0),r.xb(1),r.kc("ngIf",0===t.Data.length)}}let is=(()=>{class t{constructor(t,e){this._store=t,this.dataService=e,this.isActionGranded=!1,this.Data$=this._store.pipe(Object(f.n)(Mi)),this.loading$=this._store.pipe(Object(f.n)(Ni)),this.pagination$=this._store.pipe(Object(f.n)(zi)),this.selectAll$=this._store.pipe(Object(f.n)(Vi)),this.View=new r.n,this.SelectedItems=new r.n,this.selectall=!1,this.Data=[]}ngOnInit(){this.Data$.subscribe(t=>{this.Data=t.map(t=>Object.assign({},t))}),this.selectAll$.subscribe(t=>{this.selectall=t})}triggleAction(t,e){this.View.emit({action:e,value:t})}getKey(t,e){return e.id}PaginationChange(t){this._store.dispatch(new z.d({attr:"pagenumber",value:t})),this._store.dispatch(new z.j({currentpage:t}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(B))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:9,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[1,"btn",3,"ngClass","click"]],template:function(t,e){1&t&&(r.Dc(0,Hi,1,0,"app-loader",0),r.ec(1,"async"),r.Dc(2,es,3,2,"div",0),r.ec(3,"async"),r.Qb(4,"div",1),r.Qb(5,"pagination",2),r.bc("OnSelection",(function(t){return e.PaginationChange(t)})),r.ec(6,"async"),r.ec(7,"async"),r.ec(8,"async"),r.Pb(),r.Pb()),2&t&&(r.kc("ngIf",r.fc(1,5,e.loading$)),r.xb(2),r.kc("ngIf",!r.fc(3,7,e.loading$)),r.xb(3),r.kc("currentPage",r.fc(6,9,e.pagination$).currentPage)("totalRecords",r.fc(7,11,e.pagination$).totalRecords)("pageSize",r.fc(8,13,e.pagination$).pageSize))},directives:[s.u,Pt.a,wt.a,s.t,s.r,Ut.a],pipes:[s.b],encapsulation:2,data:{animation:[Object(Ht.k)("fadeIn",[Object(Ht.j)(":enter",[Object(Ht.i)({opacity:"0",background:"#f5fb98"}),Object(Ht.e)("300ms ease-out",Object(Ht.f)([Object(Ht.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Ht.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Ht.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),t})();function ss(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",4),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function ns(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",0),r.Qb(2,"div",5),r.Qb(3,"app-navigation-v2",6),r.bc("SearchSelection",(function(e){return r.uc(t),r.dc().FindRecords(e)})),r.Pb(),r.Pb(),r.Qb(4,"div",7),r.Lb(5,"app-toolbar-v2",8),r.Qb(6,"div",9),r.Qb(7,"app-list",10),r.bc("View",(function(e){return r.uc(t),r.dc().ProcessActions(e)})),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc();r.xb(3),r.kc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.xb(2),r.kc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.xb(2),r.kc("isActionGranded",t.isActionGranded)}}let os=(()=>{class t{constructor(t,e,i,s){this._store=t,this.settingService=e,this.dataService=i,this.permission=s,this.filteroptions$=this._store.pipe(Object(f.n)(Bi)),this.isloaded$=this._store.pipe(Object(f.n)(Ei)),this.isItemSelected$=this._store.pipe(Object(f.n)(Yi)),this.records$=this._store.pipe(Object(f.n)(Ki)),this.pagination$=this._store.pipe(Object(f.n)(zi)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1,this.Records=0,this.Pagination={}}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396255768";this.permission.GrandResourceAccess(!1,e,"1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{this.FilterOptions=Object.assign({},t),t.track_filter&&(this.dataService.LoadRecords(t),this.FilterOptions.track_filter=!1,this._store.dispatch(new z.i(this.FilterOptions)))}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)})}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this._store.dispatch(new z.i(e))}ProcessActions(t){if(!this.isActionGranded)return void this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}));t.value.actionstatus=t.action;const e=[];e.push(t.value),this.dataService.ProcessActions(e,t)}refreshStats(){this._store.dispatch(new z.h({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize})),this._store.dispatch(new u.d({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(E),r.Kb(B),r.Kb(dt.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected"],[1,"card-body"],[3,"isActionGranded","View"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Dc(3,ss,3,0,"div",3),r.Dc(4,ns,8,5,"div",3),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.xb(3),r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,Ot.a,is],encapsulation:2,data:{animation:[Yt.a]}}),t})();function cs(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",6),r.Qb(1,"button",7),r.bc("click",(function(){return r.uc(t),r.dc().close()})),r.Lb(2,"i",8),r.Fc(3," Cancel "),r.Pb(),r.Pb()}}let as=(()=>{class t{constructor(t,e){this.activeModal=t,this.dataService=e,this.showLoader=!1}ngOnInit(){this.title=this.Info.title,console.log(this.Info)}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(n.a),r.Kb(U))},t.\u0275cmp=r.Eb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[r.wb([U])],decls:17,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","modal-footer",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"icon-cross"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"h4",1),r.Fc(2),r.Pb(),r.Qb(3,"button",2),r.bc("click",(function(){return e.activeModal.dismiss("Cross click")})),r.Qb(4,"span",3),r.Fc(5,"\xd7"),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"div",4),r.Qb(7,"h4"),r.Fc(8),r.Pb(),r.Qb(9,"p"),r.Fc(10),r.Pb(),r.Qb(11,"p"),r.Fc(12),r.ec(13,"date"),r.Pb(),r.Qb(14,"p"),r.Fc(15),r.Pb(),r.Pb(),r.Dc(16,cs,4,0,"div",5)),2&t&&(r.xb(2),r.Gc(e.title),r.xb(6),r.Gc(e.Info.data.description),r.xb(2),r.Hc("URL: ",e.Info.data.url,""),r.xb(2),r.Gc(r.gc(13,6,e.Info.data.created_at,"fullDate")),r.xb(3),r.Gc(e.Info.data.stack_trace),r.xb(1),r.kc("ngIf",!e.showLoader))},directives:[s.u],pipes:[s.f],encapsulation:2}),t})();const rs=t=>t.log.posts,ds=t=>t.log.records,ls=t=>t.log.loading,bs=t=>t.log.isloaded,hs=t=>t.log.pagination,ps=t=>t.log.filteroptions,gs=t=>t.log.selectall,us=t=>t.log.itemsselected;function fs(t,e){1&t&&r.Lb(0,"app-loader")}function ms(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr",11),r.Qb(1,"td",12),r.Qb(2,"div",5),r.Qb(3,"input",13),r.bc("ngModelChange",(function(i){return r.uc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return r.uc(t),r.dc(3).checkChange()})),r.Pb(),r.Lb(4,"label",14),r.Pb(),r.Pb(),r.Qb(5,"td"),r.Lb(6,"div",15),r.Pb(),r.Qb(7,"td"),r.Qb(8,"span",16),r.Lb(9,"i",17),r.Pb(),r.Fc(10),r.ec(11,"date"),r.Pb(),r.Qb(12,"td",9),r.Qb(13,"a",18),r.bc("click",(function(i){r.uc(t);const s=e.$implicit;return r.dc(3).viewRecord(s,i),!1})),r.Lb(14,"i",19),r.Pb(),r.Qb(15,"a",20),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,n=e.index;return r.dc(3).delete(s,n,i),!1})),r.Lb(16,"i",21),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.kc("@fadeIn",void 0)("hidden",t.isdeleted),r.xb(3),r.lc("id",t.id),r.kc("ngModel",t.Selected),r.xb(1),r.lc("for",t.id),r.xb(2),r.kc("innerHTML",t.description,r.vc),r.xb(4),r.Hc(" ",r.gc(11,7,t.created_at,"fullDate")," ")}}function vs(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",3),r.Qb(2,"table",4),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th"),r.Qb(6,"div",5),r.Qb(7,"input",6),r.bc("ngModelChange",(function(e){return r.uc(t),r.dc(2).selectall=e}))("ngModelChange",(function(){return r.uc(t),r.dc(2).processChange()})),r.Pb(),r.Lb(8,"label",7),r.Pb(),r.Pb(),r.Qb(9,"th"),r.Qb(10,"span",8),r.Fc(11,"Description"),r.Pb(),r.Pb(),r.Qb(12,"th"),r.Qb(13,"span",8),r.Fc(14,"Date"),r.Pb(),r.Pb(),r.Qb(15,"th",9),r.Fc(16," Action "),r.Pb(),r.Pb(),r.Pb(),r.Qb(17,"tbody"),r.Dc(18,ms,17,10,"tr",10),r.ec(19,"async"),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc(2);r.xb(7),r.kc("ngModel",t.selectall),r.xb(11),r.kc("ngForOf",r.fc(19,3,t.Data$))("ngForTrackBy",t.getKey)}}function Os(t,e){1&t&&r.Lb(0,"app-norecord")}function Ps(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,vs,20,5,"div",0),r.ec(2,"async"),r.Dc(3,Os,1,0,"app-norecord",0),r.ec(4,"async"),r.Pb()),2&t){const t=r.dc();r.xb(1),r.kc("ngIf",r.fc(2,2,t.Data$).length>0),r.xb(2),r.kc("ngIf",0===r.fc(4,4,t.Data$).length)}}let ws=(()=>{class t{constructor(t,e){this._store=t,this.dataService=e,this.isActionGranded=!1,this.Data$=this._store.pipe(Object(f.n)(rs)),this.loading$=this._store.pipe(Object(f.n)(ls)),this.pagination$=this._store.pipe(Object(f.n)(hs)),this.selectAll$=this._store.pipe(Object(f.n)(gs)),this.View=new r.n,this.SelectedItems=new r.n,this.selectall=!1,this.Data=[]}ngOnInit(){this.Data$.subscribe(t=>{this.Data=t.map(t=>Object.assign({},t))}),this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}viewRecord(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}getKey(t,e){return e.id}PaginationChange(t){this._store.dispatch(new H.d({attr:"pagenumber",value:t})),this._store.dispatch(new H.l({currentpage:t}))}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}processChange(){this._store.dispatch(new H.j(this.selectall))}checkChange(){const t=[];for(const e of this.Data)e.Selected&&t.push(e);this.SelectedItems.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(U))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:9,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"m-r-5"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[3,"innerHTML"],[1,"text-muted"],[1,"fa","fa-clock-o"],["href","#","data-toggle","tooltip","data-original-title","View",3,"click"],[1,"fa","fa-eye","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(t,e){1&t&&(r.Dc(0,fs,1,0,"app-loader",0),r.ec(1,"async"),r.Dc(2,Ps,5,6,"div",0),r.ec(3,"async"),r.Qb(4,"div",1),r.Qb(5,"pagination",2),r.bc("OnSelection",(function(t){return e.PaginationChange(t)})),r.ec(6,"async"),r.ec(7,"async"),r.ec(8,"async"),r.Pb(),r.Pb()),2&t&&(r.kc("ngIf",r.fc(1,5,e.loading$)),r.xb(2),r.kc("ngIf",!r.fc(3,7,e.loading$)),r.xb(3),r.kc("currentPage",r.fc(6,9,e.pagination$).currentPage)("totalRecords",r.fc(7,11,e.pagination$).totalRecords)("pageSize",r.fc(8,13,e.pagination$).pageSize))},directives:[s.u,Pt.a,wt.a,o.a,o.q,o.t,s.t,Ut.a],pipes:[s.b,s.f],encapsulation:2,data:{animation:[Object(Ht.k)("fadeIn",[Object(Ht.j)(":enter",[Object(Ht.i)({opacity:"0",background:"#f5fb98"}),Object(Ht.e)("300ms ease-out",Object(Ht.f)([Object(Ht.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Ht.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Ht.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),t})();function ys(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",4),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function Ss(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",0),r.Qb(2,"div",5),r.Qb(3,"app-navigation-v2",6),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)}))("SearchSelection",(function(e){return r.uc(t),r.dc().FindRecords(e)})),r.Pb(),r.Pb(),r.Qb(4,"div",7),r.Qb(5,"app-toolbar-v2",8),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)})),r.Pb(),r.Qb(6,"div",9),r.Qb(7,"app-list",10),r.bc("SelectedItems",(function(e){return r.uc(t),r.dc().getSelectedItems(e)}))("View",(function(e){return r.uc(t),r.dc().toolbaraction(e)})),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc();r.xb(3),r.kc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.xb(2),r.kc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.xb(2),r.kc("isActionGranded",t.isActionGranded)}}let ks=(()=>{class t{constructor(t,e,i,s,n,o){this._store=t,this.settingService=e,this.dataService=i,this.modalService=s,this.coreService=n,this.permission=o,this.filteroptions$=this._store.pipe(Object(f.n)(ps)),this.isloaded$=this._store.pipe(Object(f.n)(bs)),this.isItemSelected$=this._store.pipe(Object(f.n)(us)),this.records$=this._store.pipe(Object(f.n)(ds)),this.pagination$=this._store.pipe(Object(f.n)(hs)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Log",this.subheading="Management",this.isItemsSelected=!1,this.Records=0,this.Pagination={}}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396255768";this.permission.GrandResourceAccess(!1,e,"1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{this.FilterOptions=Object.assign({},t),t.track_filter&&(this.dataService.LoadRecords(t),this.FilterOptions.track_filter=!1,this._store.dispatch(new H.k(this.FilterOptions)))}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t})}toolbaraction(t){if(this.isActionGranded)switch(t.action){case"view":return console.log(t.value),void this.ViewRecord(t.value);case"deleteall":return void this.DeleteAll();case"m_markas":return void this.ProcessActions(t.value)}else this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this._store.dispatch(new H.k(e))}DeleteAll(){this.dataService.DeleteAllRecords()}ViewRecord(t){console.log("view record triggered");const e=this.modalService.open(as,{backdrop:!1});e.componentInstance.Info={title:"View Log Detail",data:t},e.result.then(t=>{},t=>{console.log("dismissed")})}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}refreshStats(){this._store.dispatch(new H.h({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize})),this._store.dispatch(new u.d({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(Y),r.Kb(U),r.Kb(n.b),r.Kb(b.a),r.Kb(dt.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","SelectedItems","View"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Dc(3,ys,3,0,"div",3),r.Dc(4,Ss,8,5,"div",3),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.xb(3),r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,Ot.a,ws],encapsulation:2,data:{animation:[Yt.a]}}),t})();const _s=t=>t.mailtemplates.posts,Is=t=>t.mailtemplates.records,Qs=t=>t.mailtemplates.loading,xs=t=>t.mailtemplates.isloaded,As=t=>t.mailtemplates.pagination,Ds=t=>t.mailtemplates.filteroptions,Cs=t=>t.mailtemplates.selectall,Ls=t=>t.mailtemplates.itemsselected;function Fs(t,e){1&t&&r.Lb(0,"app-loader")}function Rs(t,e){if(1&t&&(r.Qb(0,"span",21),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.Gc(t.title)}}function $s(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,Rs,2,1,"span",20),r.Pb()),2&t){const t=e.$implicit,i=r.dc().$implicit;r.xb(1),r.kc("ngIf",i.type===t.id)}}const js=function(t){return[t]};function Gs(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr",10),r.Qb(1,"td",11),r.Qb(2,"div",5),r.Qb(3,"input",12),r.bc("ngModelChange",(function(i){return r.uc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return r.uc(t),r.dc(3).checkChange()})),r.Pb(),r.Lb(4,"label",13),r.Pb(),r.Pb(),r.Qb(5,"td"),r.Fc(6),r.Pb(),r.Qb(7,"td"),r.Lb(8,"div",14),r.Pb(),r.Qb(9,"td"),r.Dc(10,$s,2,1,"div",15),r.Pb(),r.Qb(11,"td",8),r.Qb(12,"a",16),r.Lb(13,"i",17),r.Pb(),r.Qb(14,"a",18),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,n=e.index;return r.dc(3).delete(s,n,i),!1})),r.Lb(15,"i",19),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,i=r.dc(3);r.kc("@fadeIn",void 0)("hidden",t.isdeleted),r.xb(3),r.lc("id",t.id),r.kc("ngModel",t.Selected),r.xb(1),r.lc("for",t.id),r.xb(2),r.Hc(" ",t.templatekey," "),r.xb(2),r.kc("innerHTML",t.description,r.vc),r.xb(2),r.kc("ngForOf",i.MailTypes),r.xb(2),r.kc("routerLink",r.oc(9,js,"/settings/mailtemplates/process/"+t.id))}}function Ts(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",3),r.Qb(2,"table",4),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th"),r.Qb(6,"div",5),r.Qb(7,"input",6),r.bc("ngModelChange",(function(e){return r.uc(t),r.dc(2).selectall=e}))("ngModelChange",(function(){return r.uc(t),r.dc(2).processChange()})),r.Pb(),r.Lb(8,"label",7),r.Pb(),r.Pb(),r.Qb(9,"th"),r.Fc(10," Template Key "),r.Pb(),r.Qb(11,"th"),r.Fc(12," Description "),r.Pb(),r.Qb(13,"th"),r.Fc(14," Status "),r.Pb(),r.Qb(15,"th",8),r.Fc(16," Action "),r.Pb(),r.Pb(),r.Pb(),r.Qb(17,"tbody"),r.Dc(18,Gs,16,11,"tr",9),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc(2);r.xb(7),r.kc("ngModel",t.selectall),r.xb(11),r.kc("ngForOf",t.Data)("ngForTrackBy",t.getKey)}}function Ms(t,e){1&t&&r.Lb(0,"app-norecord")}function Ks(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,Ts,19,3,"div",0),r.Dc(2,Ms,1,0,"app-norecord",0),r.Pb()),2&t){const t=r.dc();r.xb(1),r.kc("ngIf",t.Data.length>0),r.xb(1),r.kc("ngIf",0===t.Data.length)}}let Ns=(()=>{class t{constructor(t,e){this._store=t,this.dataService=e,this.isActionGranded=!1,this.MailTypes=[],this.Data$=this._store.pipe(Object(f.n)(_s)),this.loading$=this._store.pipe(Object(f.n)(Qs)),this.pagination$=this._store.pipe(Object(f.n)(As)),this.selectAll$=this._store.pipe(Object(f.n)(Cs)),this.SelectedItems=new r.n,this.selectall=!1,this.Data=[]}ngOnInit(){this.Data$.subscribe(t=>{this.Data=t.map(t=>Object.assign({},t))}),this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}getKey(t,e){return e.id}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}edit(t,e){console.log("edit clicked")}PaginationChange(t){this._store.dispatch(new W.d({attr:"pagenumber",value:t})),this._store.dispatch(new W.l({currentpage:t}))}processChange(){this._store.dispatch(new W.j(this.selectall))}checkChange(){const t=[];for(const e of this.Data)e.Selected&&t.push(e);this.SelectedItems.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(Z))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded",MailTypes:"MailTypes"},outputs:{SelectedItems:"SelectedItems"},decls:9,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[3,"innerHTML"],[4,"ngFor","ngForOf"],["data-toggle","tooltip","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],["class","badge badge-danger",4,"ngIf"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(r.Dc(0,Fs,1,0,"app-loader",0),r.ec(1,"async"),r.Dc(2,Ks,3,2,"div",0),r.ec(3,"async"),r.Qb(4,"div",1),r.Qb(5,"pagination",2),r.bc("OnSelection",(function(t){return e.PaginationChange(t)})),r.ec(6,"async"),r.ec(7,"async"),r.ec(8,"async"),r.Pb(),r.Pb()),2&t&&(r.kc("ngIf",r.fc(1,5,e.loading$)),r.xb(2),r.kc("ngIf",!r.fc(3,7,e.loading$)),r.xb(3),r.kc("currentPage",r.fc(6,9,e.pagination$).currentPage)("totalRecords",r.fc(7,11,e.pagination$).totalRecords)("pageSize",r.fc(8,13,e.pagination$).pageSize))},directives:[s.u,Pt.a,wt.a,o.a,o.q,o.t,s.t,c.i,Ut.a],pipes:[s.b],encapsulation:2,data:{animation:[Object(Ht.k)("fadeIn",[Object(Ht.j)(":enter",[Object(Ht.i)({opacity:"0",background:"#f5fb98"}),Object(Ht.e)("300ms ease-out",Object(Ht.f)([Object(Ht.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Ht.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Ht.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),t})();function Es(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",2),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function zs(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",3),r.Qb(2,"div",4),r.Qb(3,"app-navigation-v2",5),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)}))("SearchSelection",(function(e){return r.uc(t),r.dc().FindRecords(e)})),r.Pb(),r.Pb(),r.Qb(4,"div",6),r.Qb(5,"app-toolbar-v2",7),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)})),r.Pb(),r.Qb(6,"div",8),r.Qb(7,"app-list",9),r.bc("SelectedItems",(function(e){return r.uc(t),r.dc().getSelectedItems(e)})),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc();r.xb(3),r.kc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.xb(2),r.kc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.xb(2),r.kc("MailTypes",t.MailTypes)("isActionGranded",t.isActionGranded)}}let Bs=(()=>{class t{constructor(t,e,i,s,n,o,c){this._store=t,this.settingService=e,this.dataService=i,this.modalService=s,this.coreService=n,this.permission=o,this.router=c,this.filteroptions$=this._store.pipe(Object(f.n)(Ds)),this.isloaded$=this._store.pipe(Object(f.n)(xs)),this.isItemSelected$=this._store.pipe(Object(f.n)(Ls)),this.records$=this._store.pipe(Object(f.n)(Is)),this.pagination$=this._store.pipe(Object(f.n)(As)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.configs$=this._store.pipe(Object(f.n)(J.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1,this.Records=0,this.Pagination={},this.Configs={},this.MailTypes=[]}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396255768";this.permission.GrandResourceAccess(!1,e,"1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.configs$.subscribe(t=>{if(this.Configs=t,void 0!==t.general)for(const e in t.general.mailtemplates)this.MailTypes.push({id:t.general.mailtemplates[e],title:e})}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!0,this.SearchOptions.actions=this.settingService.initialize_actions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{if(this.FilterOptions=Object.assign({},t),t.track_filter&&(this.dataService.LoadRecords(t),this.FilterOptions.track_filter=!1,this._store.dispatch(new W.k(this.FilterOptions))),void 0!==this.Configs.general)for(const e in this.Configs.general.mailtemplates)"-1"===t.type.toString()?this.ToolbarOptions.left_options[0].title="[All]":this.Configs.general.mailtemplates[e]===t.type&&(this.ToolbarOptions.left_options[1].title="["+e+"]")}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t})}toolbaraction(t){switch(t.action){case"add":return void this.AddRecord();case"f_type":this._store.dispatch(new W.d({attr:"type",value:t.value}));break;case"m_markas":return void this.ProcessActions(t.value);case"pagesize":this._store.dispatch(new W.d({attr:"pagesize",value:t.value}))}}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this._store.dispatch(new W.k(e))}AddRecord(){this.router.navigate(["/settings/mailtemplates/process/"])}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.isActionGranded){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus,"delete"!==t.value&&"deleteall"!==t.value||(e.isdeleted=!0);this.dataService.ProcessActions(this.SelectedItems,t)}}else this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}refreshStats(){this._store.dispatch(new W.h({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize})),this._store.dispatch(new u.d({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(X),r.Kb(Z),r.Kb(n.b),r.Kb(b.a),r.Kb(dt.a),r.Kb(c.f))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:3,vars:2,consts:[[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"MailTypes","isActionGranded","SelectedItems"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Dc(1,Es,3,0,"div",1),r.Dc(2,zs,8,6,"div",1),r.Pb()),2&t&&(r.xb(1),r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,Ot.a,Ns],encapsulation:2,data:{animation:[Yt.a]}}),t})();function Vs(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",1),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function Ys(t,e){1&t&&r.Lb(0,"app-loader")}function Hs(t,e){if(1&t){const t=r.Rb();r.Qb(0,"dynamic-modal-form",11),r.bc("OnSubmit",(function(e){return r.uc(t),r.dc(2).SubmitForm(e)})),r.Pb()}if(2&t){const t=r.dc(2);r.kc("controls",t.controls)("showLoader",t.showLoader)("showCancel",!1)("showModal",!1)("submitText",t.submitText)}}function Us(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Qb(3,"div",4),r.Lb(4,"app-navigation-v2",5),r.Pb(),r.Pb(),r.Qb(5,"div",6),r.Qb(6,"div",4),r.Qb(7,"div",7),r.Qb(8,"h4",8),r.Fc(9),r.Pb(),r.Pb(),r.Qb(10,"div",9),r.Dc(11,Ys,1,0,"app-loader",0),r.Dc(12,Hs,1,5,"dynamic-modal-form",10),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc();r.xb(4),r.kc("Options",t.SearchOptions),r.xb(5),r.Gc(t.formHeading),r.xb(2),r.kc("ngIf",t.showLoader),r.xb(1),r.kc("ngIf",!t.showLoader)}}let qs=(()=>{class t{constructor(t,e,i,s,n,o,c,a){this._store=t,this.settingService=e,this.dataService=i,this.coreService=s,this.route=n,this.formService=o,this.permission=c,this.router=a,this.MailTemplateID=0,this.controls=[],this.showLoader=!1,this.formHeading="Add Mail Tempalte",this.submitText="Add Template",this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.configs$=this._store.pipe(Object(f.n)(J.a)),this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{const e="1539516196296";this.permission.GrandResourceAccess(!1,e,"1539516133459",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.configs$.subscribe(t=>{this.Configs=t}),this.route.params.subscribe(t=>{this.MailTemplateID=Number.parseInt(t.id,10),this.MailTemplateID>0?(this.formHeading="Update Mail Template",this.submitText="Update Template",this.LoadInfo()):this.initializeControls(this.settingService.getInitObject())}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[]}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.MailTemplateID).subscribe(t=>{this.initializeControls(t.posts),this.showLoader=!1})}initializeControls(t){this.controls=this.formService.getControls(t,this.Configs.general.mailtemplates)}SubmitForm(t){if(!this.isActionGranded)return void this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}));this.showLoader=!0;let e="Added";this.MailTemplateID>0&&(t.id=this.MailTemplateID,e="Updated"),this.dataService.AddRecord(t).subscribe(t=>{console.log("returned data is "),console.log(t),"error"===t.status?this._store.dispatch(new u.c({title:t.message,text:"",css:"bg-success"})):(this._store.dispatch(new u.c({title:"Record "+e+" Successfully",text:"",css:"bg-success"})),this._store.dispatch(new W.i({})),this.router.navigate(["/settings/mailtemplates/"])),this.showLoader=!1},t=>{this.showLoader=!1,this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(X),r.Kb(Z),r.Kb(b.a),r.Kb(c.a),r.Kb(et),r.Kb(dt.a),r.Kb(c.f))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(r.Dc(0,Vs,3,0,"div",0),r.Dc(1,Us,13,4,"div",0)),2&t&&(r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,wt.a,jt.a],encapsulation:2,data:{animation:[Yt.a]}}),t})();const Js=t=>t.tags.posts,Xs=t=>t.tags.records,Ws=t=>t.tags.loading,Zs=t=>t.tags.isloaded,tn=t=>t.tags.pagination,en=t=>t.tags.filteroptions,sn=t=>t.tags.selectall,nn=t=>t.tags.itemsselected;function on(t,e){1&t&&r.Lb(0,"app-loader")}function cn(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",23),r.Qb(2,"div",24),r.Qb(3,"div"),r.Qb(4,"input",25),r.bc("ngModelChange",(function(e){return r.uc(t),r.dc().$implicit.title=e})),r.Pb(),r.Pb(),r.Qb(5,"div",26),r.Qb(6,"button",27),r.bc("click",(function(){r.uc(t);const e=r.dc().$implicit;return r.dc(3)._UpdateRecord(e)})),r.Fc(7," Save "),r.Pb(),r.Qb(8,"button",28),r.bc("click",(function(e){r.uc(t);const i=r.dc().$implicit;return r.dc(3).toggleEditView(i,e)})),r.Fc(9," Cancel "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc().$implicit;r.xb(4),r.kc("ngModel",t.title)}}function an(t,e){if(1&t&&(r.Qb(0,"div"),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.Hc(" ",t.title," ")}}function rn(t,e){1&t&&(r.Qb(0,"span",29),r.Fc(1,"High"),r.Pb())}function dn(t,e){1&t&&(r.Qb(0,"span",30),r.Fc(1,"Medium"),r.Pb())}function ln(t,e){1&t&&(r.Qb(0,"span",31),r.Fc(1,"Low"),r.Pb())}function bn(t,e){if(1&t&&(r.Qb(0,"span",33),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.Gc(t.title)}}function hn(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,bn,2,1,"span",32),r.Pb()),2&t){const t=e.$implicit,i=r.dc().$implicit;r.xb(1),r.kc("ngIf",i.type===t.id)}}function pn(t,e){1&t&&(r.Qb(0,"span",29),r.Fc(1,"Normal"),r.Pb())}function gn(t,e){1&t&&(r.Qb(0,"span",30),r.Fc(1,"User Search"),r.Pb())}function un(t,e){1&t&&(r.Qb(0,"span"),r.Fc(1,"Active"),r.Pb())}function fn(t,e){1&t&&(r.Qb(0,"span"),r.Fc(1,"InActive"),r.Pb())}function mn(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr",10),r.Qb(1,"td",11),r.Qb(2,"div",5),r.Qb(3,"input",12),r.bc("ngModelChange",(function(i){return r.uc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return r.uc(t),r.dc(3).checkChange()})),r.Pb(),r.Lb(4,"label",13),r.Pb(),r.Pb(),r.Qb(5,"td"),r.Dc(6,cn,10,1,"div",0),r.Dc(7,an,2,1,"div",0),r.Pb(),r.Qb(8,"td"),r.Dc(9,rn,2,0,"span",14),r.Dc(10,dn,2,0,"span",15),r.Dc(11,ln,2,0,"span",16),r.Pb(),r.Qb(12,"td"),r.Dc(13,hn,2,1,"div",17),r.Pb(),r.Qb(14,"td"),r.Dc(15,pn,2,0,"span",14),r.Dc(16,gn,2,0,"span",15),r.Pb(),r.Qb(17,"td"),r.Qb(18,"button",18),r.bc("click",(function(){r.uc(t);const i=e.$implicit;return r.dc(3).triggleAction(i,"togglestatus")})),r.Dc(19,un,2,0,"span",0),r.Dc(20,fn,2,0,"span",0),r.Pb(),r.Pb(),r.Qb(21,"td",8),r.Qb(22,"a",19),r.bc("click",(function(i){r.uc(t);const s=e.$implicit;return r.dc(3).toggleEditView(s,i),!1})),r.Lb(23,"i",20),r.Pb(),r.Qb(24,"a",21),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,n=e.index;return r.dc(3).delete(s,n,i),!1})),r.Lb(25,"i",22),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,i=r.dc(3);r.kc("@fadeIn",void 0)("hidden",t.isdeleted),r.xb(3),r.lc("id",t.id),r.kc("ngModel",t.Selected),r.xb(1),r.lc("for",t.id),r.xb(2),r.kc("ngIf",t.editview),r.xb(1),r.kc("ngIf",!t.editview),r.xb(2),r.kc("ngIf",0==t.tag_level),r.xb(1),r.kc("ngIf",1==t.tag_level),r.xb(1),r.kc("ngIf",2==t.tag_level),r.xb(2),r.kc("ngForOf",i.TagTypes),r.xb(2),r.kc("ngIf",0==t.tag_type),r.xb(1),r.kc("ngIf",1==t.tag_type),r.xb(2),r.kc("ngClass",1===t.isenabled?"btn-success":"btn-danger"),r.xb(1),r.kc("ngIf",1===t.isenabled),r.xb(1),r.kc("ngIf",0===t.isenabled)}}function vn(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",3),r.Qb(2,"table",4),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th"),r.Qb(6,"div",5),r.Qb(7,"input",6),r.bc("ngModelChange",(function(e){return r.uc(t),r.dc(2).selectall=e}))("ngModelChange",(function(){return r.uc(t),r.dc(2).processChange()})),r.Pb(),r.Lb(8,"label",7),r.Pb(),r.Pb(),r.Qb(9,"th"),r.Fc(10," Title "),r.Pb(),r.Qb(11,"th"),r.Fc(12," Priority "),r.Pb(),r.Qb(13,"th"),r.Fc(14," Type "),r.Pb(),r.Qb(15,"th"),r.Fc(16," Tag Type "),r.Pb(),r.Qb(17,"th"),r.Fc(18," Status "),r.Pb(),r.Qb(19,"th",8),r.Fc(20," Action "),r.Pb(),r.Pb(),r.Pb(),r.Qb(21,"tbody"),r.Dc(22,mn,26,16,"tr",9),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc(2);r.xb(7),r.kc("ngModel",t.selectall),r.xb(15),r.kc("ngForOf",t.Data)("ngForTrackBy",t.getKey)}}function On(t,e){1&t&&r.Lb(0,"app-norecord")}function Pn(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,vn,23,3,"div",0),r.Dc(2,On,1,0,"app-norecord",0),r.Pb()),2&t){const t=r.dc();r.xb(1),r.kc("ngIf",t.Data.length>0),r.xb(1),r.kc("ngIf",0===t.Data.length)}}let wn=(()=>{class t{constructor(t,e){this._store=t,this.dataService=e,this.isActionGranded=!1,this.TagTypes=[],this.Data$=this._store.pipe(Object(f.n)(Js)),this.loading$=this._store.pipe(Object(f.n)(Ws)),this.pagination$=this._store.pipe(Object(f.n)(tn)),this.selectAll$=this._store.pipe(Object(f.n)(sn)),this.View=new r.n,this.SelectedItems=new r.n,this.selectall=!1,this.Data=[]}ngOnInit(){this.Data$.subscribe(t=>{this.Data=t.map(t=>Object.assign({},t))}),this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}viewRecord(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}triggleAction(t,e){this.Data$.subscribe(e=>{const i=[];for(const s of e)s.Selected=t.id===s.id;for(const t of e)t.Selected&&i.push(t);this.SelectedItems.emit(i)}),this.View.emit({action:e,actionstatus:e,value:t})}getKey(t,e){return e.id}toggleEditView(t,e){t.editview=!t.editview,e.stopPropagation()}_UpdateRecord(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}PaginationChange(t){this._store.dispatch(new nt.d({attr:"pagenumber",value:t})),this._store.dispatch(new nt.k({currentpage:t}))}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}processChange(){this._store.dispatch(new nt.i(this.selectall))}checkChange(){this.ProcessSelection()}ProcessSelection(){const t=[];for(const e of this.Data)e.Selected&&t.push(e);this.SelectedItems.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(ot))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded",TagTypes:"TagTypes"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:9,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],["class","badge badge-success",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-info",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"ngClass","click"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"card"],[1,"card-body"],["type","text","placeholder","Update Tag",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-xs","btn-success",3,"click"],[1,"btn","btn-xs","btn-danger",3,"click"],[1,"badge","badge-success"],[1,"badge","badge-warning"],[1,"badge","badge-info"],["class","badge badge-danger",4,"ngIf"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(r.Dc(0,on,1,0,"app-loader",0),r.ec(1,"async"),r.Dc(2,Pn,3,2,"div",0),r.ec(3,"async"),r.Qb(4,"div",1),r.Qb(5,"pagination",2),r.bc("OnSelection",(function(t){return e.PaginationChange(t)})),r.ec(6,"async"),r.ec(7,"async"),r.ec(8,"async"),r.Pb(),r.Pb()),2&t&&(r.kc("ngIf",r.fc(1,5,e.loading$)),r.xb(2),r.kc("ngIf",!r.fc(3,7,e.loading$)),r.xb(3),r.kc("currentPage",r.fc(6,9,e.pagination$).currentPage)("totalRecords",r.fc(7,11,e.pagination$).totalRecords)("pageSize",r.fc(8,13,e.pagination$).pageSize))},directives:[s.u,Pt.a,wt.a,o.a,o.q,o.t,s.t,s.r,o.c,Ut.a],pipes:[s.b],encapsulation:2,data:{animation:[Object(Ht.k)("fadeIn",[Object(Ht.j)(":enter",[Object(Ht.i)({opacity:"0",background:"#f5fb98"}),Object(Ht.e)("300ms ease-out",Object(Ht.f)([Object(Ht.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Ht.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Ht.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),t})();function yn(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",4),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function Sn(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",0),r.Qb(2,"div",5),r.Qb(3,"app-navigation-v2",6),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)}))("SearchSelection",(function(e){return r.uc(t),r.dc().FindRecords(e)})),r.Pb(),r.Pb(),r.Qb(4,"div",7),r.Qb(5,"app-toolbar-v2",8),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)})),r.Pb(),r.Qb(6,"div",9),r.Qb(7,"app-list",10),r.bc("SelectedItems",(function(e){return r.uc(t),r.dc().getSelectedItems(e)}))("View",(function(e){return r.uc(t),r.dc().ProcessActions(e)})),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc();r.xb(3),r.kc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.xb(2),r.kc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.xb(2),r.kc("TagTypes",t.TagTypes)("isActionGranded",t.isActionGranded)}}let kn=(()=>{class t{constructor(t,e,i,s,n){this._store=t,this.settingService=e,this.dataService=i,this.coreService=s,this.permission=n,this.filteroptions$=this._store.pipe(Object(f.n)(en)),this.isloaded$=this._store.pipe(Object(f.n)(Zs)),this.isItemSelected$=this._store.pipe(Object(f.n)(nn)),this.records$=this._store.pipe(Object(f.n)(Xs)),this.pagination$=this._store.pipe(Object(f.n)(tn)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.configs$=this._store.pipe(Object(f.n)(J.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1,this.Records=0,this.Pagination={},this.Configs={},this.TagTypes=[]}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396255768";this.permission.GrandResourceAccess(!1,e,"1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.configs$.subscribe(t=>{if(this.Configs=t,void 0!==t.general)for(const e in t.general.tag)this.TagTypes.push({id:t.general.tag[e],title:e})}),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{if(this.FilterOptions=Object.assign({},t),t.track_filter&&(this.dataService.LoadRecords(t),this.FilterOptions.track_filter=!1,this._store.dispatch(new nt.j(this.FilterOptions))),void 0!==this.Configs.general)for(const e in this.Configs.general.tag)this.Configs.general.tag[e]===t.type&&(this.ToolbarOptions.left_options[1].title="["+e+"]")}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{t?this.refreshStats():this.dataService.LoadRecords(this.FilterOptions)}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t})}toolbaraction(t){if(this.isActionGranded)switch(t.action){case"m_markas":return void this.ProcessActions(t.value);case"f_type":this._store.dispatch(new nt.d({attr:"type",value:t.value}));break;case"f_ttype":this._store.dispatch(new nt.d({attr:"tag_type",value:t.value}));break;case"f_tlevel":this._store.dispatch(new nt.d({attr:"tag_level",value:t.value}));break;case"f_status":this._store.dispatch(new nt.d({attr:"isenabled",value:t.value}));break;case"pagesize":this._store.dispatch(new nt.d({attr:"pagesize",value:t.value}))}else this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this._store.dispatch(new nt.j(e))}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(console.log("process action triggered"),console.log(t),this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus,"delete"!==t.value&&"deleteall"!==t.value||(e.isdeleted=!0);this.dataService.ProcessActions(this.SelectedItems,t)}}refreshStats(){this._store.dispatch(new nt.h({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize})),this._store.dispatch(new u.d({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(st),r.Kb(ot),r.Kb(b.a),r.Kb(dt.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"TagTypes","isActionGranded","SelectedItems","View"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Dc(3,yn,3,0,"div",3),r.Dc(4,Sn,8,6,"div",3),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.xb(3),r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,Ot.a,wn],encapsulation:2,data:{animation:[Yt.a]}}),t})(),_n=(()=>{class t{constructor(t,e){this.config=t,this.coreService=e}getControls(t,e){const i=[];3===t.type&&i.push(new Q.i({key:"ilevel",label:"Level",value:t.ilevel,required:!0,order:0,disabled:!0,colsize:"col-md-2",pattern:"[0-9]+"})),i.push(new Q.i({key:"title",label:"Title",value:t.title,required:!0,minLength:3,maxLength:150,order:1})),i.push(new Q.j({key:"description",label:"Description",value:t.description,required:!0,tinymiceOptions:this.coreService.prepareInitEditorSettings(),order:2})),i.push(new Q.h({key:"notification",label:"Notification",value:t.notification,required:!1,order:3,helpblock:"Message to be added in user history when user is awarded this feature. e.g\n            'You have been awarded [value] xp, where [value] will be replace with their respective\n            value (badge, reward, xp, credits, package, level)."})),i.push(new Q.b({key:"categoryid",label:"Select Category",value:t.categoryid,required:!0,options:[],order:4,colsize:"col-md-3"})),i.push(new Q.i({key:"priority",label:"Priority",value:t.priority,required:!0,order:5,maxLength:5,pattern:"[0-9]+",colsize:"col-md-2"})),2===t.type&&i.push(new Q.i({key:"credits",label:"Credits",value:t.credits,required:!0,order:6,colsize:"col-md-3",pattern:"[0-9]+",helpblock:"Credits required to unlock this reward."})),3===t.type&&i.push(new Q.i({key:"xp",label:"XP",value:t.xp,required:!0,order:6,colsize:"col-md-3",pattern:"[0-9]+",helpblock:"XP required to unlock this level."})),4===t.type&&(i.push(new Q.i({key:"xp",label:"XP",value:t.xp,required:!0,order:6,colsize:"col-md-3",pattern:"[0-9]+",helpblock:"XP to be rewarded when user complete this task."})),i.push(new Q.b({key:"isdeduct",label:"Is Deduct",value:t.isdeduct.toString(),options:[{key:"0",value:"No"},{key:"1",value:"Yes"}],order:7,helpblock:"If Yes then this event will be used to deduct, remove selected xp from user profile",colsize:"col-md-3"}))),5===t.type&&(i.push(new Q.i({key:"credits",label:"Credits",value:t.credits,required:!0,order:6,colsize:"col-md-3",pattern:"[0-9]+",helpblock:"Credits to be rewarded when user complete this task."})),i.push(new Q.b({key:"isdeduct",label:"Is Deduct",value:t.isdeduct.toString(),options:[{key:"0",value:"No"},{key:"1",value:"Yes"}],order:7,helpblock:"If Yes then this event will be used to deduct, remove selected xp from user profile",colsize:"col-md-3"}))),6===t.type&&(i.push(new Q.i({key:"price",label:"Price",value:t.price,required:!0,order:6,colsize:"col-md-3",pattern:"[0-9]+",helpblock:"Price needed to buy this package."})),i.push(new Q.i({key:"credits",label:"Credits",value:t.credits,required:!0,colsize:"col-md-3",pattern:"[0-9]+",order:7,helpblock:"Credits to be rewarded when user purchase this package."}))),i.push(new Q.b({key:"ishide",label:"Is Hide",value:t.ishide.toString(),options:[{key:"0",value:"No"},{key:"1",value:"Yes"}],order:8,helpblock:"Not want to show this in public listings",colsize:"col-md-3"})),1!==t.type&&2!==t.type&&6!==t.type||i.push(new Q.b({key:"ismultiple",label:"Is Multiple",value:t.ismultiple.toString(),options:[{key:"0",value:"No"},{key:"1",value:"Yes"}],order:9,helpblock:"If yes current item (badge, reward, package) to be awarded multiple times.",colsize:"col-md-3"}));const s={cropped_picture:"",original_picture:t.icon,croptype:1,upload_id:"icon_upload",colcss:"col-md-3",settings:{width:e.gamify_badge_width,height:e.gamify_badge_height},uploadbtntext:"Upload Icon",btncss:"btn btn-success"};return i.push(new Q.c({key:"icon",label:"",value:t.icon,required:!1,cropperOptions:s,helpblock:"Cropsize: "+s.settings.width+"x"+s.settings.height,order:10})),i.sort((t,e)=>t.order-e.order)}getCategoryControls(t){const e=[];return e.push(new Q.i({key:"title",label:"Title",value:t.title,required:!0,minLength:3,maxLength:150,order:1})),e.push(new Q.i({key:"shorttitle",label:"Short Title",value:t.shorttitle,required:!0,minLength:3,maxLength:150,order:2})),e.push(new Q.h({key:"description",label:"Description",value:t.description,required:!0,order:3})),e.push(new Q.i({key:"priority",label:"Priority",value:t.priority,required:!0,order:4})),e.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(h.a),r.Yb(b.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();var In=i("xEt8");let Qn=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load:i+"gamify/badge/load",getinfo:i+"gamify/badge/getinfo",add:i+"gamify/badge/add",remove:i+"gamify/badge/remove",maxid:i+"gamify/badge/maxid",action:i+"gamify/badge/action",levelassociate:{load:i+"gamify/levelassociate/load",add:i+"gamify/levelassociate/add"},category:{load:i+"gamify/category/load",add:i+"gamify/category/add",action:i+"gamify/category/action"}},this.init_toolbar_options(),this.init_search_options()}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[]}}initialize_actions(t){let e="Add Badge",i="Add new Badge";for(const s of ze.b.BADGES_TYPES)s.value===t.toString()&&(e=s.add_title,i=s.add_tooltip);return[{id:1,title:e,tooltip:i,row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"},{id:2,title:"Manage Categories",tooltip:"Manage gamification categories",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-info",event:"categories"}]}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:l.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]};for(const t of ze.b.BADGES_TYPES)this.toolbarOptions.left_options.push({title:t.title,ismultiple:!1,icon:"",Options:[],clickevent:"f_type",value:t.value,tooltip:"Load "+t.title});this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:l.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:l.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitCategoryObject(){return{id:0,type:1,title:"",shorttitle:"",description:"",priority:0}}getInitObject(){return{id:0,title:"",description:"",shorttitle:"",notification:"",categoryid:0,ilevel:0,type:0,icon_css:"",priority:0,price:0,credits:0,xp:0,isdeduct:0,ishide:0,ismultiple:0,icon:"",img_url:"",file:[]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(b.a),r.Yb(h.a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),xn=(()=>{class t{constructor(t,e,i){this._store=t,this.settings=e,this.http=i}LoadRecords(t){const e=this.settings.getApiOptions().load;this._store.dispatch(new In.i({})),this.http.post(e,JSON.stringify(t)).subscribe(t=>{this._store.dispatch(new In.j(t))},t=>{this._store.dispatch(new In.h(t))})}AddRecord(t){return this.http.post(this.settings.getApiOptions().add,JSON.stringify(t))}AddCategory(t){this._store.dispatch(0===t.id?new In.c(t):new In.n(t));const e=this.settings.getApiOptions().category.add;this.http.post(e,JSON.stringify([t])).subscribe(e=>{0===t.id&&this._store.dispatch(new In.o(e.record))},t=>{this._store.dispatch(new In.h(t))})}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({id:t}))}DeleteCategory(t,e){this._store.dispatch(new In.l({item:t,index:e})),t.actionstatus="delete",this.http.post(this.settings.getApiOptions().category.action,JSON.stringify([t])).subscribe(t=>{},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this._store.dispatch(new In.d({SelectedItems:t,isenabled:e})),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this._store.dispatch(new u.c({title:i,text:"",css:"bg-success"}))},t=>{this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(f.h),r.Yb(Qn),r.Yb(m.b))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function An(t,e){if(1&t){const t=r.Rb();r.Qb(0,"dynamic-modal-form",6),r.bc("OnSubmit",(function(e){return r.uc(t),r.dc().SubmitForm(e)}))("OnClose",(function(){return r.uc(t),r.dc().close()})),r.Pb()}if(2&t){const t=r.dc();r.kc("controls",t.controls)("showLoader",t.showLoader)}}function Dn(t,e){if(1&t&&(r.Qb(0,"div",7),r.Qb(1,"div",8),r.Qb(2,"div",9),r.Qb(3,"p"),r.Fc(4),r.Pb(),r.Qb(5,"p"),r.Fc(6," Paste the code below within your custom event where you want to award selected item "),r.Pb(),r.Lb(7,"hr"),r.Qb(8,"pre",10),r.Fc(9),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc();r.xb(4),r.Hc("Description: ",t.Info.data.description,""),r.xb(5),r.Hc("      // code to trigger gamify event for selected item\n      ga_core_bll.Trigger_Item(userID, ",t.Info.data.id,");\n      ")}}let Cn=(()=>{class t{constructor(t,e,i,s){this._store=t,this.activeModal=e,this.service=i,this.dataService=s,this.ViewType=1,this.showLoader=!1,this.list=[]}ngOnInit(){this.title=this.Info.title,this.ViewType=this.Info.viewtype,this.controls=this.service.getCategoryControls(this.Info.data),console.log(this.controls)}SubmitForm(t){void 0===this.Info.isActionGranded||this.Info.isActionGranded?(t.id=this.Info.data.id,t.uniqueid=0===t.id?(new Date).valueOf():"",this.activeModal.close({data:t})):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(n.a),r.Kb(_n),r.Kb(xn))},t.\u0275cmp=r.Eb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[r.wb([_n,xn])],decls:8,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose",4,"ngIf"],["class","modal-body",4,"ngIf"],[3,"controls","showLoader","OnSubmit","OnClose"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"prettyprint"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"h4",1),r.Fc(2),r.Pb(),r.Qb(3,"button",2),r.bc("click",(function(){return e.activeModal.dismiss("Cross click")})),r.Qb(4,"span",3),r.Fc(5,"\xd7"),r.Pb(),r.Pb(),r.Pb(),r.Dc(6,An,1,2,"dynamic-modal-form",4),r.Dc(7,Dn,10,2,"div",5)),2&t&&(r.xb(2),r.Gc(e.title),r.xb(4),r.kc("ngIf",1==e.ViewType),r.xb(1),r.kc("ngIf",0==e.ViewType))},directives:[s.u,jt.a],encapsulation:2}),t})();const Ln=t=>t.gamify.filter_posts,Fn=t=>t.gamify.records,Rn=t=>t.gamify.loading,$n=t=>t.gamify.isloaded,jn=t=>t.gamify.pagination,Gn=t=>t.gamify.filteroptions,Tn=t=>t.gamify.filter_categories,Mn=t=>t.gamify.selectall,Kn=t=>t.gamify.itemsselected;function Nn(t,e){1&t&&r.Lb(0,"app-loader")}function En(t,e){1&t&&(r.Qb(0,"span"),r.Fc(1,"Badge"),r.Pb())}function zn(t,e){1&t&&(r.Qb(0,"span"),r.Fc(1,"Reward"),r.Pb())}function Bn(t,e){1&t&&(r.Qb(0,"th",8),r.Fc(1," Credits "),r.Pb())}function Vn(t,e){1&t&&(r.Qb(0,"th",8),r.Fc(1," Price "),r.Pb())}function Yn(t,e){1&t&&(r.Qb(0,"th",8),r.Fc(1," XP "),r.Pb())}function Hn(t,e){1&t&&(r.Qb(0,"th",8),r.Fc(1," Level "),r.Pb())}function Un(t,e){if(1&t&&(r.Qb(0,"td"),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.Hc(" ",t.credits," ")}}function qn(t,e){if(1&t&&(r.Qb(0,"td"),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.Hc("$",t.price,"")}}function Jn(t,e){if(1&t&&(r.Qb(0,"td"),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.Hc(" ",t.xp," ")}}function Xn(t,e){if(1&t&&(r.Qb(0,"td"),r.Fc(1),r.Pb()),2&t){const t=r.dc().$implicit;r.xb(1),r.Hc(" ",t.ilevel," ")}}const Wn=function(t){return[t]};function Zn(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr",11),r.Qb(1,"td",12),r.Qb(2,"div",5),r.Qb(3,"input",13),r.bc("ngModelChange",(function(i){return r.uc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return r.uc(t),r.dc(3).checkChange()})),r.Pb(),r.Lb(4,"label",14),r.Pb(),r.Pb(),r.Qb(5,"td"),r.Lb(6,"img",15),r.Pb(),r.Dc(7,Un,2,1,"td",0),r.Dc(8,qn,2,1,"td",0),r.Dc(9,Jn,2,1,"td",0),r.Dc(10,Xn,2,1,"td",0),r.Qb(11,"td"),r.Qb(12,"h4"),r.Fc(13),r.Pb(),r.Lb(14,"div",16),r.Pb(),r.Qb(15,"td",8),r.Qb(16,"a",17),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,n=e.index;return r.dc(3).showCode(s,n,i),!1})),r.Lb(17,"i",18),r.Pb(),r.Qb(18,"a",19),r.Lb(19,"i",20),r.Pb(),r.Qb(20,"a",21),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,n=e.index;return r.dc(3).delete(s,n,i),!1})),r.Lb(21,"i",22),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,i=r.dc(3);r.kc("@fadeIn",void 0)("hidden",t.isdeleted),r.xb(3),r.lc("id",t.id),r.kc("ngModel",t.Selected),r.xb(1),r.lc("for",t.id),r.xb(2),r.lc("src",t.img_url,r.wc),r.xb(1),r.kc("ngIf",2===i.BadgeType||5===i.BadgeType||6===i.BadgeType),r.xb(1),r.kc("ngIf",6===i.BadgeType),r.xb(1),r.kc("ngIf",3===i.BadgeType||4===i.BadgeType),r.xb(1),r.kc("ngIf",3===i.BadgeType),r.xb(3),r.Gc(t.title),r.xb(1),r.kc("innerHTML",t.description,r.vc),r.xb(4),r.kc("routerLink",r.oc(13,Wn,"/settings/gamify/process/"+t.id+"/"+t.type))}}function to(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",3),r.Qb(2,"table",4),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th"),r.Qb(6,"div",5),r.Qb(7,"input",6),r.bc("ngModelChange",(function(e){return r.uc(t),r.dc(2).selectall=e}))("ngModelChange",(function(){return r.uc(t),r.dc(2).processChange()})),r.Pb(),r.Lb(8,"label",7),r.Pb(),r.Pb(),r.Qb(9,"th",8),r.Dc(10,En,2,0,"span",0),r.Dc(11,zn,2,0,"span",0),r.Pb(),r.Dc(12,Bn,2,0,"th",9),r.Dc(13,Vn,2,0,"th",9),r.Dc(14,Yn,2,0,"th",9),r.Dc(15,Hn,2,0,"th",9),r.Qb(16,"th",8),r.Fc(17," Title "),r.Pb(),r.Qb(18,"th",8),r.Fc(19," Action "),r.Pb(),r.Pb(),r.Pb(),r.Qb(20,"tbody"),r.Dc(21,Zn,22,15,"tr",10),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc(2);r.xb(7),r.kc("ngModel",t.selectall),r.xb(3),r.kc("ngIf",1===t.BadgeType),r.xb(1),r.kc("ngIf",2===t.BadgeType),r.xb(1),r.kc("ngIf",2===t.BadgeType||5===t.BadgeType||6===t.BadgeType),r.xb(1),r.kc("ngIf",6===t.BadgeType),r.xb(1),r.kc("ngIf",3===t.BadgeType||4===t.BadgeType),r.xb(1),r.kc("ngIf",3===t.BadgeType),r.xb(6),r.kc("ngForOf",t.Data)("ngForTrackBy",t.getKey)}}function eo(t,e){1&t&&r.Lb(0,"app-norecord")}function io(t,e){if(1&t&&(r.Qb(0,"div"),r.Dc(1,to,22,9,"div",0),r.Dc(2,eo,1,0,"app-norecord",0),r.Pb()),2&t){const t=r.dc();r.xb(1),r.kc("ngIf",t.Data.length>0),r.xb(1),r.kc("ngIf",0===t.Data.length)}}let so=(()=>{class t{constructor(t,e){this._store=t,this.dataService=e,this.isActionGranded=!1,this.Data$=this._store.pipe(Object(f.n)(Ln)),this.loading$=this._store.pipe(Object(f.n)(Rn)),this.pagination$=this._store.pipe(Object(f.n)(jn)),this.selectAll$=this._store.pipe(Object(f.n)(Mn)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.View=new r.n,this.SelectedItems=new r.n,this.selectall=!1,this.BadgeType=1,this.Data=[]}ngOnInit(){this.Data$.subscribe(t=>{this.Data=t.map(t=>Object.assign({},t)),this.Data.length>0&&(this.BadgeType=this.Data[0].type),this._store.dispatch(new u.d({totalrecords:this.Data.length,pagesize:1e3,pagenumber:1}))}),this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}viewRecord(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}getKey(t,e){return e.id}PaginationChange(t){this._store.dispatch(new In.e({attr:"pagenumber",value:t})),this._store.dispatch(new In.q({currentpage:t}))}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}showCode(t,e,i){this.View.emit({action:"showcode",value:t}),i.stopPropagation()}processChange(){this._store.dispatch(new In.m(this.selectall))}checkChange(){this.Data$.subscribe(t=>{const e=[];for(const i of t)i.Selected&&e.push(i);this.SelectedItems.emit(e)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(xn))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:9,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"text-nowrap"],["class","text-nowrap",4,"ngIf"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[1,"thumbnail",2,"width","68px","height","auto",3,"src"],[3,"innerHTML"],["href","#","title","Show Code","data-toggle","tooltip","data-original-title","Code",3,"click"],[1,"fa","fa-book","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(t,e){1&t&&(r.Dc(0,Nn,1,0,"app-loader",0),r.ec(1,"async"),r.Dc(2,io,3,2,"div",0),r.ec(3,"async"),r.Qb(4,"div",1),r.Qb(5,"pagination",2),r.bc("OnSelection",(function(t){return e.PaginationChange(t)})),r.ec(6,"async"),r.ec(7,"async"),r.ec(8,"async"),r.Pb(),r.Pb()),2&t&&(r.kc("ngIf",r.fc(1,5,e.loading$)),r.xb(2),r.kc("ngIf",!r.fc(3,7,e.loading$)),r.xb(3),r.kc("currentPage",r.fc(6,9,e.pagination$).currentPage)("totalRecords",r.fc(7,11,e.pagination$).totalRecords)("pageSize",r.fc(8,13,e.pagination$).pageSize))},directives:[s.u,Pt.a,wt.a,o.a,o.q,o.t,s.t,c.i,Ut.a],pipes:[s.b],encapsulation:2,data:{animation:[Object(Ht.k)("fadeIn",[Object(Ht.j)(":enter",[Object(Ht.i)({opacity:"0",background:"#f5fb98"}),Object(Ht.e)("300ms ease-out",Object(Ht.f)([Object(Ht.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(Ht.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(Ht.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),t})();function no(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",4),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function oo(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",0),r.Qb(2,"div",5),r.Qb(3,"app-navigation-v2",6),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)}))("SearchSelection",(function(e){return r.uc(t),r.dc().FindRecords(e)})),r.Pb(),r.Pb(),r.Qb(4,"div",7),r.Qb(5,"app-toolbar-v2",8),r.bc("Action",(function(e){return r.uc(t),r.dc().toolbaraction(e)})),r.Pb(),r.Qb(6,"div",9),r.Qb(7,"app-list",10),r.bc("View",(function(e){return r.uc(t),r.dc().toolbaraction(e)}))("SelectedItems",(function(e){return r.uc(t),r.dc().getSelectedItems(e)})),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.dc();r.xb(3),r.kc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.xb(2),r.kc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),r.xb(2),r.kc("isActionGranded",t.isActionGranded)}}let co=(()=>{class t{constructor(t,e,i,s,n,o,c){this._store=t,this.settingService=e,this.dataService=i,this.modalService=s,this.coreService=n,this.permission=o,this.router=c,this.filteroptions$=this._store.pipe(Object(f.n)(Gn)),this.isloaded$=this._store.pipe(Object(f.n)($n)),this.isItemSelected$=this._store.pipe(Object(f.n)(Kn)),this.records$=this._store.pipe(Object(f.n)(Fn)),this.pagination$=this._store.pipe(Object(f.n)(jn)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1,this.IsLoaded=!1,this.BadgeType=1}ngOnInit(){this.auth$.subscribe(t=>{const e="1521396255768";this.permission.GrandResourceAccess(!1,e,"1521396280060",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!0,this.SetupNavigationActions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{this.FilterOptions=Object.assign({},t),t.track_filter&&(this.dataService.LoadRecords(this.FilterOptions),t.track_filter=!1,this._store.dispatch(new In.p(this.FilterOptions)))}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,this.IsLoaded||this.loadRecords(this.FilterOptions)})}loadRecords(t){this.dataService.LoadRecords(t)}toolbaraction(t){switch(t.action){case"view":return void console.log(t.value);case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value);case"f_type":this.BadgeType=t.value,this._store.dispatch(new In.g(t.value)),this.SetupNavigationActions();break;case"pagesize":this._store.dispatch(new In.e({attr:"pagesize",value:t.value}));break;case"categories":this.router.navigate(["/settings/gamify/categories/"+this.BadgeType]);break;case"showcode":this.showCode(t.value)}}SetupNavigationActions(){this.SearchOptions.actions=this.settingService.initialize_actions(this.BadgeType)}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,this._store.dispatch(new In.p(e))}AddRecord(){this.router.navigate(["/settings/gamify/process/0/"+this.BadgeType])}showCode(t){const e=this.modalService.open(Cn,{backdrop:!1});e.componentInstance.Info={title:t.title,viewtype:0,data:t},e.result.then(t=>{console.log("back result"),console.log(t)},t=>{console.log("dismissed")})}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.isActionGranded){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}else this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(Qn),r.Kb(xn),r.Kb(n.b),r.Kb(b.a),r.Kb(dt.a),r.Kb(c.f))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Dc(3,no,3,0,"div",3),r.Dc(4,oo,8,5,"div",3),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.xb(3),r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,Ot.a,so],encapsulation:2,data:{animation:[Yt.a]}}),t})();function ao(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",1),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}function ro(t,e){1&t&&r.Lb(0,"app-loader")}function lo(t,e){if(1&t){const t=r.Rb();r.Qb(0,"dynamic-modal-form",11),r.bc("OnSubmit",(function(e){return r.uc(t),r.dc(2).SubmitForm(e)})),r.Pb()}if(2&t){const t=r.dc(2);r.kc("controls",t.controls)("showLoader",t.showLoader)("showCancel",!1)("showModal",!1)("submitText",t.submitText)}}function bo(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Qb(3,"div",4),r.Lb(4,"app-navigation-v2",5),r.Pb(),r.Pb(),r.Qb(5,"div",6),r.Qb(6,"div",4),r.Qb(7,"div",7),r.Qb(8,"h4",8),r.Fc(9),r.Pb(),r.Pb(),r.Qb(10,"div",9),r.Dc(11,ro,1,0,"app-loader",0),r.Dc(12,lo,1,5,"dynamic-modal-form",10),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc();r.xb(4),r.kc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.xb(5),r.Gc(t.formHeading),r.xb(2),r.kc("ngIf",t.showLoader),r.xb(1),r.kc("ngIf",!t.showLoader)}}let ho=(()=>{class t{constructor(t,e,i,s,n,o,c){this._store=t,this.settingService=e,this.dataService=i,this.route=s,this.permission=n,this.formService=o,this.router=c,this.BadgeID=0,this.BadgeType=1,this.controls=[],this.showLoader=!1,this.formHeading="Add Badge",this.submitText="Submit",this.IsLoaded=!1,this.Info={},this.categories$=this._store.pipe(Object(f.n)(Tn)),this.filteroptions$=this._store.pipe(Object(f.n)(Gn)),this.isloaded$=this._store.pipe(Object(f.n)($n)),this.isItemSelected$=this._store.pipe(Object(f.n)(Kn)),this.records$=this._store.pipe(Object(f.n)(Fn)),this.pagination$=this._store.pipe(Object(f.n)(jn)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.configs$=this._store.pipe(Object(f.n)(J.a)),this.isAccessGranted=!1,this.isActionGranded=!1,this.Configs={}}ngOnInit(){this.configs$.subscribe(t=>{this.Configs=t}),this.auth$.subscribe(t=>{const e="1539515772897";this.permission.GrandResourceAccess(!1,e,"1539515353167",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,this.IsLoaded||this.router.navigate(["/settings/gamify/"])}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[],this.route.params.subscribe(t=>{this.BadgeID=Number.parseInt(t.id,10),isNaN(this.BadgeID)&&(this.BadgeID=0),this.BadgeType=Number.parseInt(t.type,10),isNaN(this.BadgeType)&&(this.BadgeType=1),this.BadgeID>0?(this.formHeading="Update Badge",this.submitText="Update",this.LoadInfo()):(this.Info=this.settingService.getInitObject(),this.Info.type=this.BadgeType,this.initializeControls(this.Info))}),this.filteroptions$.subscribe(t=>{this.FilterOptions=Object.assign({},t)}),this.categories$.subscribe(t=>{if(this.controls.length>0)for(const e of this.controls)if("categoryid"===e.key)for(const i of t)e.options.push({key:i.id,value:i.title})})}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.BadgeID).subscribe(t=>{t.posts.length>0&&(this.Info=t.posts[0],this.initializeControls(this.Info)),this.showLoader=!1})}initializeControls(t){this.IsLoaded&&(this.controls=this.formService.getControls(t,this.Configs.general.media),this.loadCategories())}loadCategories(){this._store.dispatch(new In.f(this.BadgeType))}SubmitForm(t){if(!this.isActionGranded)return void this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}));this.showLoader=!0,t.type=this.BadgeType;let e="Added";this.BadgeID>0&&(t.id=this.BadgeID,e="Updated");for(const i of Object.keys(this.Info))for(const e of Object.keys(t))i===e&&(this.Info[i]=t[e]);console.log(this.Info),this.dataService.AddRecord(this.Info).subscribe(t=>{"error"===t.status?this._store.dispatch(new u.c({title:t.message,text:"",css:"bg-danger"})):(this._store.dispatch(new u.c({title:"Record "+e+" Successfully",text:"",css:"bg-danger"})),this._store.dispatch(new In.k({})),this.router.navigate(["/settings/gamify/"])),this.showLoader=!1},t=>{this.showLoader=!1,this._store.dispatch(new u.c({title:"Error Occured",text:"",css:"bg-danger"}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(f.h),r.Kb(Qn),r.Kb(xn),r.Kb(c.a),r.Kb(dt.a),r.Kb(_n),r.Kb(c.f))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"FilterOptions","Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(r.Dc(0,ao,3,0,"div",0),r.Dc(1,bo,13,5,"div",0)),2&t&&(r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,vt.a,wt.a,jt.a],encapsulation:2,data:{animation:[Yt.a]}}),t})();function po(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",1),r.Fc(2,"Access Denied"),r.Pb(),r.Pb())}const go=function(t){return{active:t}};function uo(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",14),r.Qb(1,"a",15),r.bc("click",(function(i){r.uc(t);const s=e.$implicit;return r.dc(2).filterCategories(s,i),!1})),r.Fc(2),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,i=r.dc(2);r.kc("ngClass",r.oc(3,go,i.CategoryType==t.value)),r.xb(1),r.lc("title",t.title),r.xb(1),r.Hc(" ",t.title," ")}}function fo(t,e){1&t&&r.Lb(0,"app-loader")}function mo(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr",23),r.Qb(1,"td"),r.Qb(2,"h4"),r.Fc(3),r.Pb(),r.Lb(4,"div",24),r.Pb(),r.Qb(5,"td"),r.Qb(6,"h5"),r.Fc(7),r.Pb(),r.Pb(),r.Qb(8,"td"),r.Fc(9),r.Pb(),r.Qb(10,"td",21),r.Qb(11,"a",25),r.bc("click",(function(i){r.uc(t);const s=e.$implicit;return r.dc(4).toggleEditView(s,i),!1})),r.Lb(12,"i",26),r.Pb(),r.Qb(13,"a",27),r.bc("click",(function(i){r.uc(t);const s=e.$implicit,n=e.index;return r.dc(4).delete(s,n,i),!1})),r.Lb(14,"i",28),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.kc("hidden",t.isdeleted),r.xb(3),r.Gc(t.title),r.xb(1),r.kc("innerHTML",t.description,r.vc),r.xb(3),r.Gc(t.shorttitle),r.xb(2),r.Hc(" ",t.priority," ")}}function vo(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",19),r.Qb(2,"table",20),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th",21),r.Fc(6," Title "),r.Pb(),r.Qb(7,"th",21),r.Fc(8," Short Title "),r.Pb(),r.Qb(9,"th",21),r.Fc(10," Priority "),r.Pb(),r.Qb(11,"th",21),r.Fc(12," Action "),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"tbody"),r.Dc(14,mo,15,5,"tr",22),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc(3);r.xb(14),r.kc("ngForOf",t.CategoryList)}}function Oo(t,e){1&t&&r.Lb(0,"app-norecord")}function Po(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div"),r.Qb(1,"div",16),r.Qb(2,"button",17),r.bc("click",(function(){return r.uc(t),r.dc(2).addCategory()})),r.Lb(3,"i",18),r.Fc(4," Add Category "),r.Pb(),r.Pb(),r.Dc(5,vo,15,1,"div",0),r.Dc(6,Oo,1,0,"app-norecord",0),r.Pb()}if(2&t){const t=r.dc(2);r.xb(5),r.kc("ngIf",t.CategoryList.length>0),r.xb(1),r.kc("ngIf",0===t.CategoryList.length)}}function wo(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"div",2),r.Qb(2,"div",3),r.Qb(3,"div",4),r.Qb(4,"div",5),r.Qb(5,"div",6),r.Fc(6,"Category Types"),r.Pb(),r.Qb(7,"ul",7),r.Dc(8,uo,3,5,"li",8),r.Pb(),r.Pb(),r.Pb(),r.Qb(9,"div",4),r.Lb(10,"app-navigation-v2",9),r.Pb(),r.Pb(),r.Qb(11,"div",10),r.Qb(12,"div",4),r.Qb(13,"div",11),r.Qb(14,"h4",12),r.Fc(15),r.Pb(),r.Pb(),r.Qb(16,"div",13),r.Dc(17,fo,1,0,"app-loader",0),r.Dc(18,Po,7,2,"div",0),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.dc();r.xb(8),r.kc("ngForOf",t.CategoryTypes),r.xb(2),r.kc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),r.xb(5),r.Gc(t.formHeading),r.xb(2),r.kc("ngIf",t.showLoader),r.xb(1),r.kc("ngIf",!t.showLoader)}}let yo=(()=>{class t{constructor(t,e,i,s,n,o,c,a,r){this.settingService=t,this.dataService=e,this.coreService=i,this._store=s,this.route=n,this.formService=o,this.permission=c,this.router=a,this.modalService=r,this.controls=[],this.showLoader=!1,this.formHeading="Manage Categories",this.CategoryTypes=ze.b.BADGES_TYPES,this.CategoryList=[],this.CategoryType=1,this.IsLoaded=!1,this.filteroptions$=this._store.pipe(Object(f.n)(Gn)),this.categories$=this._store.pipe(Object(f.n)(Tn)),this.isloaded$=this._store.pipe(Object(f.n)($n)),this.auth$=this._store.pipe(Object(f.n)(rt.a)),this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{const e="1539515772897";this.permission.GrandResourceAccess(!1,e,"1539515353167",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(e,t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[],this.categories$.subscribe(t=>{this.CategoryList=t}),this.route.params.subscribe(t=>{this.CategoryType=Number.parseInt(t.type,10),isNaN(this.CategoryType)?this.CategoryType=0:this.LoadCategories()}),this.filteroptions$.subscribe(t=>{this.FilterOptions=Object.assign({},t)}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,this.IsLoaded||this.loadRecords(this.FilterOptions)}),this.LoadCategories()}loadRecords(t){this.dataService.LoadRecords(t)}LoadCategories(){this._store.dispatch(new In.f(this.CategoryType))}filterCategories(t,e){this.CategoryType=t.value,this.LoadCategories(),e.stopPropagation()}toggleEditView(t,e){this._addCategory(t),e.stopPropagation()}addCategory(){const t=this.settingService.getInitCategoryObject();t.type=this.CategoryType,this._addCategory(t)}_addCategory(t){const e=this.modalService.open(Cn,{backdrop:!1});e.componentInstance.Info={title:"Add Category",isActionGranded:this.isActionGranded,viewtype:1,data:t},e.result.then(t=>{t.data.type=this.CategoryType,this.dataService.AddCategory(t.data)},t=>{console.log("dismissed")})}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteCategory(t,e):this._store.dispatch(new u.c({title:"Permission Denied",text:"",css:"bg-danger"}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Qn),r.Kb(xn),r.Kb(b.a),r.Kb(f.h),r.Kb(c.a),r.Kb(_n),r.Kb(dt.a),r.Kb(c.f),r.Kb(n.b))},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[1,"card-body","inbox-panel"],[1,"m-b-10"],[1,"list-group","list-group-full"],["class","list-group-item",3,"ngClass",4,"ngFor","ngForOf"],[3,"FilterOptions","Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[1,"list-group-item",3,"ngClass"],["href","#",3,"title","click"],[1,"m-b-10","m-t-10"],["type","button",1,"btn","btn-dark","m-r-5",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"],[3,"innerHTML"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(t,e){1&t&&(r.Dc(0,po,3,0,"div",0),r.Dc(1,wo,19,6,"div",0)),2&t&&(r.kc("ngIf",!e.isAccessGranted),r.xb(1),r.kc("ngIf",e.isAccessGranted))},directives:[s.u,s.t,vt.a,s.r,wt.a,Ut.a],encapsulation:2,data:{animation:[Yt.a]}}),t})();const So=[{path:"",component:at,data:{title:"Settings Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Management"}]},children:[{path:"",component:ht},{path:"blockip",children:[{path:"",component:oe}],data:{title:"BlockIP Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Block IP",url:"/settings/blockip"},{title:"Management"}]}},{path:"categories",children:[{path:"",component:_e},{path:"process/:id",component:De},{path:"process/add/:parentid",component:De},{path:"process",component:De}],data:{title:"Categories Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Categories",url:"/settings/categories"},{title:"Management"}]}},{path:"gamify",children:[{path:"",component:co},{path:"process/:id/:type",component:ho},{path:"process",component:ho},{path:"categories/:type",component:yo,data:{title:"Manage Gamify",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Gamify",url:"/settings/gamify"},{title:"Manage Categories"}]}},{path:"categories",component:yo,data:{title:"Manage Gamify",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Gamify",url:"/settings/gamify"},{title:"Manage Categories"}]}}],data:{title:"Gamify Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Gamify",url:"/settings/gamify"},{title:"Management"}]}},{path:"configurations",children:[{path:"",component:Ne},{path:"filter/:type",component:Ne}],data:{title:"Configuration Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Configurations",url:"/settings/configurations"},{title:"Management"}]}},{path:"dictionary",children:[{path:"",component:Ti}],data:{title:"Dictionary Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Dictionary",url:"/settings/dictionary"},{title:"Management"}]}},{path:"roles",children:[{path:"",component:ai},{path:"process/:id",component:ui}],data:{title:"Roles Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Roles",url:"/settings/roles"},{title:"Management"}]}},{path:"language",children:[{path:"",component:os}],data:{title:"Language Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Language",url:"/settings/language"},{title:"Management"}]}},{path:"log",children:[{path:"",component:ks}],data:{title:"Log Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Log",url:"/settings/log"},{title:"Management"}]}},{path:"mailtemplates",children:[{path:"",component:Bs},{path:"process/:id",component:qs},{path:"process",component:qs}],data:{title:"Mailtemplates Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Mail Templates",url:"/settings/mailtemplates"},{title:"Management"}]}},{path:"tags",children:[{path:"",component:kn}],data:{title:"Tags Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Tags",url:"/settings/tags"},{title:"Management"}]}},{path:"advertisements",data:{title:"Advertisement Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Advertisement",url:"/settings/advertisements"},{title:"Management"}]},children:[{path:"",component:Rt}]}]}];let ko=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[c.j.forChild(So)],c.j]}),t})(),_o=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[T.a,M.a,K],imports:[[s.c,a.a,o.l]]}),t})(),Io=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Qn,xn],imports:[[s.c,a.a,o.l,c.j]]}),t})(),Qo=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Qn,xn,_n],imports:[[s.c,a.a,o.l]]}),t})(),xo=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Qn,xn,_n],imports:[[s.c,a.a,o.l]]}),t})(),Ao=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[s.c,n.c,d,O,S,I,F,G,V,q,tt,ct,ko,N,it,A,_o,Io,Qo,xo]]}),t})()}}]);