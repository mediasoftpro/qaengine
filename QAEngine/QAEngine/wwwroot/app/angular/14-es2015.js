(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/H0e":function(t,e,i){"use strict";i.d(e,"a",(function(){return C}));var s=i("fXoL"),n=i("ofXK"),c=i("3Pt+"),o=i("Egam"),r=i("tyNb");function a(t,e){if(1&t){const t=s.Tb();s.Sb(0,"a",11),s.ec("click",(function(e){return s.xc(t),s.gc(3).toggleSearch(e),!1})),s.Gc(1),s.Rb()}if(2&t){const t=s.gc(3);s.zb(1),s.Hc(t.AdvanceText)}}function b(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div",15),s.Sb(1,"label",16),s.Sb(2,"input",17),s.ec("ngModelChange",(function(i){return s.xc(t),e.$implicit.selected=i})),s.Rb(),s.Gc(3),s.Rb(),s.Rb()}if(2&t){const t=e.$implicit;s.zb(2),s.nc("ngModel",t.selected),s.zb(1),s.Ic(" ",t.title," ")}}function l(t,e){if(1&t&&(s.Sb(0,"div",13),s.Ec(1,b,4,2,"div",14),s.Nb(2,"hr"),s.Rb()),2&t){const t=s.gc(4);s.zb(1),s.nc("ngForOf",t.Options.filters)}}function d(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div",15),s.Sb(1,"label",16),s.Sb(2,"input",20),s.ec("change",(function(e){s.xc(t);const i=s.gc().$implicit;return s.gc(5).choose(i,e)})),s.Rb(),s.Gc(3),s.Rb(),s.Rb()}if(2&t){const t=e.$implicit,i=s.gc().$implicit;s.zb(2),s.oc("value",t.value),s.oc("name",i.group),s.nc("checked",i.value==t.value),s.zb(1),s.Ic(" ",t.title," ")}}function p(t,e){if(1&t&&(s.Sb(0,"div",13),s.Sb(1,"div",13),s.Sb(2,"strong"),s.Gc(3),s.Rb(),s.Rb(),s.Ec(4,d,4,4,"div",19),s.Rb()),2&t){const t=e.$implicit;s.zb(3),s.Hc(t.caption),s.zb(1),s.nc("ngForOf",t.options)}}function h(t,e){if(1&t&&(s.Sb(0,"div",13),s.Ec(1,p,5,2,"div",18),s.Nb(2,"hr"),s.Rb()),2&t){const t=s.gc(4);s.zb(1),s.nc("ngForOf",t.Options.checkFilters)}}function f(t,e){if(1&t&&(s.Sb(0,"option",24),s.Gc(1),s.Rb()),2&t){const t=e.$implicit;s.nc("value",t.value),s.zb(1),s.Hc(t.title)}}function g(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div"),s.Sb(1,"div",5),s.Sb(2,"label"),s.Gc(3),s.Rb(),s.Sb(4,"select",22),s.ec("ngModelChange",(function(i){return s.xc(t),e.$implicit.value=i})),s.Ec(5,f,2,2,"option",23),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=e.$implicit;s.zb(3),s.Hc(t.caption),s.zb(1),s.nc("ngModel",t.value),s.zb(1),s.nc("ngForOf",t.options)}}function u(t,e){if(1&t&&(s.Sb(0,"div"),s.Ec(1,g,6,3,"div",21),s.Rb()),2&t){const t=s.gc(4);s.zb(1),s.nc("ngForOf",t.Options.dropdownFilters)}}function m(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div",5),s.Sb(1,"ng-multiselect-dropdown",25),s.ec("ngModelChange",(function(e){return s.xc(t),s.gc(4).Options.selectedcategory=e})),s.Rb(),s.Rb()}if(2&t){const t=s.gc(4);s.zb(1),s.nc("placeholder",t.Options.multiselectOptions.placeholder)("data",t.Options.categories)("ngModel",t.Options.selectedcategory)("settings",t.Options.multiselectOptions.dropdownSettings)}}function S(t,e){if(1&t&&(s.Sb(0,"div"),s.Ec(1,l,3,1,"div",1),s.Ec(2,h,3,1,"div",1),s.Ec(3,u,2,1,"div",3),s.Ec(4,m,2,4,"div",12),s.Rb()),2&t){const t=s.gc(3);s.zb(1),s.nc("ngIf",t.Options.filters.length>0),s.zb(1),s.nc("ngIf",t.Options.checkFilters.length>0),s.zb(1),s.nc("ngIf",t.Options.dropdownFilters.length>0),s.zb(1),s.nc("ngIf",t.Options.categories.length>0)}}function v(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div"),s.Sb(1,"div",5),s.Sb(2,"input",6),s.ec("ngModelChange",(function(e){return s.xc(t),s.gc(2).Options.term=e})),s.Rb(),s.Ec(3,a,2,1,"a",7),s.Rb(),s.Ec(4,S,5,4,"div",3),s.Sb(5,"div",8),s.Sb(6,"button",9),s.ec("click",(function(){return s.xc(t),s.gc(2).FindRecords()})),s.Nb(7,"i",10),s.Gc(8),s.Rb(),s.Rb(),s.Nb(9,"hr"),s.Rb()}if(2&t){const t=s.gc(2);s.zb(2),s.nc("ngModel",t.Options.term),s.zb(1),s.nc("ngIf",t.Options.showAdvanceSearchLink),s.zb(1),s.nc("ngIf",t.showAdvanceOptions),s.zb(4),s.Ic(" ",t.SearchBtnText," ")}}function R(t,e){if(1&t){const t=s.Tb();s.Sb(0,"button",28),s.ec("click",(function(i){s.xc(t);const n=e.$implicit;return s.gc(3).toolbaraction(n.event,n.options,i),!1})),s.Gc(1),s.Rb()}if(2&t){const t=e.$implicit;s.Bb(t.css),s.zb(1),s.Ic(" ",t.title," ")}}function I(t,e){if(1&t&&(s.Sb(0,"div",26),s.Sb(1,"div",13),s.Gc(2,"Actions"),s.Rb(),s.Ec(3,R,2,4,"button",27),s.Rb()),2&t){const t=s.gc(2);s.zb(3),s.nc("ngForOf",t.Options.actions)}}function y(t,e){if(1&t&&s.Nb(0,"i"),2&t){const t=s.gc(2).$implicit;s.Bb(t.css)}}function A(t,e){if(1&t&&(s.Sb(0,"a",34),s.Ec(1,y,1,3,"i",35),s.Gc(2),s.Rb()),2&t){const t=s.gc().$implicit;s.oc("routerLink",t.url),s.oc("title",t.title),s.zb(1),s.nc("ngIf",""!=t.css),s.zb(1),s.Ic(" ",t.title," ")}}function O(t,e){if(1&t&&s.Nb(0,"i"),2&t){const t=s.gc(2).$implicit;s.Bb(t.css)}}function w(t,e){if(1&t){const t=s.Tb();s.Sb(0,"a",36),s.ec("click",(function(e){s.xc(t);const i=s.gc().$implicit;return s.gc(3).toolbaraction(i.event,i.options,e),!1})),s.Ec(1,O,1,3,"i",35),s.Gc(2),s.Rb()}if(2&t){const t=s.gc().$implicit;s.oc("title",t.title),s.zb(1),s.nc("ngIf",""!=t.css),s.zb(1),s.Ic(" ",t.title," ")}}function T(t,e){if(1&t&&(s.Sb(0,"li",31),s.Ec(1,A,3,4,"a",32),s.Ec(2,w,3,3,"a",33),s.Rb()),2&t){const t=e.$implicit;s.zb(1),s.nc("ngIf",!t.clickevent),s.zb(1),s.nc("ngIf",t.clickevent)}}function z(t,e){if(1&t&&(s.Sb(0,"div",26),s.Sb(1,"div",13),s.Gc(2,"Navigation"),s.Rb(),s.Sb(3,"ul",29),s.Ec(4,T,3,2,"li",30),s.Rb(),s.Rb()),2&t){const t=s.gc(2);s.zb(4),s.nc("ngForOf",t.Options.navList)}}function k(t,e){if(1&t&&(s.Sb(0,"div",2),s.Ec(1,v,10,4,"div",3),s.Ec(2,I,4,1,"div",4),s.Ec(3,z,5,1,"div",4),s.Rb()),2&t){const t=s.gc();s.zb(1),s.nc("ngIf",t.Options.showSearchPanel),s.zb(1),s.nc("ngIf",t.Options.actions.length>0),s.zb(1),s.nc("ngIf",t.Options.navList.length>0)}}function G(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div",43),s.Sb(1,"input",44),s.ec("ngModelChange",(function(e){return s.xc(t),s.gc(2).Options.term=e})),s.Rb(),s.Sb(2,"div",45),s.Sb(3,"button",46),s.ec("click",(function(){return s.xc(t),s.gc(2).FindRecords()})),s.Gc(4,"Go"),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=s.gc(2);s.zb(1),s.nc("ngModel",t.Options.term)}}function x(t,e){if(1&t&&(s.Sb(0,"option",24),s.Gc(1),s.Rb()),2&t){const t=e.$implicit;s.nc("value",t.value),s.zb(1),s.Hc(t.title)}}function _(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div",41),s.Sb(1,"select",47),s.ec("change",(function(){return s.xc(t),s.gc(2).FindRecords()}))("ngModelChange",(function(i){return s.xc(t),e.$implicit.value=i})),s.Ec(2,x,2,2,"option",23),s.Rb(),s.Rb()}if(2&t){const t=e.$implicit;s.zb(1),s.nc("ngModel",t.value),s.zb(1),s.nc("ngForOf",t.options)}}function E(t,e){if(1&t){const t=s.Tb();s.Sb(0,"button",48),s.ec("click",(function(i){s.xc(t);const n=e.$implicit;return s.gc(2).toolbaraction(n.event,n.options,i),!1})),s.Gc(1),s.Rb()}if(2&t){const t=e.$implicit;s.oc("title",t.tooltip),s.zb(1),s.Ic(" ",t.title," ")}}function L(t,e){if(1&t&&(s.Sb(0,"div",13),s.Sb(1,"div",37),s.Sb(2,"div",38),s.Ec(3,G,5,1,"div",39),s.Rb(),s.Ec(4,_,3,2,"div",40),s.Sb(5,"div",41),s.Ec(6,E,2,2,"button",42),s.Rb(),s.Rb(),s.Rb()),2&t){const t=s.gc();s.zb(3),s.nc("ngIf",t.Options.showSearchPanel),s.zb(1),s.nc("ngForOf",t.Options.dropdownFilters),s.zb(2),s.nc("ngForOf",t.Options.actions)}}let C=(()=>{class t{constructor(){this.ItemsSelected=!1,this.isAdmin=!0,this.SearchBtnText="Find Records",this.OnSelection=new s.n,this.Action=new s.n,this.SearchSelection=new s.n,this.AdvanceText="Advance Search",this.showAdvanceOptions=!1}ngOnInit(){}onSelect(t){this.Options.selectedcategory=t.id}toggleSearch(t){this.showAdvanceOptions?(this.showAdvanceOptions=!1,this.AdvanceText="Advance Search"):(this.showAdvanceOptions=!0,this.AdvanceText="Hide Search"),t.stopPropagation()}FindRecords(){if(void 0!==this.FilterOptions){if(this.FilterOptions.term=this.Options.term,this.Options.filters.length>0)for(const e of this.Options.filters)for(var t in this.FilterOptions)t===e.attr&&(this.FilterOptions[t]=e.selected?e.value:e.default_value);if(this.Options.checkFilters.length>0)for(const e of this.Options.checkFilters)for(var t in this.FilterOptions)t===e.attr&&(this.FilterOptions[t]=e.value);if(this.Options.dropdownFilters.length>0)for(const e of this.Options.dropdownFilters)for(var t in this.FilterOptions)t===e.attr&&(this.FilterOptions[t]=e.value);if(void 0!==this.Options.selectedcategory&&this.Options.selectedcategory.length>0){for(let t of this.Options.selectedcategory)this.FilterOptions.category_ids.push(t.key);this.FilterOptions.category_ids=this.Options.selectedcategory}void 0!==this.Options.datefilter&&(this.FilterOptions.datefilter=this.Options.datefilter),this.SearchSelection.emit({filters:this.FilterOptions})}}toolbaraction(t,e,i){this.Action.emit({action:t,value:e}),i.stopPropagation()}choose(t,e){t.value=e.target.value}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Gb({type:t,selectors:[["app-navigation-v2"]],inputs:{Options:"Options",ItemsSelected:"ItemsSelected",FilterOptions:"FilterOptions",isAdmin:"isAdmin",SearchBtnText:"SearchBtnText",AdvanceText:"AdvanceText"},outputs:{OnSelection:"OnSelection",Action:"Action",SearchSelection:"SearchSelection"},decls:2,vars:2,consts:[["class","card-body border-secondary",4,"ngIf"],["class","m-b-10",4,"ngIf"],[1,"card-body","border-secondary"],[4,"ngIf"],["class","m-t-10",4,"ngIf"],[1,"form-group"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],["href","#",3,"click",4,"ngIf"],[1,"form-group","m-t-10"],[1,"btn","btn-danger","m-b-5","p-10","btn-block",3,"click"],[1,"icon-search4","text-size-base","position-left"],["href","#",3,"click"],["class","form-group",4,"ngIf"],[1,"m-b-10"],["class","form-check  p-l-0 p-r-0 m-b-5",4,"ngFor","ngForOf"],[1,"form-check","p-l-0","p-r-0","m-b-5"],[1,"form-check-label"],["type","checkbox",3,"ngModel","ngModelChange"],["class","m-b-10",4,"ngFor","ngForOf"],["class","form-check p-l-0 p-r-0 m-b-5",4,"ngFor","ngForOf"],["type","radio",3,"value","name","checked","change"],[4,"ngFor","ngForOf"],[1,"form-control","form-control-line",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"placeholder","data","ngModel","settings","ngModelChange"],[1,"m-t-10"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"list-group","list-group-full"],["class","list-group-item","routerLinkActive","active",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"list-group-item"],[3,"routerLink","title",4,"ngIf"],["href","#",3,"title","click",4,"ngIf"],[3,"routerLink","title"],[3,"class",4,"ngIf"],["href","#",3,"title","click"],[1,"row"],[1,"col"],["class","input-group mb-3",4,"ngIf"],["class","col-md-auto",4,"ngFor","ngForOf"],[1,"col-md-auto"],["class","btn btn-primary m-l-5",3,"title","click",4,"ngFor","ngForOf"],[1,"input-group","mb-3"],["type","text","placeholder","Search ...","aria-label","Search ...","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"form-control",3,"ngModel","change","ngModelChange"],[1,"btn","btn-primary","m-l-5",3,"title","click"]],template:function(t,e){1&t&&(s.Ec(0,k,4,3,"div",0),s.Ec(1,L,7,3,"div",1)),2&t&&(s.nc("ngIf",e.isAdmin),s.zb(1),s.nc("ngIf",!e.isAdmin))},directives:[n.o,c.c,c.n,c.q,n.n,c.a,c.v,c.s,c.x,o.a,r.d,r.e],encapsulation:2}),t})()},pdjO:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i("R0Ic");const n=Object(s.k)("fadeInAnimation",[Object(s.j)(":enter",[Object(s.i)({opacity:0,background:"#ff0000"}),Object(s.e)(".8s",Object(s.i)({opacity:1}))])])},u65S:function(t,e,i){"use strict";i.r(e);var s=i("1kSV"),n=i("ofXK"),c=i("3Pt+"),o=i("tyNb"),r=i("mrSG"),a=i("Usal"),b=i("pz8m"),l=i("7NWl"),d=i("fXoL"),p=i("LEd3"),h=i("5zJ1"),f=i("+kG/");let g=(()=>{class t{constructor(t,e,i,s,n,c){this.activeModal=t,this.service=e,this.dataService=i,this.coreActions=s,this.router=n,this.actions=c,this.showLoader=!1,this.controls=[],this.list=[]}ngOnInit(){this.title=this.Info.title,this.viewType=this.Info.viewType,this.controls=this.service.getControls(this.Info.data,this.viewType)}SubmitForm(t){if(void 0===this.Info.isActionGranded||this.Info.isActionGranded){if(1!==this.Info.viewType&&4!==this.Info.viewType||t.password!==t.cpassword&&this.coreActions.Notify({title:"Password Not Matched",text:"",css:"bg-danger"}),this.showLoader=!0,2!==this.Info.viewType)for(const e of Object.keys(this.Info.data))for(const i of Object.keys(t))e===i&&(this.Info.data[e]=t[i]);this.dataService.AddRecord(this.Info.data).subscribe(t=>{if("error"===t.status)this.coreActions.Notify({title:t.message,text:"",css:"bg-danger"});else{let e="Account Created Successfully";this.actions.addRecord(t.record),this.coreActions.Notify({title:e,text:"",css:"bg-success"}),1===this.Info.viewType&&this.router.navigate(["/users/profile/"+t.record.id]),this.activeModal.close({data:t.record})}this.showLoader=!1},t=>{this.showLoader=!1,this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(s.a),d.Mb(b.a),d.Mb(l.a),d.Mb(p.a),d.Mb(o.c),d.Mb(h.a))},t.\u0275cmp=d.Gb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[d.yb([b.a,l.a])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"h4",1),d.Gc(2),d.Rb(),d.Sb(3,"button",2),d.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),d.Sb(4,"span",3),d.Gc(5,"\xd7"),d.Rb(),d.Rb(),d.Rb(),d.Sb(6,"dynamic-modal-form",4),d.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),d.Rb()),2&t&&(d.zb(2),d.Hc(e.title),d.zb(4),d.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[f.a],encapsulation:2}),t})();var u=i("pdjO"),m=i("zwrK"),S=i("Hjmt"),v=i("/H0e"),R=i("4HLj"),I=i("R0Ic");function y(t,e){if(1&t&&(d.Sb(0,"h4",3),d.Gc(1),d.Rb()),2&t){const t=d.gc(2);d.zb(1),d.Hc(t.heading)}}function A(t,e){if(1&t&&(d.Sb(0,"div",1),d.Ec(1,y,2,1,"h4",2),d.Sb(2,"p"),d.Gc(3),d.Rb(),d.Rb()),2&t){const t=d.gc();d.Cb("alert ",t.alertCss,""),d.zb(1),d.nc("ngIf",""!=t.heading),d.zb(2),d.Hc(t.message)}}let O=(()=>{class t{constructor(){this.alert="error",this.icon="",this.heading="",this.message="",this.showAlert=!1,this.alertCss="alert-danger"}ngOnInit(){this.message$.subscribe(t=>{""!=t.message&&(this.message=t.message,this.alert=t.alert,this.heading=t.heading,this.togglerAlert(),this.updateAlert(),this.InitializeInterval())}),this.togglerAlert(),this.updateAlert()}ngOnChanges(){this.togglerAlert(),this.updateAlert(),this.InitializeInterval()}InitializeInterval(){var t=setInterval(()=>{""!==this.message&&(this.message="",this.showAlert=!1),clearInterval(t)},1e4)}togglerAlert(){this.showAlert=""!==this.message}updateAlert(){switch(this.alert){case"error":this.alertCss="alert-danger";break;case"warning":this.alertCss="alert-warning";break;case"info":this.alertCss="alert-info";break;case"success":this.alertCss="alert-success"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Gb({type:t,selectors:[["app-alert"]],inputs:{alert:"alert",icon:"icon",heading:"heading",message:"message"},features:[d.xb],decls:1,vars:1,consts:[["role","alert",3,"class",4,"ngIf"],["role","alert"],["class","alert-heading",4,"ngIf"],[1,"alert-heading"]],template:function(t,e){1&t&&d.Ec(0,A,4,5,"div",0),2&t&&d.nc("ngIf",e.showAlert)},directives:[n.o],encapsulation:2}),Object(r.a)([Object(a.e)(["core","message"])],t.prototype,"message$",void 0),t})();var w=i("cScK"),T=i("RDfn");function z(t,e){1&t&&d.Nb(0,"app-loader")}const k=function(t){return[t]};function G(t,e){if(1&t&&(d.Sb(0,"a",16),d.Nb(1,"img",17),d.Rb()),2&t){const t=d.gc().$implicit,e=d.gc(3);d.nc("routerLink",d.rc(3,k,e.route_path+"profile/"+t.id)),d.zb(1),d.oc("src",t.img_url,d.zc),d.oc("alt",t.title)}}function x(t,e){if(1&t&&(d.Sb(0,"a",18),d.Nb(1,"img",17),d.Rb()),2&t){const t=d.gc().$implicit;d.oc("href",t.url,d.zc),d.zb(1),d.oc("src",t.img_url,d.zc),d.oc("alt",t.title)}}function _(t,e){if(1&t&&(d.Sb(0,"p",19),d.Gc(1),d.Rb()),2&t){const t=d.gc().$implicit;d.zb(1),d.Jc(" ",t.firstname," ",t.lastname," ")}}function E(t,e){if(1&t&&(d.Sb(0,"p",19),d.Gc(1),d.Rb()),2&t){const t=d.gc().$implicit;d.zb(1),d.Ic(" ",t.userName," ")}}function L(t,e){1&t&&(d.Sb(0,"span",24),d.Gc(1,"Inactive"),d.Rb())}function C(t,e){1&t&&(d.Sb(0,"span",25),d.Gc(1,"Active"),d.Rb())}function M(t,e){1&t&&(d.Sb(0,"span",26),d.Gc(1,"Blocked"),d.Rb())}function F(t,e){if(1&t&&(d.Sb(0,"p",20),d.Ec(1,L,2,0,"span",21),d.Ec(2,C,2,0,"span",22),d.Ec(3,M,2,0,"span",23),d.Rb()),2&t){const t=d.gc().$implicit;d.zb(1),d.nc("ngIf",!t.emailConfirmed),d.zb(1),d.nc("ngIf",t.emailConfirmed),d.zb(1),d.nc("ngIf",0===t.isenabled)}}function N(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div",27),d.Sb(1,"div",28),d.Sb(2,"label",29),d.Sb(3,"input",30),d.ec("ngModelChange",(function(e){return d.xc(t),d.gc().$implicit.Selected=e}))("ngModelChange",(function(){return d.xc(t),d.gc(4).checkChange()})),d.Rb(),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=d.gc().$implicit;d.zb(2),d.oc("for",t.id),d.zb(1),d.oc("id",t.id),d.nc("ngModel",t.Selected)}}function $(t,e){if(1&t&&(d.Sb(0,"div",7),d.Sb(1,"div",8),d.Ec(2,G,2,5,"a",9),d.Ec(3,x,2,3,"a",10),d.Sb(4,"div",11),d.Ec(5,_,2,2,"p",12),d.Ec(6,E,2,1,"p",12),d.Sb(7,"p",13),d.Gc(8),d.hc(9,"date"),d.Rb(),d.Ec(10,F,4,3,"p",14),d.Ec(11,N,4,3,"div",15),d.Rb(),d.Rb(),d.Rb()),2&t){const t=e.$implicit,i=d.gc(3);d.nc("hidden",t.isdeleted),d.zb(2),d.nc("ngIf",i.isAdmin&&!i.PublicView),d.zb(1),d.nc("ngIf",!i.isAdmin||i.PublicView),d.zb(2),d.nc("ngIf",""!==t.firstname),d.zb(1),d.nc("ngIf",""===t.firstname||null===t.firstname),d.zb(2),d.Ic(" Created: ",d.jc(9,8,t.created_at,"mediumDate")," "),d.zb(2),d.nc("ngIf",!i.PublicView),d.zb(1),d.nc("ngIf",!i.PublicView)}}function j(t,e){if(1&t&&(d.Sb(0,"div",5),d.Ec(1,$,12,11,"div",6),d.hc(2,"async"),d.Rb()),2&t){const t=d.gc(2);d.zb(1),d.nc("ngForOf",d.ic(2,2,t.Data$))("ngForTrackBy",t.getKey)}}function D(t,e){if(1&t&&(d.Sb(0,"div",5),d.Sb(1,"div",31),d.Sb(2,"div",32),d.Sb(3,"h3",33),d.Gc(4),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&t){const t=d.gc(2);d.zb(4),d.Hc(t.NoRecordText)}}function P(t,e){if(1&t&&(d.Sb(0,"div"),d.Ec(1,j,3,4,"div",4),d.hc(2,"async"),d.Ec(3,D,5,1,"div",4),d.hc(4,"async"),d.Rb()),2&t){const t=d.gc();d.zb(1),d.nc("ngIf",d.ic(2,2,t.Data$).length>0),d.zb(2),d.nc("ngIf",0==d.ic(4,4,t.Data$).length)}}let U=(()=>{class t{constructor(t,e,i,s){this.actions=t,this.dataService=e,this.coreActions=i,this.router=s,this.isActionGranded=!1,this.PublicView=!1,this.isAdmin=!0,this.route_path="/users/",this.NoRecordText="No Users Registered Yet!",this.View=new d.n,this.SelectedItems=new d.n,this.selectall=!1}ngOnInit(){this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}getKey(t,e){return e.id}PaginationChange(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}checkChange(){this.Data$.subscribe(t=>{const e=[];for(const i of t)i.Selected&&e.push(i);this.SelectedItems.emit(e)})}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(h.a),d.Mb(l.a),d.Mb(p.a),d.Mb(o.c))},t.\u0275cmp=d.Gb({type:t,selectors:[["app-userlist"]],inputs:{isActionGranded:"isActionGranded",PublicView:"PublicView",isAdmin:"isAdmin",route_path:"route_path",NoRecordText:"NoRecordText"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:11,vars:15,consts:[[4,"ngIf"],[2,"padding","15px 10px"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],["class","row",4,"ngIf"],[1,"row"],["class","col-md-3 col-xs-6 videolist",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-3","col-xs-6","videolist",3,"hidden"],[1,"card-img-top","img-responsive"],[3,"routerLink",4,"ngIf"],[3,"href",4,"ngIf"],[1,"m-t-10"],["class","title m-b-0 truncate",4,"ngIf"],[1,"light-item"],["class","card-text",4,"ngIf"],["class","mx-auto","style","width: 50px;",4,"ngIf"],[3,"routerLink"],[1,"img-responsive",2,"cursor","pointer",3,"src","alt"],[3,"href"],[1,"title","m-b-0","truncate"],[1,"card-text"],["class","badge badge-danger m-r-5 m-b-5",4,"ngIf"],["class","badge badge-success m-r-5 m-b-5",4,"ngIf"],["class","badge badge-info m-r-5 m-b-5",4,"ngIf"],[1,"badge","badge-danger","m-r-5","m-b-5"],[1,"badge","badge-success","m-r-5","m-b-5"],[1,"badge","badge-info","m-r-5","m-b-5"],[1,"mx-auto",2,"width","50px"],[1,"form-check"],[3,"for"],["type","checkbox",3,"ngModel","id","ngModelChange"],[1,"col-md-12"],[2,"padding","80px 0px"],[2,"text-align","center"]],template:function(t,e){1&t&&(d.Ec(0,z,1,0,"app-loader",0),d.hc(1,"async"),d.Sb(2,"div",1),d.Nb(3,"app-alert"),d.Ec(4,P,5,6,"div",0),d.hc(5,"async"),d.Rb(),d.Sb(6,"div",2),d.Sb(7,"pagination",3),d.ec("OnSelection",(function(t){return e.PaginationChange(t)})),d.hc(8,"async"),d.hc(9,"async"),d.hc(10,"async"),d.Rb(),d.Rb()),2&t&&(d.nc("ngIf",d.ic(1,5,e.loading$)),d.zb(4),d.nc("ngIf",!d.ic(5,7,e.loading$)),d.zb(3),d.nc("currentPage",d.ic(8,9,e.pagination$).currentPage)("totalRecords",d.ic(9,11,e.pagination$).totalRecords)("pageSize",d.ic(10,13,e.pagination$).pageSize))},directives:[n.o,O,w.a,T.a,n.n,o.e,c.a,c.n,c.q],pipes:[n.b,n.e],encapsulation:2,data:{animation:[Object(I.k)("fadeIn",[Object(I.j)(":enter",[Object(I.i)({opacity:"0",background:"#f5fb98"}),Object(I.e)("300ms ease-out",Object(I.f)([Object(I.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(I.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(I.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(r.a)([Object(a.e)(["users","posts"])],t.prototype,"Data$",void 0),Object(r.a)([Object(a.e)(["users","loading"])],t.prototype,"loading$",void 0),Object(r.a)([Object(a.e)(["users","pagination"])],t.prototype,"pagination$",void 0),Object(r.a)([Object(a.e)(["users","selectall"])],t.prototype,"selectAll$",void 0),t})();function H(t,e){1&t&&(d.Sb(0,"div"),d.Sb(1,"h2",4),d.Gc(2,"Access Denied"),d.Rb(),d.Rb())}function q(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div"),d.Sb(1,"div",0),d.Sb(2,"div",5),d.Sb(3,"app-navigation-v2",6),d.ec("Action",(function(e){return d.xc(t),d.gc().toolbaraction(e)}))("SearchSelection",(function(e){return d.xc(t),d.gc().FindRecords(e)})),d.Rb(),d.Rb(),d.Sb(4,"div",7),d.Sb(5,"app-toolbar-v2",8),d.ec("Action",(function(e){return d.xc(t),d.gc().toolbaraction(e)}))("SelectAllCard",(function(e){return d.xc(t),d.gc().selectAll(e)})),d.Rb(),d.Sb(6,"div",9),d.Sb(7,"app-userlist",10),d.ec("View",(function(e){return d.xc(t),d.gc().toolbaraction(e)}))("SelectedItems",(function(e){return d.xc(t),d.gc().getSelectedItems(e)})),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=d.gc();d.zb(3),d.nc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),d.zb(2),d.nc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),d.zb(2),d.nc("isActionGranded",t.isActionGranded)}}let V=(()=>{class t{constructor(t,e,i,s,n,c,o){this.settingService=t,this.dataService=e,this.modalService=i,this.coreActions=s,this.permission=n,this.actions=c,this.router=o,this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1}ngOnInit(){this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.ToolbarOptions.showcheckAll=!0,this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521143362403","1521143407965",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521143362403",t.Role)&&(this.isActionGranded=!0))}),this.filteroptions$.subscribe(t=>{this.FilterOptions=t,t.track_filter&&(this.dataService.LoadRecords(t),t.track_filter=!1,this.actions.updateFilterOptions(t))}),this.isloaded$.subscribe(t=>{t||this.dataService.LoadRecords(this.FilterOptions)}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t})}ngAfterViewInit(){}selectAll(t){this.actions.selectAll(t)}toolbaraction(t){if(this.isActionGranded)switch(t.action){case"add":return void this.Trigger_Modal({title:"Create Account",data:this.settingService.getInitObject(),viewType:1});case"settings":return void this.router.navigate(["/users/settings"]);case"m_markas":return void this.ProcessActions(t.value);case"m_filter":this.actions.applyFilter({attr:"datefilter",value:t.value});break;case"sort":this.actions.applyFilter({attr:"direction",value:t.value})}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,null!==e.categoryname&&""!==e.categoryname&&(e.accounttype=e.categoryname),this.actions.updateFilterOptions(e)}Trigger_Modal(t){const e=this.modalService.open(g,{backdrop:!1});e.componentInstance.Info=t,e.result.then(t=>{},t=>{console.log("dismissed")})}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(m.a),d.Mb(l.a),d.Mb(s.b),d.Mb(p.a),d.Mb(S.a),d.Mb(h.a),d.Mb(o.c))},t.\u0275cmp=d.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&d.Kc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action","SelectAllCard"],[1,"card-body"],[3,"isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"div",2),d.Ec(3,H,3,0,"div",3),d.Ec(4,q,8,5,"div",3),d.Rb(),d.Rb(),d.Rb()),2&t&&(d.zb(3),d.nc("ngIf",!e.isAccessGranted),d.zb(1),d.nc("ngIf",e.isAccessGranted))},directives:[n.o,v.a,R.a,U],encapsulation:2,data:{animation:[u.a]}}),Object(r.a)([Object(a.e)(["users","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(r.a)([Object(a.e)(["users","categories"])],t.prototype,"categories$",void 0),Object(r.a)([Object(a.e)(["users","itemsselected"])],t.prototype,"isItemSelected$",void 0),Object(r.a)([Object(a.e)(["users","isloaded"])],t.prototype,"isloaded$",void 0),Object(r.a)([Object(a.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();var B=i("nD3/"),J=i("TzxA"),K=i("KJAg"),Y=i("2uHY"),X=i("JgvU");function Q(t,e){1&t&&d.Nb(0,"app-loader")}function W(t,e){if(1&t&&(d.Sb(0,"option",9),d.Gc(1),d.Rb()),2&t){const t=e.$implicit;d.oc("value",t.id),d.zb(1),d.Hc(t.rolename)}}function Z(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div"),d.Sb(1,"div",3),d.Sb(2,"p"),d.Gc(3," Note: This is not user identity roles, its updates control panel own role & permissions to access resources. "),d.Rb(),d.Sb(4,"div",4),d.Sb(5,"select",5),d.ec("ngModelChange",(function(e){return d.xc(t),d.gc().Info.roleid=e})),d.Ec(6,W,2,2,"option",6),d.hc(7,"async"),d.Rb(),d.Rb(),d.Rb(),d.Sb(8,"div",7),d.Sb(9,"button",8),d.ec("click",(function(){return d.xc(t),d.gc().updateRole()})),d.Gc(10," Update Role "),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=d.gc();d.zb(5),d.nc("ngModel",t.Info.roleid),d.zb(1),d.nc("ngForOf",d.ic(7,2,t.roles$))}}let tt=(()=>{class t{constructor(t,e,i){this.dataService=t,this.coreActions=e,this.roledataService=i,this.Info={},this.isActionGranded=!1,this.isLoading=!1}ngOnInit(){this.isroleloaded$.subscribe(t=>{t||this.roledataService.LoadRoles()})}updateRole(){this.isActionGranded?(this.isLoading=!0,this.dataService.UpdateRole(this.Info).subscribe(t=>{this.coreActions.Notify("error"===t.status?{title:t.message,text:"",css:"bg-error"}:{title:t.message,text:"",css:"bg-success"}),this.isLoading=!1},t=>{this.isLoading=!1,this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(l.a),d.Mb(p.a),d.Mb(K.a))},t.\u0275cmp=d.Gb({type:t,selectors:[["app-role"]],inputs:{Info:"Info",isActionGranded:"isActionGranded"},features:[d.yb([K.a,Y.a,X.a])],decls:6,vars:2,consts:[[1,"card"],[1,"card-header"],[4,"ngIf"],[1,"card-body"],[1,"form-group"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"h3"),d.Gc(3,"Update Control Panel Role"),d.Rb(),d.Rb(),d.Ec(4,Q,1,0,"app-loader",2),d.Ec(5,Z,11,4,"div",2),d.Rb()),2&t&&(d.zb(4),d.nc("ngIf",e.isLoading),d.zb(1),d.nc("ngIf",!e.isLoading))},directives:[n.o,T.a,c.v,c.n,c.q,n.n,c.s,c.x],pipes:[n.b],encapsulation:2}),Object(r.a)([Object(a.e)(["roles","roles"])],t.prototype,"roles$",void 0),Object(r.a)([Object(a.e)(["roles","isroleloaded"])],t.prototype,"isroleloaded$",void 0),t})();var et=i("aIzJ");function it(t,e){1&t&&(d.Sb(0,"div"),d.Sb(1,"h2",3),d.Gc(2,"Access Denied"),d.Rb(),d.Rb())}function st(t,e){1&t&&d.Nb(0,"app-loader")}function nt(t,e){1&t&&(d.Sb(0,"span",20),d.Gc(1,"Lockout Enabled"),d.Rb())}function ct(t,e){1&t&&(d.Sb(0,"span",21),d.Gc(1,"Lockout Disabled"),d.Rb())}function ot(t,e){1&t&&(d.Sb(0,"span",21),d.Gc(1,"Email Confirmed (Active)"),d.Rb())}function rt(t,e){1&t&&(d.Sb(0,"span",20),d.Gc(1,"Email Not Confirmed (Not Active)"),d.Rb())}function at(t,e){1&t&&(d.Sb(0,"span",20),d.Gc(1,"Blocked"),d.Rb())}function bt(t,e){if(1&t&&(d.Sb(0,"div"),d.Sb(1,"strong",17),d.Gc(2),d.Rb(),d.Sb(3,"div"),d.Gc(4),d.Rb(),d.Rb()),2&t){const t=d.gc().$implicit;d.zb(2),d.Hc(t.title),d.zb(2),d.Hc(t.value)}}function lt(t,e){if(1&t&&(d.Sb(0,"div"),d.Sb(1,"strong",17),d.Gc(2),d.Rb(),d.Nb(3,"div",23),d.Rb()),2&t){const t=d.gc().$implicit;d.zb(2),d.Hc(t.title),d.zb(1),d.nc("innerHTML",t.value,d.yc)}}function dt(t,e){if(1&t&&(d.Sb(0,"div",9),d.Ec(1,bt,5,2,"div",2),d.Ec(2,lt,4,2,"div",2),d.Rb()),2&t){const t=e.$implicit;d.zb(1),d.nc("ngIf",5!==t.element_type&&""!==t.value),d.zb(1),d.nc("ngIf",5===t.element_type&&""!==t.value)}}function pt(t,e){if(1&t&&(d.Sb(0,"div",9),d.Ec(1,dt,3,2,"div",22),d.Rb()),2&t){const t=e.$implicit;d.zb(1),d.nc("ngForOf",t.attributes)}}function ht(t,e){if(1&t&&(d.Sb(0,"div"),d.Ec(1,pt,2,1,"div",22),d.Rb()),2&t){const t=d.gc(4);d.zb(1),d.nc("ngForOf",t.Info.options)}}function ft(t,e){1&t&&(d.Sb(0,"span",24),d.Gc(1,"Inactive"),d.Rb())}function gt(t,e){1&t&&(d.Sb(0,"span",25),d.Gc(1,"Active"),d.Rb())}function ut(t,e){1&t&&(d.Sb(0,"span",24),d.Gc(1,"Inactive"),d.Rb())}function mt(t,e){1&t&&(d.Sb(0,"span",25),d.Gc(1,"Active"),d.Rb())}function St(t,e){1&t&&(d.Sb(0,"span",20),d.Gc(1,"Inactive"),d.Rb())}function vt(t,e){1&t&&(d.Sb(0,"span",21),d.Gc(1,"Active"),d.Rb())}function Rt(t,e){1&t&&(d.Sb(0,"span"),d.Gc(1,"No Record"),d.Rb())}function It(t,e){if(1&t&&(d.Sb(0,"span"),d.Gc(1),d.hc(2,"date"),d.Rb()),2&t){const t=d.gc(4);d.zb(1),d.Hc(d.jc(2,1,t.Info.account.membership_expiry,"fullDate"))}}function yt(t,e){1&t&&(d.Sb(0,"span"),d.Gc(1,"No Record"),d.Rb())}function At(t,e){if(1&t&&(d.Sb(0,"span"),d.Gc(1),d.hc(2,"date"),d.Rb()),2&t){const t=d.gc(4);d.zb(1),d.Hc(d.jc(2,1,t.Info.account.membership_expiry,"fullDate"))}}function Ot(t,e){if(1&t&&(d.Sb(0,"div"),d.Sb(1,"div",5),d.Sb(2,"div",11),d.Sb(3,"h3"),d.Gc(4),d.Rb(),d.Nb(5,"hr"),d.Sb(6,"p"),d.Gc(7," User ID: "),d.Sb(8,"strong"),d.Gc(9),d.Rb(),d.Rb(),d.Sb(10,"p"),d.Gc(11," UserName: "),d.Sb(12,"strong"),d.Gc(13),d.Rb(),d.Rb(),d.Sb(14,"p"),d.Gc(15," Email Address: "),d.Sb(16,"strong"),d.Gc(17),d.Rb(),d.Rb(),d.Sb(18,"p"),d.Gc(19," Date Registered: "),d.Sb(20,"strong"),d.Gc(21),d.hc(22,"date"),d.Rb(),d.Rb(),d.Sb(23,"p"),d.Gc(24),d.hc(25,"date"),d.Rb(),d.Sb(26,"p",12),d.Ec(27,nt,2,0,"span",13),d.Ec(28,ct,2,0,"span",14),d.Ec(29,ot,2,0,"span",14),d.Ec(30,rt,2,0,"span",13),d.Ec(31,at,2,0,"span",13),d.Rb(),d.Rb(),d.Rb(),d.Nb(32,"app-role",15),d.Sb(33,"div",5),d.Sb(34,"div",11),d.Sb(35,"h3"),d.Gc(36,"User Profile"),d.Rb(),d.Nb(37,"hr"),d.Sb(38,"div",16),d.Ec(39,ht,2,1,"div",2),d.Rb(),d.Rb(),d.Rb(),d.Sb(40,"div",5),d.Sb(41,"div",11),d.Sb(42,"h3"),d.Gc(43,"User Stats"),d.Rb(),d.Nb(44,"hr"),d.Sb(45,"p",17),d.Gc(46),d.Rb(),d.Sb(47,"p",17),d.Gc(48),d.Rb(),d.Sb(49,"p",17),d.Gc(50),d.Rb(),d.Sb(51,"p",17),d.Gc(52),d.Rb(),d.Sb(53,"p",17),d.Gc(54),d.Rb(),d.Sb(55,"p",17),d.Gc(56),d.Rb(),d.Sb(57,"p",17),d.Gc(58),d.Rb(),d.Sb(59,"p",17),d.Gc(60),d.Rb(),d.Sb(61,"p",17),d.Gc(62),d.Rb(),d.Sb(63,"p",17),d.Gc(64),d.Rb(),d.Rb(),d.Rb(),d.Sb(65,"div",5),d.Sb(66,"div",11),d.Sb(67,"h3"),d.Gc(68,"User Settings"),d.Rb(),d.Nb(69,"hr"),d.Sb(70,"p",17),d.Gc(71," Enable Receiving Messages: "),d.Ec(72,ft,2,0,"span",18),d.Ec(73,gt,2,0,"span",19),d.Rb(),d.Sb(74,"p",17),d.Gc(75," Enable Receiving Emails Messages: "),d.Ec(76,ut,2,0,"span",18),d.Ec(77,mt,2,0,"span",19),d.Rb(),d.Rb(),d.Rb(),d.Sb(78,"div",5),d.Sb(79,"div",11),d.Sb(80,"h3"),d.Gc(81,"User Account"),d.Rb(),d.Nb(82,"hr"),d.Sb(83,"p",17),d.Gc(84),d.Rb(),d.Sb(85,"p",17),d.Gc(86," Lifetime Renewal: "),d.Ec(87,St,2,0,"span",13),d.Ec(88,vt,2,0,"span",14),d.Rb(),d.Sb(89,"p",17),d.Gc(90," Last Time Purchased: "),d.Ec(91,Rt,2,0,"span",2),d.Ec(92,It,3,4,"span",2),d.Rb(),d.Sb(93,"p",17),d.Gc(94," Membership Expiry Time: "),d.Ec(95,yt,2,0,"span",2),d.Ec(96,At,3,4,"span",2),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&t){const t=d.gc(3);d.zb(4),d.Hc(t.FullName),d.zb(5),d.Hc(t.Info.id),d.zb(4),d.Hc(t.Info.userName),d.zb(4),d.Hc(t.Info.email),d.zb(4),d.Hc(d.jc(22,35,t.Info.created_at,"fullDate")),d.zb(3),d.Ic("Last Login: ",d.jc(25,38,t.Info.last_login,"fullDate"),""),d.zb(3),d.nc("ngIf",t.Info.lockoutenabled),d.zb(1),d.nc("ngIf",!t.Info.lockoutenabled),d.zb(1),d.nc("ngIf",t.Info.emailConfirmed),d.zb(1),d.nc("ngIf",!t.Info.emailConfirmed),d.zb(1),d.nc("ngIf",0===t.Info.isenabled),d.zb(1),d.nc("Info",t.Info)("isActionGranded",t.isActionGranded),d.zb(7),d.nc("ngIf",t.Info.attr_values.length>0),d.zb(7),d.Ic(" Total Videos: ",t.Info.stats.stat_videos," "),d.zb(2),d.Ic("Total Audio: ",t.Info.stats.stat_audio,""),d.zb(2),d.Ic(" Total Albums: ",t.Info.stats.stat_albums," "),d.zb(2),d.Ic(" Total Photos: ",t.Info.stats.stat_photos," "),d.zb(2),d.Ic("Total Blogs: ",t.Info.stats.stat_blogs,""),d.zb(2),d.Ic(" Total Forum Topics: ",t.Info.stats.stat_forum_topics," "),d.zb(2),d.Ic("Total QA Asked: ",t.Info.stats.stat_qa,""),d.zb(2),d.Ic(" Total QA Answered: ",t.Info.stats.stat_qaanswers," "),d.zb(2),d.Ic("Total Polls: ",t.Info.stats.stat_polls,""),d.zb(2),d.Ic(" Total Ad Listings: ",t.Info.stats.stat_adlistings," "),d.zb(8),d.nc("ngIf",0==t.Info.settings.issendmessages),d.zb(1),d.nc("ngIf",1==t.Info.settings.issendmessages),d.zb(3),d.nc("ngIf",0==t.Info.settings.isemail),d.zb(1),d.nc("ngIf",1==t.Info.settings.isemail),d.zb(7),d.Ic(" Total Available Credits: ",t.Info.account.credits," "),d.zb(3),d.nc("ngIf",0==t.Info.account.islifetimerenewal),d.zb(1),d.nc("ngIf",1==t.Info.account.islifetimerenewal),d.zb(3),d.nc("ngIf",!t.Info.account.last_purchased),d.zb(1),d.nc("ngIf",t.Info.account.last_purchased),d.zb(3),d.nc("ngIf",!t.Info.account.membership_expiry),d.zb(1),d.nc("ngIf",t.Info.account.membership_expiry)}}function wt(t,e){if(1&t&&(d.Sb(0,"tr",29),d.Sb(1,"td",30),d.Gc(2),d.Rb(),d.Sb(3,"td"),d.Gc(4),d.hc(5,"date"),d.Rb(),d.Rb()),2&t){const t=e.$implicit;d.nc("hidden",t.isdeleted),d.zb(2),d.Ic(" ",t.ipaddress," "),d.zb(2),d.Ic(" ",d.jc(5,3,t.created_at,"fullDate")," ")}}function Tt(t,e){if(1&t&&(d.Sb(0,"div"),d.Sb(1,"div",26),d.Sb(2,"table",27),d.Sb(3,"thead"),d.Sb(4,"tr"),d.Sb(5,"th"),d.Gc(6,"IP Address"),d.Rb(),d.Sb(7,"th"),d.Gc(8,"Date"),d.Rb(),d.Rb(),d.Rb(),d.Sb(9,"tbody"),d.Ec(10,wt,6,6,"tr",28),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&t){const t=d.gc(4);d.zb(10),d.nc("ngForOf",t.UserLog)}}function zt(t,e){1&t&&d.Nb(0,"app-norecord")}function kt(t,e){if(1&t&&(d.Sb(0,"div"),d.Sb(1,"div",5),d.Sb(2,"div",11),d.Ec(3,Tt,11,1,"div",2),d.Ec(4,zt,1,0,"app-norecord",2),d.Rb(),d.Rb(),d.Rb()),2&t){const t=d.gc(3);d.zb(3),d.nc("ngIf",t.UserLog.length>0),d.zb(1),d.nc("ngIf",0===t.UserLog.length)}}function Gt(t,e){1&t&&d.Nb(0,"app-loader")}function xt(t,e){if(1&t){const t=d.Tb();d.Sb(0,"dynamic-modal-form",34),d.ec("OnSubmit",(function(e){return d.xc(t),d.gc(4).SubmitForm(e)})),d.Rb()}if(2&t){const t=d.gc(4);d.nc("controls",t.controls)("showLoader",t.showLoader)("showCancel",!1)("showModal",!1)("submitText",t.submitText)}}function _t(t,e){if(1&t&&(d.Sb(0,"div"),d.Sb(1,"div",5),d.Sb(2,"div",31),d.Sb(3,"h4",32),d.Gc(4),d.Rb(),d.Rb(),d.Sb(5,"div",11),d.Ec(6,Gt,1,0,"app-loader",2),d.Ec(7,xt,1,5,"dynamic-modal-form",33),d.Rb(),d.Rb(),d.Rb()),2&t){const t=d.gc(3);d.zb(4),d.Hc(t.formHeading),d.zb(2),d.nc("ngIf",t.showLoader),d.zb(1),d.nc("ngIf",!t.showLoader)}}function Et(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div"),d.Sb(1,"div",9),d.Sb(2,"app-toolbar-v2",10),d.ec("Action",(function(e){return d.xc(t),d.gc(2).toolbaraction(e)})),d.Rb(),d.Rb(),d.Ec(3,Ot,97,41,"div",2),d.Ec(4,kt,5,2,"div",2),d.Ec(5,_t,8,3,"div",2),d.Rb()}if(2&t){const t=d.gc(2);d.zb(2),d.nc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),d.zb(1),d.nc("ngIf",0===t.ViewType),d.zb(1),d.nc("ngIf",1===t.ViewType),d.zb(1),d.nc("ngIf",2===t.ViewType)}}function Lt(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div"),d.Sb(1,"div",0),d.Sb(2,"div",4),d.Sb(3,"div",5),d.Sb(4,"app-banneruploader",6),d.ec("OnCropped",(function(e){return d.xc(t),d.gc().onImageUploaded(e)})),d.hc(5,"async"),d.Rb(),d.Sb(6,"app-navigation-v2",7),d.ec("Action",(function(e){return d.xc(t),d.gc().toolbaraction(e)})),d.Rb(),d.Rb(),d.Rb(),d.Sb(7,"div",8),d.Ec(8,st,1,0,"app-loader",2),d.Ec(9,Et,6,5,"div",2),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=d.gc();d.zb(4),d.nc("Info",t.Info)("MediaSettings",d.ic(5,6,t.configs$).general.media),d.zb(2),d.nc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),d.zb(2),d.nc("ngIf",t.showLoader),d.zb(1),d.nc("ngIf",!t.showLoader)}}let Ct=(()=>{class t{constructor(t,e,i,s,n,c,o,r,a){this.settingService=t,this.dataService=e,this.coreService=i,this.coreActions=s,this.actions=n,this.route=c,this.formService=o,this.permission=r,this.router=a,this.controls=[],this.isItemsSelected=!0,this.RecordID="",this.FilterOptions={},this.showLoader=!1,this.formHeading="User Information",this.submitText="Submit",this.Info={},this.uploadedFiles=[],this.SelectedItems=[],this.FullName="",this.ViewType=0,this.UserLog=[],this.Roles=[],this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521143362403","1521143407965",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521143362403",t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptionsProfile(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.ToolbarOptions.showtoolbar=!1,this.ToolbarOptions.showcheckAll=!1,this.ToolbarOptions.showsecondarytoolbar=!0,this.ToolbarOptions.ProfileView=!0,this.ToolbarLogOptions=this.settingService.getUserLogToolbarOptions(),this.ToolbarLogOptions.showcheckAll=!1,this.route.params.subscribe(t=>{this.RecordID=t.id,null===this.RecordID&&(this.RecordID=""),""!==this.RecordID&&this.LoadInfo()})}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe(t=>{if("error"===t.status)this.coreActions.Notify({title:t.message,text:"",css:"bg-success"}),this.router.navigate(["/users"]);else{this.Info=t.post,this.SelectedItems=[],this.SelectedItems.push(this.Info),this.FullName=null===this.Info.firstname||""===this.Info.firstname?this.Info.username:this.Info.firstname+" "+this.Info.lastname;const e=[];""!==this.Info.img_url&&(e.push({fname:this.Info.img_url,filename:this.Info.img_url,filetype:".jpg",url:this.Info.img_url}),this.uploadedFiles=e),this.AdjustNavigationLinks(),this.coreService.prepareDynamicControlData(this.Info)}this.showLoader=!1})}AdjustNavigationLinks(){for(const t of this.SearchOptions.navList)t.clickevent||(t.url="/users/history/"+this.Info.id)}OnUploadedImages(t){this.isActionGranded?this.dataService.UpdateThumb(this.Info,t):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}toolbaraction(t){switch(t.action){case"m_markas":this.ProcessActions(t.value);break;case"m_log_markas":this.ProcessLogActions(t.value);break;case"add":return this.formHeading="Create Account",void this.Trigger_Modal({data:this.settingService.getInitObject(),isActionGranded:this.isActionGranded,viewType:1});case"edit_profile":return this.formHeading="Edit User Profile",void this.Trigger_Modal({data:this.Info,isActionGranded:this.isActionGranded,viewType:2});case"change_email":return this.formHeading="Change User Email",void this.Trigger_Modal({data:this.Info,isActionGranded:this.isActionGranded,viewType:3});case"change_password":return this.formHeading="Change User Password",void this.Trigger_Modal({data:this.Info,isActionGranded:this.isActionGranded,viewType:4});case"change_usertype":return this.formHeading="Update User Type",void this.Trigger_Modal({data:this.Info,isActionGranded:this.isActionGranded,viewType:5});case"view_history":this.ViewType=1,0===this.UserLog.length&&this.loadUserLog();break;case"home_view":this.ViewType=0}}loadUserLog(){this.showLoader=!0,this.dataService.GetUserLog(this.Info.id).subscribe(t=>{"error"===t.status?this.coreActions.Notify({title:t.message,text:"",css:"bg-success"}):this.UserLog=t.posts,this.showLoader=!1})}Trigger_Modal(t){this.ViewType=2,this.controls=this.formService.getControls(t.data,t.viewType),this.Info.viewType=t.viewType}SubmitForm(t){if(void 0===this.Info.isActionGranded||this.Info.isActionGranded){if(1!==this.Info.viewType&&4!==this.Info.viewType||t.password!==t.cpassword&&this.coreActions.Notify({title:"Password Not Matched",text:"",css:"bg-danger"}),this.showLoader=!0,2!==this.Info.viewType)for(const e of Object.keys(this.Info))for(const i of Object.keys(t))e===i&&(this.Info[e]=t[i]);else this.Info.firstname=t.firstname,this.Info.lastname=t.lastname,this.Info.attr_values=this.coreService.processDynamicControlsData(t,this.Info),this.Info.settings.isemail=0,t.isemail&&(this.Info.settings.isemail=1),this.Info.settings.issendmessages=0,t.issendmessages&&(this.Info.settings.issendmessages=1),this.Info.account.credits=t.credits,this.Info.account.islifetimerenewal=0,t.islifetimerenewal&&(this.Info.account.islifetimerenewal=1),this.Info.account.paypal_subscriber=0;this.Info.isadmin=!0,this.dataService.AddRecord(this.Info).subscribe(t=>{if("error"===t.status)this.coreActions.Notify({title:t.message,text:"",css:"bg-danger"});else{let e="Account Created Successfully";switch(this.Info.viewType){case 1:this.actions.addRecord(t.record);break;case 2:e="Profile Updated Successfully",this.actions.updateRecord(t.record);break;case 3:e="Email Updated Successfully";break;case 4:e="Password Changed";break;case 5:e="Account Type Changed"}this.coreActions.Notify({title:e,text:"",css:"bg-success"})}this.showLoader=!1,this.ViewType=0},t=>{this.showLoader=!1,this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}ProcessActions(t){if(this.isActionGranded){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}ProcessLogActions(t){if(this.UserLog.length>0){for(const e of this.UserLog)e.actionstatus=t.actionstatus;this.dataService.ProcessLogActions(this.UserLog,t)}}onImageUploaded(t){console.log("image uploaded"),console.log(t),this.dataService.UpdateAvator(t)}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(m.a),d.Mb(l.a),d.Mb(B.a),d.Mb(p.a),d.Mb(h.a),d.Mb(o.a),d.Mb(b.a),d.Mb(S.a),d.Mb(o.c))},t.\u0275cmp=d.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&d.Kc("@fadeInAnimation",void 0)},decls:4,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3","col-sm-4"],[1,"card"],[3,"Info","MediaSettings","OnCropped"],[3,"FilterOptions","Options","Action"],[1,"col-md-9","col-sm-8"],[1,"m-b-10"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[1,"card_text"],["class","badge badge-danger m-r-5",4,"ngIf"],["class","badge badge-success m-r-5",4,"ngIf"],[3,"Info","isActionGranded"],[1,"m-t-10"],[1,"m-b-5"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-success",4,"ngIf"],[1,"badge","badge-danger","m-r-5"],[1,"badge","badge-success","m-r-5"],["class","m-b-10",4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"badge","badge-danger"],[1,"badge","badge-success"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"],[2,"width","5%"],[1,"card-header"],[1,"m-b-0"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Ec(2,it,3,0,"div",2),d.Ec(3,Lt,10,8,"div",2),d.Rb(),d.Rb()),2&t&&(d.zb(2),d.nc("ngIf",!e.isAccessGranted),d.zb(1),d.nc("ngIf",e.isAccessGranted))},directives:[n.o,J.a,v.a,T.a,R.a,tt,n.n,et.a,f.a],pipes:[n.b,n.e],encapsulation:2,data:{animation:[u.a]}}),Object(r.a)([Object(a.e)(["configuration","configs"])],t.prototype,"configs$",void 0),Object(r.a)([Object(a.e)(["roles","roles"])],t.prototype,"roles$",void 0),Object(r.a)([Object(a.e)(["roles","isroleloaded"])],t.prototype,"isroleloaded$",void 0),Object(r.a)([Object(a.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();var Mt=i("OPJD");function Ft(t,e){1&t&&(d.Sb(0,"div"),d.Sb(1,"h2",1),d.Gc(2,"Access Denied"),d.Rb(),d.Rb())}function Nt(t,e){1&t&&d.Nb(0,"app-loader")}function $t(t,e){if(1&t&&(d.Sb(0,"div"),d.Nb(1,"google-chart",5),d.Rb()),2&t){const t=d.gc(2);d.zb(1),d.nc("data",t.tooltipChart)}}function jt(t,e){if(1&t&&(d.Sb(0,"div"),d.Sb(1,"div",6),d.Sb(2,"h3",7),d.Gc(3),d.Rb(),d.Rb(),d.Rb()),2&t){const t=d.gc(2);d.zb(3),d.Ic(" ",t.message," ")}}function Dt(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div"),d.Sb(1,"div",2),d.Sb(2,"div",3),d.Sb(3,"app-toolbar-v2",4),d.ec("Action",(function(e){return d.xc(t),d.gc().toolbaraction(e)})),d.Rb(),d.Ec(4,Nt,1,0,"app-loader",0),d.Ec(5,$t,2,1,"div",0),d.Ec(6,jt,4,1,"div",0),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=d.gc();d.zb(3),d.nc("isAdmin",t.isAdmin)("Options",t.ToolbarOptions),d.zb(1),d.nc("ngIf",t.showLoader),d.zb(1),d.nc("ngIf",!t.showLoader&&t.optionSelected),d.zb(1),d.nc("ngIf",!t.showLoader&&!t.optionSelected)}}let Pt=(()=>{class t{constructor(t,e,i,s,n,c,o,r,a){this.settingService=t,this.dataService=e,this.coreService=i,this.coreActions=s,this.actions=n,this.route=c,this.formService=o,this.permission=r,this.router=a,this.FilterOptions={},this.showLoader=!1,this.formHeading="User Reports",this.isAdmin=!0,this.optionSelected=!1,this.ChartType="ColumnChart",this.message="Please select report type to generate!",this.isAccessGranted=!1,this.isActionGranded=!1,this.tooltipChart={chartType:"ColumnChart",dataTable:[],options:{title:"Videos Uploaded",legend:"none",width:1e3,height:500,is3D:!0}}}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521396112858","1521396141248",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521396112858",t.Role)&&(this.isActionGranded=!0))}),this.filteroptions$.subscribe(t=>{this.FilterOptions=t}),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.ToolbarOptions.showtoolbar=!0,this.ToolbarOptions.showcheckAll=!1,this.ToolbarOptions.showsecondarytoolbar=!1,this.ToolbarOptions.left_options=this.prepareLeftOptions(),this.ToolbarOptions.right_options=this.prepareRightOptions(),this.ToolbarOptions.right_options[0].title=this.ChartType}prepareLeftOptions(){return[{title:"Select Type",ismultiple:!0,Options:[{id:1,title:"Yearly",value:0,isclick:!0,clickevent:"reporty_type",tooltip:"Generate yearly report"},{id:2,title:"Monthly (Last 12 Months)",value:1,isclick:!0,clickevent:"reporty_type",tooltip:"Generate monthly report"},{id:3,title:"Daily (Current Month)",value:2,isclick:!0,clickevent:"reporty_type",tooltip:"Generate daily report"}]}]}prepareRightOptions(){return[{title:"Chart Type",ismultiple:!0,Options:[{id:1,title:"ColumnChart",value:"ColumnChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Column Chart"},{id:2,title:"BarChart",value:"BarChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Bar Chart"},{id:3,title:"LineChart",value:"LineChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Line Chart"},{id:3,title:"PieChart",value:"PieChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Pie Chart"}]}]}toolbaraction(t){if(this.isActionGranded){switch(t.action){case"chart_type":this.ChartType=t.value,console.log("chart type is "+this.ChartType),this.showLoader=!0,this.ToolbarOptions.right_options[0].title=this.ChartType,this.FilterOptions.chartType=this.ChartType,this.showLoader=!1;break;case"reporty_type":this.FilterOptions.reporttype=t.value}this.LoadReports()}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}LoadReports(){this.showLoader=!0,this.dataService.LoadReports(this.FilterOptions).subscribe(t=>{this.tooltipChart.chartType=this.ChartType,t.data.dataTable.length>1?(this.tooltipChart.dataTable=t.data.dataTable,this.optionSelected=!0):(this.message="No Data Available!",this.optionSelected=!1),this.showLoader=!1})}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(m.a),d.Mb(l.a),d.Mb(B.a),d.Mb(p.a),d.Mb(h.a),d.Mb(o.a),d.Mb(b.a),d.Mb(S.a),d.Mb(o.c))},t.\u0275cmp=d.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&d.Kc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-12"],[3,"isAdmin","Options","Action"],[3,"data"],[2,"padding","80px 0px"],[2,"text-align","center"]],template:function(t,e){1&t&&(d.Ec(0,Ft,3,0,"div",0),d.Ec(1,Dt,7,5,"div",0)),2&t&&(d.nc("ngIf",!e.isAccessGranted),d.zb(1),d.nc("ngIf",e.isAccessGranted))},directives:[n.o,R.a,T.a,Mt.a],encapsulation:2,data:{animation:[u.a]}}),Object(r.a)([Object(a.e)(["users","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(r.a)([Object(a.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();var Ut=i("dNLF"),Ht=i("1pjZ");let qt=(()=>{class t{constructor(t,e){this.config=t,this.coreService=e}getTemplateControls(t){const e=[];return e.push(new Ut.i({key:"title",label:"Title",value:t.title,required:!0,order:0,maxLength:300})),e.sort((t,e)=>t.order-e.order)}getTemplateSectionControls(t){const e=[];return e.push(new Ut.i({key:"title",label:"Title",value:t.title,required:!0,order:0,maxLength:300})),e.push(new Ut.i({key:"priority",label:"Priority",value:t.priority.toString(),required:!0,pattern:"[0-9]+",helpblock:"Arrange sections based on priority in list",order:1})),e.push(new Ut.b({key:"showsection",label:"Display Section",required:!0,value:t.showsection.toString(),options:[{key:0,value:"No"},{key:1,value:"Yes"}],order:2,helpblock:"Toggle on | off displaying section information on top at form / public display areas"})),e.sort((t,e)=>t.order-e.order)}getAttributeControls(t){const e=[];e.push(new Ut.i({key:"title",label:"Title",value:t.title,required:!0,order:0,maxLength:100})),e.push(new Ut.i({key:"value",label:"Placeholder",value:t.value,required:!1,order:1,maxLength:100,helpblock:"Instruction info for display if control is text box or text area. e.g default size 24 cm"})),e.push(new Ut.i({key:"priority",label:"Priority",value:t.priority.toString(),required:!0,helpblock:"Arrange attributes based on priority in list or order by in forms",order:2})),e.push(new Ut.b({key:"element_type",label:"Element Type",required:!0,value:t.element_type.toString(),options:[{key:0,value:"Text Box"},{key:1,value:"Text Area"},{key:5,value:"Rich Text Area"},{key:2,value:"Dropdown"},{key:3,value:"Check Box"},{key:4,value:"Radio Button"}],order:3}));var i=t.options.split(",");let s=[];for(let n of i)s.push({id:s.length+1,value:n});return e.push(new Ut.e({key:"options",label:"Options",value:s,required:!1,helpblock:"Add two or more options if element type if dropdown / checkboxes or radio buttons",order:4})),e.push(new Ut.b({key:"isrequired",label:"Required",required:!0,value:t.isrequired.toString(),options:[{key:0,value:"No"},{key:1,value:"Yes"}],order:5})),e.push(new Ut.b({key:"variable_type",label:"Variable Type",required:!0,value:t.variable_type.toString(),options:[{key:0,value:"String"},{key:1,value:"Number"}],order:6})),e.push(new Ut.i({key:"icon",label:"Icon",value:t.icon,required:!1,order:7,maxLength:150,helpblock:"icon class of path to associate icon with this attribute"})),e.push(new Ut.i({key:"helpblock",label:"Help Instruction",value:t.helpblock,required:!1,order:8,maxLength:150,helpblock:"optional instruction to be displayed below element"})),e.push(new Ut.i({key:"min",label:"Minimum Characters",value:t.min.toString(),required:!1,pattern:"[0-9]+",helpblock:"Minimum no of characters (validation purpose), 0: unlimited",order:9})),e.push(new Ut.i({key:"max",label:"Maximum Characters",value:t.max.toString(),required:!1,pattern:"[0-9]+",helpblock:"Maximum no of characters (validation purpose), 0: unlimited",order:10})),e.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)(d.ac(Ht.a),d.ac(B.a))},t.\u0275prov=d.Ib({token:t,factory:t.\u0275fac}),t})(),Vt=(()=>{class t{constructor(t,e){this.activeModal=t,this.service=e,this.showLoader=!1,this.controls=[],this.list=[]}ngOnInit(){switch(this.title=this.Info.title,this.Info.viewtype){case 0:this.controls=this.service.getTemplateControls(this.Info.data);break;case 1:this.controls=this.service.getTemplateSectionControls(this.Info.data);break;case 2:this.controls=this.service.getAttributeControls(this.Info.data)}}SubmitForm(t){switch(t.id=this.Info.data.id,t.uniqueid=0===t.id?(new Date).valueOf():"",this.Info.viewtype){case 0:t.sections=this.Info.data.sections;break;case 1:t.templateid=this.Info.data.templateid;break;case 2:t.attr_type=this.Info.data.attr_type}this.activeModal.close({data:t})}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(s.a),d.Mb(qt))},t.\u0275cmp=d.Gb({type:t,selectors:[["ng-component"]],inputs:{Info:"Info"},decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"h4",1),d.Gc(2),d.Rb(),d.Sb(3,"button",2),d.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),d.Sb(4,"span",3),d.Gc(5,"\xd7"),d.Rb(),d.Rb(),d.Rb(),d.Sb(6,"dynamic-modal-form",4),d.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),d.Rb()),2&t&&(d.zb(2),d.Hc(e.title),d.zb(4),d.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[f.a],encapsulation:2}),t})(),Bt=(()=>{class t{constructor(t){this.config=t;const e=t.getConfig("host");this.apiOptions={load:e+"api/attr/load",load_attr:e+"api/attr/load_attr",proc_template:e+"api/attr/proc_template",proc_section:e+"api/attr/proc_section",delete_template:e+"api/attr/delete_template",delete_section:e+"api/attr/delete_section",add_attr:e+"api/attr/add_attr",delete_attr:e+"api/attr/delete_attr"}}getApiOptions(){return this.apiOptions}}return t.\u0275fac=function(e){return new(e||t)(d.ac(Ht.a))},t.\u0275prov=d.Ib({token:t,factory:t.\u0275fac}),t})();var Jt=i("tk/3");let Kt=(()=>{class t{constructor(t,e,i){this.settings=t,this.http=e,this.coreActions=i}LoadTemplates(t){return this.http.post(this.settings.getApiOptions().load,JSON.stringify(t))}LoadAttributes(t){const e=this.settings.getApiOptions().load_attr;return this.http.post(e,JSON.stringify(t))}AddTemplate(t,e){return this.http.post(e,JSON.stringify(t))}AddAttribute(t){let e=this.settings.getApiOptions().add_attr;return this.http.post(e,JSON.stringify(t))}DeleteAttribute(t){let e=this.settings.getApiOptions().delete_attr;this.http.post(e,JSON.stringify(t)).subscribe(t=>{this.coreActions.Notify({title:"Record Removed",text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Record not Saved",text:"",css:"bg-danger"})})}DeleteTemplate(t,e){this.http.post(e,JSON.stringify(t)).subscribe(t=>{this.coreActions.Notify({title:"Record Removed",text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Record not Saved",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(d.ac(Bt),d.ac(Jt.b),d.ac(p.a))},t.\u0275prov=d.Ib({token:t,factory:t.\u0275fac}),t})();function Yt(t,e){1&t&&d.Nb(0,"app-loader")}function Xt(t,e){1&t&&(d.Sb(0,"div",16),d.Sb(1,"p"),d.Gc(2,"No Sections"),d.Rb(),d.Rb())}function Qt(t,e){if(1&t){const t=d.Tb();d.Sb(0,"a",23),d.ec("click",(function(e){d.xc(t);const i=d.gc(),s=i.$implicit,n=i.index,c=d.gc(2).$implicit;return d.gc(4).RemoveSection(s,c.sections,n,e),!1})),d.Nb(1,"i",26),d.Rb()}}const Wt=function(t){return[t]};function Zt(t,e){if(1&t){const t=d.Tb();d.Sb(0,"tr"),d.Sb(1,"td"),d.Gc(2),d.Rb(),d.Sb(3,"td"),d.Gc(4),d.Rb(),d.Sb(5,"td",20),d.Sb(6,"a",21),d.Nb(7,"i",22),d.Rb(),d.Sb(8,"a",23),d.ec("click",(function(i){d.xc(t);const s=e.$implicit;return d.gc(6).EditSection(s,i),!1})),d.Nb(9,"i",24),d.Rb(),d.Ec(10,Qt,2,0,"a",25),d.Rb(),d.Rb()}if(2&t){const t=e.$implicit;d.zb(2),d.Ic(" ",t.title," "),d.zb(2),d.Ic(" ",t.priority," "),d.zb(2),d.nc("routerLink",d.rc(4,Wt,"/classified/ads/attributes/"+t.id)),d.zb(4),d.nc("ngIf",t.id>0)}}function te(t,e){if(1&t&&(d.Sb(0,"div"),d.Sb(1,"div",17),d.Sb(2,"table",18),d.Sb(3,"tbody"),d.Ec(4,Zt,11,6,"tr",19),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&t){const t=d.gc().$implicit;d.zb(4),d.nc("ngForOf",t.sections)}}function ee(t,e){if(1&t){const t=d.Tb();d.Sb(0,"a",14),d.ec("click",(function(e){d.xc(t);const i=d.gc(),s=i.$implicit,n=i.index;return d.gc(4).RemoveTemplate(s,n,e),!1})),d.Gc(1,"Remove"),d.Rb()}}function ie(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div",10),d.Sb(1,"div",4),d.Sb(2,"h4",11),d.Gc(3),d.Rb(),d.Sb(4,"div",12),d.Ec(5,Xt,3,0,"div",13),d.Ec(6,te,5,1,"div",5),d.Rb(),d.Sb(7,"a",14),d.ec("click",(function(i){d.xc(t);const s=e.$implicit;return d.gc(4).AddSection(s.id,i),!1})),d.Gc(8,"Add Section"),d.Rb(),d.Sb(9,"a",14),d.ec("click",(function(i){d.xc(t);const s=e.$implicit;return d.gc(4).EditTemplate(s,i),!1})),d.Gc(10,"Edit"),d.Rb(),d.Ec(11,ee,2,0,"a",15),d.Rb(),d.Rb()}if(2&t){const t=e.$implicit;d.zb(3),d.Hc(t.title),d.zb(2),d.nc("ngIf",0===t.sections.length),d.zb(1),d.nc("ngIf",t.sections.length>0),d.zb(5),d.nc("ngIf",t.id>0)}}function se(t,e){if(1&t&&(d.Sb(0,"div"),d.Ec(1,ie,12,4,"div",9),d.Rb()),2&t){const t=d.gc(3);d.zb(1),d.nc("ngForOf",t.Settings)}}function ne(t,e){1&t&&(d.Sb(0,"div",27),d.Sb(1,"h3",28),d.Gc(2,"No Templates Found!"),d.Rb(),d.Rb())}function ce(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div"),d.Sb(1,"div",6),d.Sb(2,"button",7),d.ec("click",(function(){return d.xc(t),d.gc(2).AddTemplate()})),d.Gc(3," Add Template "),d.Rb(),d.Rb(),d.Nb(4,"hr"),d.Ec(5,se,2,1,"div",5),d.Ec(6,ne,3,0,"div",8),d.Rb()}if(2&t){const t=d.gc(2);d.zb(5),d.nc("ngIf",t.Settings.length>0),d.zb(1),d.nc("ngIf",0===t.Settings.length)}}function oe(t,e){1&t&&(d.Sb(0,"div",16),d.Sb(1,"p"),d.Gc(2,"No Sections"),d.Rb(),d.Rb())}function re(t,e){if(1&t){const t=d.Tb();d.Sb(0,"a",23),d.ec("click",(function(e){d.xc(t);const i=d.gc(),s=i.$implicit,n=i.index,c=d.gc(4);return c.RemoveSection(s,c.Settings,n,e),!1})),d.Nb(1,"i",26),d.Rb()}}function ae(t,e){if(1&t){const t=d.Tb();d.Sb(0,"tr"),d.Sb(1,"td"),d.Gc(2),d.Rb(),d.Sb(3,"td"),d.Gc(4),d.Rb(),d.Sb(5,"td",20),d.Sb(6,"a",21),d.Nb(7,"i",22),d.Rb(),d.Sb(8,"a",23),d.ec("click",(function(i){d.xc(t);const s=e.$implicit;return d.gc(4).EditSection(s,i),!1})),d.Nb(9,"i",24),d.Rb(),d.Ec(10,re,2,0,"a",25),d.Rb(),d.Rb()}if(2&t){const t=e.$implicit,i=d.gc(4);d.zb(2),d.Ic(" ",t.title," "),d.zb(2),d.Ic(" ",t.priority," "),d.zb(2),d.nc("routerLink",d.rc(4,Wt,i.Url+t.id)),d.zb(4),d.nc("ngIf",t.id>0)}}function be(t,e){if(1&t&&(d.Sb(0,"div"),d.Sb(1,"div",17),d.Sb(2,"table",18),d.Sb(3,"tbody"),d.Ec(4,ae,11,6,"tr",19),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&t){const t=d.gc(3);d.zb(4),d.nc("ngForOf",t.Settings)}}function le(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div"),d.Sb(1,"div",6),d.Sb(2,"button",7),d.ec("click",(function(e){return d.xc(t),d.gc(2).AddSection(0,e)})),d.Gc(3," Add Section "),d.Rb(),d.Rb(),d.Nb(4,"hr"),d.Ec(5,oe,3,0,"div",13),d.Ec(6,be,5,1,"div",5),d.Rb()}if(2&t){const t=d.gc(2);d.zb(5),d.nc("ngIf",0===t.Settings.length),d.zb(1),d.nc("ngIf",t.Settings.length>0)}}function de(t,e){if(1&t&&(d.Sb(0,"div"),d.Ec(1,ce,7,2,"div",5),d.Ec(2,le,7,2,"div",5),d.Rb()),2&t){const t=d.gc();d.zb(1),d.nc("ngIf",!t.Skip_Template),d.zb(1),d.nc("ngIf",t.Skip_Template)}}let pe=(()=>{class t{constructor(t,e,i,s,n,c,o,r){this.settingService=t,this.dataService=e,this.coreService=i,this.coreActions=s,this.route=n,this.formService=c,this.router=o,this.modalService=r,this.Attr_Type=0,this.Skip_Template=!1,this.controls=[],this.showLoader=!1,this.formHeading="Manage Templates and Settings (Dynamic Attributes)",this.Settings=[],this.CategoryType=1,this.IsLoaded=!1,this.Url=""}ngOnInit(){switch(this.Attr_Type){case 0:this.Url="/classified/ads/attributes/";break;case 1:this.Url="/classified/agencies/attributes/";break;case 2:this.Url="/artists/attributes/";break;case 3:this.Url="/users/attributes/"}this.LoadSettings()}LoadSettings(){this.showLoader=!0,this.dataService.LoadTemplates({attr_type:this.Attr_Type,skip_template:this.Skip_Template}).subscribe(t=>{console.log("data returned"),this.Settings=t.posts,this.showLoader=!1},t=>{this.coreActions.Notify({title:"Load Failed",text:"",css:"bg-danger"})})}AddTemplate(){this._processTemplate({id:0,attr_type:this.Attr_Type,title:"",sections:[]},0,"Add Template")}EditTemplate(t,e){this._processTemplate(t,0,"Update Template"),e.stopPropagation()}AddSection(t,e){this._processTemplate({id:0,title:"",attr_type:this.Attr_Type,templateid:t,priority:0,showsection:0},1,"Add Section"),e.stopPropagation()}EditSection(t,e){this._processTemplate(t,1,"Update Section"),e.stopPropagation()}_processTemplate(t,e,i){const s=this.modalService.open(Vt,{backdrop:!1});s.componentInstance.Info={title:i,viewtype:e,data:t},s.result.then(t=>{let i=!1,s="";switch(e){case 0:t.data.id>0&&(i=!0),s=this.settingService.getApiOptions().proc_template;break;case 1:t.data.id>0&&(i=!0),s=this.settingService.getApiOptions().proc_section}this.UpdateDatabase(t.data,e,i,s)},t=>{console.log("dismissed")})}UpdateDatabase(t,e,i,s){t.attr_type=this.Attr_Type,this.showLoader=!0,this.dataService.AddTemplate(t,s).subscribe(t=>{switch(e){case 0:if(i)for(let e of this.Settings)e.id===t.record.id&&(e.title=t.record.title);else this.Settings.push(t.record);break;case 1:if(i){if(this.Skip_Template)for(let e of this.Settings)e.id===t.record.id&&(e.title=t.record.title,e.priority=t.record.priority);else for(let e of this.Settings)if(e.id===t.record.templateid){console.log("matched");for(let i of e.sections)i.id===t.record.id&&(i.title=t.record.title,i.priority=t.record.priority)}}else if(this.Skip_Template)this.Settings.push(t.record);else for(let e of this.Settings)e.id===t.record.templateid&&e.sections.push(t.record)}this.showLoader=!1,this.coreActions.Notify({title:"Record Saved",text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Record not Saved",text:"",css:"bg-danger"})})}RemoveTemplate(t,e,i){this.Settings.splice(e,1),this.dataService.DeleteTemplate([t],this.settingService.getApiOptions().delete_template),i.stopPropagation()}RemoveSection(t,e,i,s){e.splice(i,1),this.dataService.DeleteTemplate([t],this.settingService.getApiOptions().delete_section),s.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(Bt),d.Mb(Kt),d.Mb(B.a),d.Mb(p.a),d.Mb(o.a),d.Mb(qt),d.Mb(o.c),d.Mb(s.b))},t.\u0275cmp=d.Gb({type:t,selectors:[["app-dynamic-settings"]],hostVars:1,hostBindings:function(t,e){2&t&&d.Kc("@fadeInAnimation",void 0)},inputs:{Attr_Type:"Attr_Type",Skip_Template:"Skip_Template"},decls:8,vars:3,consts:[[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[4,"ngIf"],[1,"m-b-10","m-t-10"],[1,"btn","btn-primary",3,"click"],["style","padding:80px 0px;",4,"ngIf"],["class","card m-b-10",4,"ngFor","ngForOf"],[1,"card","m-b-10"],[1,"card-title"],[1,"card-text"],["class","m-b-10 text=center","style","padding:30px 0px;",4,"ngIf"],["href","#",1,"card-link",3,"click"],["href","#","class","card-link",3,"click",4,"ngIf"],[1,"m-b-10","text=center",2,"padding","30px 0px"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[4,"ngFor","ngForOf"],[1,"text-nowrap"],[3,"routerLink"],["aria-hidden","true",1,"fa","fa-database","text-inverse","m-r-10"],["href","#",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#",3,"click",4,"ngIf"],[1,"fa","fa-close","text-danger","m-r-10"],[2,"padding","80px 0px"],[2,"text-align","center"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"div",2),d.Sb(3,"h4",3),d.Gc(4),d.Rb(),d.Rb(),d.Sb(5,"div",4),d.Ec(6,Yt,1,0,"app-loader",5),d.Ec(7,de,3,2,"div",5),d.Rb(),d.Rb(),d.Rb()),2&t&&(d.zb(4),d.Hc(e.formHeading),d.zb(2),d.nc("ngIf",e.showLoader),d.zb(1),d.nc("ngIf",!e.showLoader))},directives:[n.o,T.a,n.n,o.e],encapsulation:2,data:{animation:[u.a]}}),t})(),he=(()=>{class t{constructor(){this.Attr_Type=3,this.Skip_Template=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:2,consts:[[3,"Attr_Type","Skip_Template"]],template:function(t,e){1&t&&d.Nb(0,"app-dynamic-settings",0),2&t&&d.nc("Attr_Type",e.Attr_Type)("Skip_Template",e.Skip_Template)},directives:[pe],encapsulation:2}),t})();function fe(t,e){1&t&&d.Nb(0,"app-loader")}function ge(t,e){1&t&&(d.Sb(0,"span",21),d.Gc(1,"Text Box"),d.Rb())}function ue(t,e){1&t&&(d.Sb(0,"span",21),d.Gc(1,"Text Area"),d.Rb())}function me(t,e){1&t&&(d.Sb(0,"span",22),d.Gc(1,"Drop Down"),d.Rb())}function Se(t,e){1&t&&(d.Sb(0,"span",23),d.Gc(1,"Check Box"),d.Rb())}function ve(t,e){1&t&&(d.Sb(0,"span",24),d.Gc(1,"Radio Button"),d.Rb())}function Re(t,e){1&t&&(d.Sb(0,"span",25),d.Gc(1,"Rich Text Area"),d.Rb())}function Ie(t,e){1&t&&(d.Sb(0,"span",25),d.Gc(1,"No"),d.Rb())}function ye(t,e){1&t&&(d.Sb(0,"span",21),d.Gc(1,"Yes"),d.Rb())}function Ae(t,e){1&t&&(d.Sb(0,"span",24),d.Gc(1,"String"),d.Rb())}function Oe(t,e){1&t&&(d.Sb(0,"span",24),d.Gc(1,"Number"),d.Rb())}function we(t,e){if(1&t){const t=d.Tb();d.Sb(0,"tr"),d.Sb(1,"td"),d.Gc(2),d.Rb(),d.Sb(3,"td"),d.Gc(4),d.Rb(),d.Sb(5,"td"),d.Sb(6,"div",12),d.Ec(7,ge,2,0,"span",13),d.Ec(8,ue,2,0,"span",13),d.Ec(9,me,2,0,"span",14),d.Ec(10,Se,2,0,"span",15),d.Ec(11,ve,2,0,"span",16),d.Ec(12,Re,2,0,"span",17),d.Rb(),d.Rb(),d.Sb(13,"td"),d.Gc(14),d.Rb(),d.Sb(15,"td"),d.Gc(16),d.Rb(),d.Sb(17,"td"),d.Sb(18,"div",12),d.Ec(19,Ie,2,0,"span",17),d.Ec(20,ye,2,0,"span",13),d.Rb(),d.Rb(),d.Sb(21,"td"),d.Sb(22,"div",12),d.Ec(23,Ae,2,0,"span",16),d.Ec(24,Oe,2,0,"span",16),d.Rb(),d.Rb(),d.Sb(25,"td"),d.Sb(26,"a",18),d.ec("click",(function(i){d.xc(t);const s=e.$implicit;return d.gc(3).EditAttribute(s,i),!1})),d.Nb(27,"i",19),d.Rb(),d.Sb(28,"a",18),d.ec("click",(function(i){d.xc(t);const s=e.$implicit,n=e.index;return d.gc(3).RemoveAttribute(s,n,i),!1})),d.Nb(29,"i",20),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=e.$implicit;d.zb(2),d.Ic(" ",t.title," "),d.zb(2),d.Ic(" ",t.value," "),d.zb(2),d.nc("ngSwitch",t.element_type),d.zb(1),d.nc("ngSwitchCase",0),d.zb(1),d.nc("ngSwitchCase",1),d.zb(1),d.nc("ngSwitchCase",2),d.zb(1),d.nc("ngSwitchCase",3),d.zb(1),d.nc("ngSwitchCase",4),d.zb(1),d.nc("ngSwitchCase",5),d.zb(2),d.Ic(" ",t.options," "),d.zb(2),d.Ic(" ",t.priority," "),d.zb(2),d.nc("ngSwitch",t.isrequired),d.zb(1),d.nc("ngSwitchCase",0),d.zb(1),d.nc("ngSwitchCase",1),d.zb(2),d.nc("ngSwitch",t.variable_type),d.zb(1),d.nc("ngSwitchCase",0),d.zb(1),d.nc("ngSwitchCase",1)}}function Te(t,e){if(1&t&&(d.Sb(0,"div"),d.Sb(1,"div",9),d.Sb(2,"table",10),d.Sb(3,"thead"),d.Sb(4,"tr"),d.Sb(5,"th"),d.Gc(6,"Title"),d.Rb(),d.Sb(7,"th"),d.Gc(8,"Placeholder"),d.Rb(),d.Sb(9,"th"),d.Gc(10,"Element"),d.Rb(),d.Sb(11,"th"),d.Gc(12,"Options"),d.Rb(),d.Sb(13,"th"),d.Gc(14,"Priority"),d.Rb(),d.Sb(15,"th"),d.Gc(16,"Required"),d.Rb(),d.Sb(17,"th"),d.Gc(18,"Type"),d.Rb(),d.Sb(19,"th"),d.Gc(20,"---"),d.Rb(),d.Rb(),d.Rb(),d.Sb(21,"tbody"),d.Ec(22,we,30,17,"tr",11),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&t){const t=d.gc(2);d.zb(22),d.nc("ngForOf",t.Attributes)}}function ze(t,e){1&t&&(d.Sb(0,"div",26),d.Sb(1,"h3",27),d.Gc(2,"No Attributes Found!"),d.Rb(),d.Rb())}function ke(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div"),d.Sb(1,"div",6),d.Sb(2,"button",7),d.ec("click",(function(){return d.xc(t),d.gc().AddAttribute()})),d.Gc(3," Add Attribute "),d.Rb(),d.Rb(),d.Ec(4,Te,23,1,"div",5),d.Ec(5,ze,3,0,"div",8),d.Rb()}if(2&t){const t=d.gc();d.zb(4),d.nc("ngIf",t.Attributes.length>0),d.zb(1),d.nc("ngIf",0===t.Attributes.length)}}let Ge=(()=>{class t{constructor(t,e,i){this.dataService=t,this.coreActions=e,this.modalService=i,this.Attr_Type=0,this.controls=[],this.showLoader=!1,this.formHeading="Manage Dynamic Attributes",this.Attributes=[],this.RecordID=0}ngOnInit(){this.RecordID>0&&this.LoadInfo()}LoadInfo(){this.showLoader=!0,this.dataService.LoadAttributes({sectionid:this.RecordID,nofilter:!0}).subscribe(t=>{this.Attributes=t.posts,this.showLoader=!1})}AddAttribute(){this._processTemplate({id:0,title:"",value:"",sectionid:this.RecordID,priority:0,options:"",attr_type:this.Attr_Type,element_type:0,isrequired:0,variable_type:0,min:0,max:0,icon:""},2,"Add Attribute")}EditAttribute(t,e){this._processTemplate(t,2,"Update Attribute"),e.stopPropagation()}RemoveAttribute(t,e,i){this.Attributes.splice(e,1),this.dataService.DeleteAttribute([t]),i.stopPropagation()}_processTemplate(t,e,i){const s=this.modalService.open(Vt,{backdrop:!1});s.componentInstance.Info={title:i,viewtype:e,data:t},s.result.then(t=>{let e="";for(let s of t.data.options)""!==s.value&&(""!==e&&(e+=","),e+=s.value);t.data.options=e,t.data.sectionid=this.RecordID,t.data.attr_type=this.Attr_Type;let i=!1;t.data.id>0&&(i=!0),this.UpdateDatabase(t.data,i)},t=>{console.log("dismissed")})}UpdateDatabase(t,e){this.showLoader=!0,this.dataService.AddAttribute(t).subscribe(t=>{if(e)for(let e of this.Attributes)e.id===t.record.id&&(e.title=t.record.title,e.options=t.record.options,e.value=t.record.value,e.priority=t.record.priority,e.isrequired=t.record.isrequired,e.variable_type=t.record.variable_type,e.element_type=t.record.element_type,e.helpblock=t.record.helpblock,e.icon=t.record.icon,e.min=t.record.min,e.max=t.record.max);else this.Attributes.push(t.record);this.coreActions.Notify({title:"Record Saved",text:"",css:"bg-success"}),this.showLoader=!1},t=>{this.coreActions.Notify({title:"Record not Saved",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(Kt),d.Mb(p.a),d.Mb(s.b))},t.\u0275cmp=d.Gb({type:t,selectors:[["app-dynamic-attributes"]],hostVars:1,hostBindings:function(t,e){2&t&&d.Kc("@fadeInAnimation",void 0)},inputs:{Attr_Type:"Attr_Type",RecordID:"RecordID"},decls:8,vars:3,consts:[[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[4,"ngIf"],[1,"m-b-10","m-t-10"],[1,"btn","btn-primary",3,"click"],["style","padding:80px 0px;",4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","badge badge-danger m-r-5 m-b-5",4,"ngSwitchCase"],["class","badge badge-warning m-r-5 m-b-5",4,"ngSwitchCase"],["class","badge badge-primary m-r-5 m-b-5",4,"ngSwitchCase"],["class","badge badge-info m-r-5 m-b-5",4,"ngSwitchCase"],["class","badge badge-success m-r-5 m-b-5",4,"ngSwitchCase"],["href","#",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],[1,"fa","fa-close","text-danger","m-r-10"],[1,"badge","badge-danger","m-r-5","m-b-5"],[1,"badge","badge-warning","m-r-5","m-b-5"],[1,"badge","badge-primary","m-r-5","m-b-5"],[1,"badge","badge-info","m-r-5","m-b-5"],[1,"badge","badge-success","m-r-5","m-b-5"],[2,"padding","80px 0px"],[2,"text-align","center"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"div",2),d.Sb(3,"h4",3),d.Gc(4),d.Rb(),d.Rb(),d.Sb(5,"div",4),d.Ec(6,fe,1,0,"app-loader",5),d.Ec(7,ke,6,2,"div",5),d.Rb(),d.Rb(),d.Rb()),2&t&&(d.zb(4),d.Hc(e.formHeading),d.zb(2),d.nc("ngIf",e.showLoader),d.zb(1),d.nc("ngIf",!e.showLoader))},directives:[n.o,T.a,n.n,n.p,n.q],encapsulation:2,data:{animation:[u.a]}}),t})(),xe=(()=>{class t{constructor(t,e){this.route=t,this.router=e,this.Attr_Type=3,this.RecordID=0}ngOnInit(){this.route.params.subscribe(t=>{this.RecordID=parseInt(t.id,10),isNaN(this.RecordID)&&(this.RecordID=0),0===this.RecordID&&this.router.navigate(["/users/settings"])})}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(o.a),d.Mb(o.c))},t.\u0275cmp=d.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:2,consts:[[3,"Attr_Type","RecordID"]],template:function(t,e){1&t&&d.Nb(0,"app-dynamic-attributes",0),2&t&&d.nc("Attr_Type",e.Attr_Type)("RecordID",e.RecordID)},directives:[Ge],encapsulation:2}),t})();var _e=i("o+qO");let Ee=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(e){return new(e||t)},providers:[m.a,l.a,b.a,h.a],imports:[[n.c,_e.a,c.i]]}),t})(),Le=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(e){return new(e||t)},providers:[Bt,qt,Kt],imports:[[n.c,_e.a,o.f,c.i,c.u]]}),t})(),Ce=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(e){return new(e||t)},imports:[[n.c,_e.a,c.i,o.f,Le]]}),t})(),Me=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(e){return new(e||t)},imports:[[n.c,_e.a,c.i,o.f,Le]]}),t})(),Fe=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(e){return new(e||t)},providers:[m.a,l.a,b.a,h.a],imports:[[n.c,_e.a,o.f,c.i,Mt.b]]}),t})();var Ne=i("fo5a");i.d(e,"UserModule",(function(){return je}));const $e=[{path:"",data:{title:"Member Management",urls:[{title:"Dashboard",url:"/"},{title:"Users",url:"/users"},{title:"Management"}]},component:V},{path:"profile/:id",data:{title:"User Profile",urls:[{title:"Dashboard",url:"/"},{title:"Users",url:"/users"},{title:"User profile"}]},component:Ct},{path:"reports",data:{title:"Report Overview",urls:[{title:"Dashboard",url:"/"},{title:"Users",url:"/users"},{title:"Report Overview"}]},component:Pt},{path:"attributes/:id",data:{title:"Manage User Profile Attributes",urls:[{title:"Dashboard",url:"/"},{title:"Users",url:"/users"},{title:"Settings",url:"/users/settings"},{title:"Manage User Profile Attributes"}]},component:xe},{path:"settings",data:{title:"Manage User Profile Settings",urls:[{title:"Dashboard",url:"/"},{title:"Users",url:"/users"},{title:"Settings"}]},component:he}];let je=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(e){return new(e||t)},imports:[[n.c,c.i,_e.a,Ee,Ce,Me,Fe,Ne.a,s.c,o.f.forChild($e)]]}),t})()}}]);